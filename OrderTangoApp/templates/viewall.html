{% extends 'administrationpanelbase.html' %}

{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/viewall.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/manualUploadForm.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'datatables/css/datatables.min.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'datatables/css/responsive.bootstrap4.min.css' %}"/>

<script type="text/javascript" src="{% static 'datatables/js/datatables.min.js' %}"></script>
<script type="text/javascript" src="{% static 'datatables/js/dataTables.responsive.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/script.js' %}"></script>
<style>
    .sampleModalPopup {
        max-width: 35%
    }
    #customerFileUpload {
        display: none;
    }
    .viewProdUpdateBtn,.viewProdBtn, .viewProdEditBtn,.viewProdRemoveBtn,.viewSupplierProdBtn,.viewCusProdUpdateBtn,.inviteBtn,.removeBtn,.activeBtn,.requestBtn, .addData, .addDataViaId, .addData:hover, .addDataViaId:hover {
        border: 0px;
        font-size:13px;
        border-radius: 5px;
        color: #ffffff;
        background-color: #984fa5;
        padding:5px;
        cursor: pointer;
        text-decoration: none
    }
    .priceTextBox{
        width: 80px !important;
        border: 1px solid #c9a6c0;
        border-radius: 8px !important;
        text-align: center;
    }
    .editProductSubmitBtn, .editProductSubmitBtn:hover, .profileUpdateButtonClass, .profileUpdateButtonClass:hover {
        background: #ffd500;
        color: #881999;
        font-weight: bold;
        border: 2px solid #881999;
    }
    .inviteBtn,.activeBtn,.requestBtn{
        width: 38.1% !important;
    }
    .mandatory {
        color: red
    }
    #submitProductBtn {
        margin-top: 10px;
        margin-bottom: -5px
    }
    .marginTop2Percent {
        margin-top: 2% !important
    }
    .discount, .absoluteDiscount, .actualSalesPrice {
        width: 80px !important;
        border: 1px solid #c9a6c0;
        border-radius: 8px !important;
        text-align: center;
    }
    @media (min-width:320px) and (max-width: 480px)  {
        .viewDataTable{
            width:130% !important;
        }
        .viewProductModaldia{
           max-width: 100% !important;
        }
        .paddingLeftRightTen{
           margin-left: 8px !important;
        }
        div.dataTables_wrapper div.dataTables_paginate ul.pagination {
            justify-content: unset !important;
        }
        .editProductModaldia{
            max-width: 100% !important;
        }
        .customerDetailsForm{
            width:300px !important;
        }
        .customerDetailsForm > input{
            width:135px !important;
        }
        .customerDetailsFormLabel{
            width:168px !important;
        }
        .commonFontSize {
            font-size: 14px !important;
            font-weight: normal !important
        }
    }
</style>
<div class="row headColor">
  <div class="col-md-2 col-sm-4 col-24" id="sideBarLeft">
        {% include "administrationpanelsidebar.html" %}
  </div>
  <div class="col-md-10 paddingLeftZero" id="bodyContent">
        <div class="row">
            <div class="col-md-2 col-sm-3 col-6 navTabClass navHeading" id="onBoardTab">
                <a href="{% url 'administrationpanel' %}" class="anchorlink " id="onBoardAnchor"><img src="{% static 'images/OnBoard.png' %}" class="sideBarIcons">Onboarding</a>
            </div>
        </div>
        <div class="row bgColor paddingLeftRightTen tab-content" id="tabContentRow">
            <div id="both" class="tab-pane active">
                <div class="row bgColor paddingLeftRightTen">
                  <ul class="col-md-4 nav nav-pills textAlignCenter" id="bothNavUL">
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_customer">
                        <a data-toggle="pill" href="#bothcustomer"><img src="{% static 'images/Customer.png' %}" class="sideBarIcons">Customer</a>
                    </li>
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab bothModuleTabActive" id="both_supplier">
                        <a data-toggle="pill" href="#bothsupplier"><img src="{% static 'images/Supplier.png' %}" class="sideBarIcons">Vendor</a>
                    </li>
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_product">
                        <a data-toggle="pill" href="#bothproduct"><img src="{% static 'images/Product.png' %}" class="sideBarIcons">Product</a>
                    </li>
                  </ul>
                  <div class="col-md-8 col-sm-12 bgColorModule" id="bothUploadOption">
                      <span class="moduleData" id="customerData">
                          <a class="addData" href="{% url 'administrationpanel' %}?module=customer&type=Manual" id="addCustomer"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Customer </a>&nbsp;
                          <a class="addData" href="{% url 'administrationpanel' %}?module=customer&type=Upload" id="uploadCustomers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Customers </a>&nbsp;
                          <a class="addDataViaId" href="#" id="addCustomerById"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add Customer By Id </a>
                      </span>
                      <span class="moduleData" id="supplierData">
                          <a class="addData" href="{% url 'administrationpanel' %}?module=vendor&type=Manual" id="addSupplier"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Vendor </a>&nbsp;
                          <a class="addData" href="{% url 'administrationpanel' %}?module=vendor&type=Upload" id="uploadSuppliers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Vendors </a>&nbsp;
                          <a class="addDataViaId" href="#" id="addSupplierById"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add Vendor By Id </a>
                      </span>
                      <span class="moduleData" id="productData">
                          <a class="addData" href="{% url 'administrationpanel' %}?module=product&type=Manual" id="addProduct"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Product </a>&nbsp;
                          <a class="addData" href="{% url 'administrationpanel' %}?module=product&type=Upload" id="uploadProducts"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Products </a>
                      </span>
                      <span class="input-group" id="searchOptionInputGroup">
                        <input type="text" id="searchOption">
                        <div class="input-group-append">
                          <span id="spanSearchIcon">
                            <i class="fa fa-search"></i>
                          </span>
                        </div>
                      </span>
                  </div>
                </div>
            </div>
        </div>
        <div class="row tableBgColor">
            <div class="col-md-12 col-sm-8 col-10" >
                <table class="table hover dt-responsive viewDataTable" id="viewDataTable" width="100%">
                     <thead>

                     </thead>
                 </table>
            </div>
        </div>
    </div>
  </div>
  {% include "rightsidebar.html" %}
<div class="overlay"></div>
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modalBorderClass">
          <div class="modal-header">
            <h5 class="modal-title modalTitleHead" id="exampleModalLongTitle">Change Domain Name</h5>
               <span id="modalCloseBtn">

              </span>
          </div>
           <div class="modal-body">
              <div id="success_msg" class="success_msg"> </div>
              <div id="error_msg" class="error_msg"> </div>
                <form role="form">
                    {% csrf_token %}
                    <div id="modalBody">

                    </div>
                </form>
          </div>
          <div class="modal-footer " id="modalFooter">

          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="sampleModalPopup" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered sampleModalPopup" role="document">
        <div class="modal-content modalBorderClass">
          <div class="modal-header">
            <h5 class="modal-title modalTitleHead" id="exampleModalTitle"></h5>
            <button type="button" class="close" id="popupCloseBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="samplePopupBodyContent">

          </div>
          <div class="modal-footer">
                <input type="button" id="submit" class="btn btn-primary modalBtnClass" data-dismiss="modal" aria-label="Close" value="Close">
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="testsample"><!-- Place at bottom of page --></div>

<div id="imageModel" class="modal" data-backdrop="static" data-keyboard="false" role="dialog" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
          <h4>Image upload</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>

      </div>
      <div class="modal-body">

         <form id="updateLogo"  method="post" enctype="multipart/form-data">
             {% csrf_token %}

         <input type="file" name="fileuploaddata" value="fileupload" id="fileuploaddata">
             <p style="font-size:13px;">allowed only Jpg,png formats below 5MB</p>
         <input type="text" name="" value="" id="idContainer">


        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" id="uploadImageSubmit" data-dismiss="modal">Submit</button>
      </div>
    </div>

  </div>
</div>
<!-- The Modal -->
<div class="modal" id="traderById" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog traderByIdModaldia">
    <div class="modal-content ">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title modalTitleHead" id="traderByIdModalTitle"></h4>
        <button type="button" class="close traderByIdModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row" >
            <div class="col-md-12 col-sm-3 col-6 formGroup " >
                <label class="fontWeightBold">Enter Company Code: </label> <input type="text" id="tradeByValue"/>
                <input type="hidden" id="typeTrader" />
            </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn modalBtnClass traderByIdModalsubmit" id="traderByIdModalsubmit" data-dismiss="modal">Submit</button>
      </div>

    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal" id="viewProductModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewProductModaldia">
    <div class="modal-content ">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="viewProductModalTitle"></h4>
        <button type="button" class="close viewProductModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row" >
            <div class="col-md-12 col-sm-3 col-6 " >
                <table class="table hover viewProductDataTable" id="viewProductDataTable">
                     <thead>

                     </thead>
                 </table>
            </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn viewProductModalClose" id="viewProductModalClose" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal" id="editProductModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog editProductModaldia">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="editProductModalTitle"></h4>
        <button type="button" class="close editProductModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row" >
            <div class="col-md-12 col-sm-3 col-6 " >
                <div class="col-md-12" id="productManualFormDiv">
                    <form class="post-form" id="editProductDetailsForm" role="form">
                        {% csrf_token %}
                        <div class="row">
                            <div class="offset-md-5">
                                   <h5 align="center"> Product </h5>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-6">

                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemName.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.itemName }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemCode.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.itemCode }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.alterItemName.label_tag }}</label>
                                            {{ itemMasterAddForm.alterItemName }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.alterItemCode.label_tag }}</label>
                                            {{ itemMasterAddForm.alterItemCode }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.brandName.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.brandName }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemDesc.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.itemDesc }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.packingUnit.label_tag }}</label>
                                            {{ itemMasterAddForm.packingUnit }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.manufacturingLeadTime.label_tag }}</label>
                                            {{ itemMasterAddForm.manufacturingLeadTime }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.articleType.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.articleType }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemCategory.label_tag }}</label>
                                            {{ itemMasterAddForm.itemCategory }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategory.label_tag }}</label>
                                            {{ itemMasterAddForm.itemMerchantCategory }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategoryOne.label_tag }}</label>
                                            {{ itemMasterAddForm.itemMerchantCategoryOne }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategoryTwo.label_tag }}</label>
                                            {{ itemMasterAddForm.itemMerchantCategoryTwo }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemStorageCondition.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.itemStorageCondition }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.baseUom.label_tag }}<span class="mandatory">*</span></label>
                                            {{ itemMasterAddForm.baseUom }}
                                </div>
                                 <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.selfManufacturing.label_tag }}</label>
                                            {{ itemMasterAddForm.selfManufacturing }}
                                </div>

                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{ itemMasterAddForm.productDetail.label_tag}}</label>
                                     {{ itemMasterAddForm.productDetail}}
                                </div>
                            </div>
                            </div>

                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Attribute </h5>
                                </div>
                            </div>

                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeColor.label_tag }}</label>
                                            {{ attributeForm.attributeColor }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeSize.label_tag }}</label>
                                            {{ attributeForm.attributeSize }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeDesign.label_tag }}</label>
                                            {{ attributeForm.attributeDesign }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeStyle.label_tag }}</label>
                                            {{ attributeForm.attributeStyle }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeOther.label_tag }}</label>
                                            {{ attributeForm.attributeOther }}
                                </div>
                            </div>
                            </div>
                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Purchase </h5>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingUom.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingUom }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingTax.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingTax }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingPrice.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingPrice }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingCurrency.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingCurrency }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingPriceUnit.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingPriceUnit }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingUomForKg.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingUomForKg }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingOrderText.label_tag }}<span class="mandatory">*</span></label>
                                            {{ purchasingForm.purchasingOrderText }}
                                </div>
                            </div>
                            </div>
                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Sales </h5>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesUom.label_tag }}<span class="mandatory">*</span></label>
                                            {{ salesForm.salesUom }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesTax.label_tag }}<span class="mandatory">*</span></label>
                                            {{ salesForm.salesTax }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesCategoryGrp.label_tag }}</label>
                                            {{ salesForm.salesCategoryGrp }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesOrderText.label_tag }}</label>
                                            {{ salesForm.salesOrderText }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesPrice.label_tag }}<span class="mandatory">*</span></label>
                                            {{ salesForm.salesPrice }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesCurrency.label_tag }}<span class="mandatory">*</span></label>
                                            {{ salesForm.salesCurrency }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesPriceUnit.label_tag }}</label>
                                            {{ salesForm.salesPriceUnit }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesUomForKg.label_tag }}</label>
                                            {{ salesForm.salesUomForKg }}
                                </div>
                            </div>
                            </div>
                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Measurement </h5>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementDimension.label_tag }}</label>
                                            {{ measurementForm.measurementDimension }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementDimensionUnit.label_tag }}</label>
                                            {{ measurementForm.measurementDimensionUnit }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementLength.label_tag }}</label>
                                            {{ measurementForm.measurementLength }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWidth.label_tag }}</label>
                                            {{ measurementForm.measurementWidth }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementHeight.label_tag }}</label>
                                            {{ measurementForm.measurementHeight }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWeight.label_tag }}</label>
                                            {{ measurementForm.measurementWeight }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWeightUnit.label_tag }}</label>
                                            {{ measurementForm.measurementWeightUnit }}
                                </div>
                            </div>
                            </div>
                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Storage </h5>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageShelfLife.label_tag }}</label>
                                            {{ storageForm.storageShelfLife }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageCase.label_tag }}</label>
                                            {{ storageForm.storageCase }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageTier.label_tag }}</label>
                                            {{ storageForm.storageTier }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storagePallet.label_tag }}</label>
                                            {{ storageForm.storagePallet }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageDept.label_tag }}</label>
                                            {{ storageForm.storageDept }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageRack.label_tag }}</label>
                                            {{ storageForm.storageRack }}
                                </div>
                            </div>
                            </div>
                            <div class="row">
                                <div class="offset-md-5">
                                       <h5 align="center"> Parameter </h5>
                                </div>
                            </div>
                            <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamOne.label_tag }}</label>
                                            {{ parameterForm.alterNateParamOne }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamTwo.label_tag }}</label>
                                            {{ parameterForm.alterNateParamTwo }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamThree.label_tag }}</label>
                                            {{ parameterForm.alterNateParamThree }}
                                </div>
                                <div class="form-group row customerDetailsForm">
                                 <label class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamFour.label_tag }}</label>
                                            {{ parameterForm.alterNateParamFour }}
                                </div>
                            </div>
                            </div>
                            <div class="row justify-content-center">
                               <button type="button" class="col-form-label customerDetailsFormLabel btn btn-primary editProductSubmitBtn" id="submitProductBtn">Update</button>
                            </div>
                    </form>
                </div>
            </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editProductModalClose" id="editProductModalClose" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>


<div class="modal" id="viewProfileModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewProfileModal" style="max-width: 60%;">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="viewProfileModalTitle"> Profile </h4>
        <button type="button" class="close viewProfileModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" id="profileModalBody">
        <div class="row" >
            <div class="col-md-12 col-sm-3 col-6 " >
                <div class="col-md-12" id="viewProfileModalFormDiv">
                    <form class="registrationform" id="updateProfileForm" role="form" method='POST'>

                        {% csrf_token %}
                        <div id="formsec1">
                          <div class="form-group row registrationformdiv">
                              <label class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.firstName.label_tag }}<span class="mandatory">*</span></label>
                            {{ profileForm.firstName }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3" id="firstNameError">{{ profileForm.firstName.errors }}</div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.lastName.label_tag }}<span class="mandatory">*</span></label>
                             {{ profileForm.lastName }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3" id="lastNameError">{{ profileForm.lastName.errors }} </div>
                        </div>
                        <div id="formsec2">

                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.country.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.country }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="countryError"> {{ companyProfileForm.country.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line1.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.address_Line1 }}
                            <label class="col-5 col-md-1 col-form-label unitlabel" id="unitlabel">Unit<span class="mandatory">*</span></label>
                             {{ companyProfileForm.unit1 }}
                            <p id="hyphen">-</p>
                            {{ companyProfileForm.unit2 }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="address1Error"> {{ companyProfileForm.address_Line1.errors }} </div>
                          <div class="form-group row registrationformdiv" id="addressTwoDiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line2.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.address_Line2 }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="address2Error"> {{ companyProfileForm.address_Line2.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.state.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.state }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="stateError"> {{ companyProfileForm.state.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.postalCode.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.postalCode }}

                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="postalCodeError"> {{ companyProfileForm.postalCode.errors }} </div>
                            <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.sec_question.label_tag }}<span class="mandatory">*</span></label>
                            {{ profileForm.sec_question }}

                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="secQuestionError"> {{ profileForm.sec_question.errors }} </div>
                            <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.sec_answer.label_tag }}<span class="mandatory">*</span></label>
                            {{ profileForm.sec_answer }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="secAnswerError"> {{ profileForm.sec_answer.errors }} </div>
                            <div class="col-12 offset-sm-4 col-md-6" id="submitBtnDiv">  <input type="submit" class="profileUpdateButtonClass" id="profileUpdateButton" value="Update"> </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editProductModalClose" id="editProductModalClose" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<div class="modal" id="confirmModalPopup" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered confirmModalPopup" role="document">
        <div class="modal-content modalBorderClass">
          <div class="modal-header">
            <h5 class="modal-title modalTitleHead" id="confirmModalPopupTitle"></h5>
            <button type="button" class="close" id="confirmModalPopupCloseBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
            <input type="hidden" id="dataId" value="">
            <input type="hidden" id="dataType" value="">
          <div class="modal-body" id="confirmModalPopupBodyContent">


          </div>
          <div class="modal-footer">
                <input type="button" id="confirmModalPopupSubmit" class="btn btn-primary modalBtnClass" data-dismiss="modal" aria-label="Close" value="Confirm">
                <input type="button" id="confirmModalPopupClose" class="btn btn-primary modalBtnClass" data-dismiss="modal" aria-label="Close" value="Close">
          </div>
        </div>
      </div>
    </div>

 <div class="modal" id="loader"><!-- Place at bottom of page --></div>

<script>

function maxLengthCheck(object) {
    if (object.value.length > object.maxLength)
      object.value = object.value.slice(0, object.maxLength)
  }

  function isNumeric (evt) {
    var theEvent = evt || window.event;
    var key = theEvent.keyCode || theEvent.which;
    key = String.fromCharCode (key);
    var regex = /[0-9]|\./;
    if ( !regex.test(key) ) {
      theEvent.returnValue = false;
      if(theEvent.preventDefault) theEvent.preventDefault();
    }
  }

            $body = $("body");
            $('#iconsec').on('click',function() {
                 $('#fileuploaddata').val(null);
                 $('#imageModel').show();
                    $('#imageModel').modal('toggle');

            });

             $('#profilePicture').on('click',function() {
              $('#fileuploaddata').val(null);
                $('#imageModel').modal('toggle');
                 $('#imageModel').show();

            });

            /* Hide the Onboard DropdownMenu in Sidebar Start */
            $('#onboardDropDown').hide();
            /* Hide the Onboard DropdownMenu in Sidebar End */

            /*$('#iconCompanyLogo').on('click',function() {
                $('#fileuploaddata').val(null);
                $('#idContainer').val('iconCompanyLogo');
                $('#imageModel').modal('toggle');
                $('#imageModel').show();
            });*/

            $('#slide-submenu').on('click',function() {
                $(this).closest('.list-group').fadeOut('slide',function(){
                    $('.mini-submenu').fadeIn();
                });
            });

            $('.moduleData').hide();
            $('#supplierData').show();

        $(document).ready(function() {

         var viewDataTable = $('#viewDataTable').DataTable( {"bFilter": false,
                    "lengthChange": false,
                    "targets": 'no-sort',
                    "bSort": false,
                    "info": false,
                    "searching": true,
                    "order": [],
                    "pagingType": "full_numbers",
                    language: {
                            paginate: {
                                previous: false,
                                next: false,
                                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
                    "columns": [
                            { "title": "S.No" },
                            { "title": "Company Name" },
                            { "title": "Contact No"},
                            { "title": "Email"},
                            { "title": "Action"}

                        ],
                        responsive: {
                            details: {
                                renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                            }
                        }
                        });
                    //new $.fn.dataTable.FixedHeader( viewDataTable );


           function pullCusTable(addCusDataList,type){
            viewDataTable.clear().draw();
            if(type == "customer"){
                viewDataTable.destroy();
		        $('#viewDataTable').empty();
                viewDataTable = $('#viewDataTable').DataTable( {"bFilter": false,
                    "lengthChange": false,
                    "targets": 'no-sort',
                    "bSort": false,
                    "info": false,
                    "searching": true,
                    "order": [],
                    "pagingType": "full_numbers",
                    language: {
                            paginate: {
                                previous: false,
                                next: false,
                                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
                    "columns": [
                            { "title": "S.No" },
                            { "title": "Company Name" },
                            { "title": "Contact No"},
                            { "title": "Email"},
                            { "title": "Action"}

                        ],
                     columnDefs: [
                             { "width": "2%", "targets": 0 },
                             { "width": "20%", "targets": 1 },
                             { "width": "20%", "targets": 2 },
                             { "width": "28%", "targets": 3 },
                             { "width": "30%", "targets": 4 },

                        ],
                      responsive: {
                        details: {
                            renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                        }
                    }
                          });
               if (addCusDataList.length > 0) {
                 $('#viewDataTable_paginate').show();
                 $.each(addCusDataList, function( index, value ) {
                   var sno = index+1;
                    if(value.relationshipStatus == true){
                         var action = "<input class='viewProdBtn' id='"+value.cusCompanyName+"_"+value.customerId+"_"+type+"' type='button' value='Product'> <input class='activeBtn establishedBtn' id='"+value.cusEmail+"' type='button' value='Established'> <input class='removeBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Remove'>";
                    }
                    else{
                        if(value.invitationStatus == 0){
                           var action = "<input class='viewProdBtn' id='"+value.cusCompanyName+"_"+value.customerId+"_"+type+"' type='button' value='Product'> <input class='inviteBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Invite'> <input class='removeBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Remove'>";

                        }else if(value.invitationStatus == 1){
                            var action = "<input class='viewProdBtn' id='"+value.cusCompanyName+"_"+value.customerId+"_"+type+"' type='button' value='Product'> <input class='inviteBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Connect'> <input class='removeBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Remove'>";
                        }
                        else if(value.invitationStatus == 2){
                            var action = "<input class='viewProdBtn' id='"+value.cusCompanyName+"_"+value.customerId+"_"+type+"' type='button' value='Product'> <input class='requestBtn pendingBtn' id='"+value.cusEmail+"' type='button' value='Pending'> <input class='removeBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Remove'>";
                        }
                        else{
                            var action = "<input class='viewProdBtn' id='"+value.cusCompanyName+"_"+value.customerId+"_"+type+"' type='button' value='Product'> <input class='requestBtn rejectedBtn' id='"+value.cusEmail+"' type='button' value='Rejected'> <input class='removeBtn' id='"+type+"_"+value.cusEmail+"' type='button' value='Remove'>";
                        }
                    }

                   viewDataTable.row.add([sno,value.cusCompanyName,"+"+value.cusCountryCode__countryCodeType+"-"+ value.cusContactNo,value.cusEmail,action]).draw();
                 });
             }
             else {
                $('#viewDataTable_paginate').hide();
             }
           }
           else if(type == "supplier"){
                viewDataTable.destroy();
		        $('#viewDataTable').empty();

                viewDataTable = $('#viewDataTable').DataTable( {"bFilter": false,
                    "lengthChange": false,
                    "targets": 'no-sort',
                    "bSort": false,
                    "info": false,
                    "searching": true,
                    "order": [],
                    "pagingType": "full_numbers",
                    language: {
                            paginate: {
                                previous: false,
                                next: false,
                                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
                    "columns": [
                            { "title": "S.No" },
                            { "title": "Company Name" },
                            { "title": "Contact No"},
                            { "title": "Email"},
                            { "title": "Action"}

                        ],
                     columnDefs: [
                             { "width": "2%", "targets": 0 },
                             { "width": "20%", "targets": 1 },
                             { "width": "20%", "targets": 2 },
                             { "width": "28%", "targets": 3 },
                             { "width": "30%", "targets": 4 },

                        ],
                   responsive: {
                        details: {
                            renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                        }
                    }
                           });
           if (addCusDataList.length > 0) {
           $('#viewDataTable_paginate').show();
             $.each(addCusDataList, function( index, value ) {
             var sno = index+1;
             if(value.relationshipStatus == true){
                     var action = "<input class='viewSupplierProdBtn' id='"+value.supCompanyName+"_"+value.supplierId+"_"+type+"' type='button' value='Product'> <input class='activeBtn establishedBtn' id='"+value.supEmail+"' type='button' value='Established'> <input class='removeBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Remove'>";
                }
             else{
                if(value.invitationStatus == 0){
                    var action = "<input class='viewSupplierProdBtn' id='"+value.supCompanyName+"_"+value.supplierId+"_"+type+"' type='button' value='Product'> <input class='inviteBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Invite'> <input class='removeBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Remove'>";
                }else if(value.invitationStatus == 1){
                 var action = "<input class='viewSupplierProdBtn' id='"+value.supCompanyName+"_"+value.supplierId+"_"+type+"' type='button' value='Product'> <input class='inviteBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Connect'> <input class='removeBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Remove'>";
                }else if(value.invitationStatus == 2){
                 var action = "<input class='viewSupplierProdBtn' id='"+value.supCompanyName+"_"+value.supplierId+"_"+type+"' type='button' value='Product'> <input class='requestBtn pendingBtn' id='"+value.supEmail+"' type='button' value='Pending'> <input class='removeBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Remove'>";
                }
                else{
                    var action = "<input class='viewSupplierProdBtn' id='"+value.supCompanyName+"_"+value.supplierId+"_"+type+"' type='button' value='Product'> <input class='requestBtn rejectedBtn' id='"+value.supEmail+"' type='button' value='Rejected'> <input class='removeBtn' id='"+type+"_"+value.supEmail+"' type='button' value='Remove'>";
                }
              }

               viewDataTable.row.add([sno,value.supCompanyName,"+"+value.supCountryCode__countryCodeType+"-"+ value.supContactNo,value.supEmail,action]).draw();
             });
            }
            else {
                $('#viewDataTable_paginate').hide();
            }
           }

           else if(type == "product"){
            viewDataTable.destroy();
		    $('#viewDataTable').empty();
            viewDataTable = $('#viewDataTable').DataTable( {"bFilter": false,
                    "lengthChange": false,
                    "targets": 'no-sort',
                    "bSort": false,
                    "info": false,
                    "searching": true,
                    "order": [],
                    "pagingType": "full_numbers",
                    language: {
                            paginate: {
                                previous: false,
                                next: false,
                                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
                    "columns": [
                            { "title": "S.No" },
                            { "title": "Product Code" },
                            { "title": "Product Name"},
                            { "title": "Brand Name"},
                            { "title": "UOM"},
                            { "title": "Article Type"},
                            { "title": "Action"}
                        ],
                    columnDefs: [
                             { "width": "2%", "targets": 0 },
                             { "width": "18%", "targets": 1 },
                             { "width": "20%", "targets": 2 },
                             { "width": "18%", "targets": 3 },
                             { "width": "10%", "targets": 4 },
                             { "width": "11%", "targets": 5 },
                             { "width": "20%", "targets": 6 },
                    ],
                responsive: {
                    details: {
                        renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                    }
                }
                    });
            if (addCusDataList.length > 0) {
             $('#viewDataTable_paginate').show();
             $.each(addCusDataList, function( index, value ) {
              var sno = index+1;
              var action = "<input class='viewProdEditBtn' id='"+value.itemCode+"_"+type+"' type='button' value='Edit'> <input class='removeBtn' id='"+type+"_"+value.itemCode+"' type='button' value='Remove'>";
              //var action = " <input class='removeBtn' id='"+type+"_"+value.itemCode+"' type='button' value='Remove'>";
               //var price = "<input class='priceTextBox' id='"+value.itemCode+"' type='text' value='"+value.price+"'>";
               viewDataTable.column( 5 ).visible( true );
               viewDataTable.row.add([sno,value.itemCode,value.itemName,value.brandName,value.baseUom__quantityTypeCode,value.articleType__articleName,action]).draw();
             });
            }
            else {
                $('#viewDataTable_paginate').hide();
            }
           }

           }

            /* Customize search option for DataTable Start */
                $('#searchOption').on( 'keyup', function () {
                      $('#viewDataTable').DataTable().search(this.value).draw();
                });
            /* Customize search option for DataTable End */

           var data = {"type":"supplier"};
            $.ajax({
              url: "/viewSupplier",
              type: "POST",
              dataType : "json",
              contentType : "application/json",
              data: JSON.stringify(data),
              success: function (result)
              {
                var data = result;
                if (data.status == 'success') {
                 addCusTableList = data.totalItems[0].totalItem;
                 pullCusTable(addCusTableList,"supplier");
               }
               else if (data.status == 'error' && data.error_msg != 'sessionexpired'){
                 addCusTableList = [];
                 pullCusTable(addCusTableList,"supplier");
                 hideShowUploadOption("supplier");
               }
              }
            });

             var viewProductDataTable = $('#viewProductDataTable').DataTable( {"bFilter": false,
                            "lengthChange": false,
                            "targets": 'no-sort',
                            "bSort": false,
                            "info": false,
                            "searching": true,
                            "order": [],
                            "pagingType": "full_numbers",
                            language: {
                                    paginate: {
                                        previous: false,
                                        next: false,
                                        first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                        last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                    }
                                },
                            "columns": [
                                    { "title": "S.No" },
                                    { "title": "Product Code" },
                                    { "title": "Product Name"},
                                    { "title": "Category"},
                                    { "title": "UOM"},
                                    { "title": "Price"},
                                    { "title": "Action"}

                                ],
                            columnDefs: [
                                     { "width": "5%", "targets": 0 },
                                     { "width": "15%", "targets": 1 },
                                     { "width": "25%", "targets": 2 },
                                     { "width": "20%", "targets": 3 },
                                     { "width": "10%", "targets": 4 },
                                     { "width": "10%", "targets": 5 },
                                     { "width": "19%", "targets": 6 },
                            ],
                        responsive: {
                                details: {
                                    renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                                }
                            }
                            });

             $(document).on('click', '.viewProdBtn', function() {

                 var id = $(this).attr('id');
                  var splitId = id.split("_");
                  var companyName = splitId[0];
                  var relId = splitId[1];
                  var type = splitId[2];

                 var data = {"relId":relId,'type':type};
                $.ajax({
                  url: "/viewCustomerOrSupplierProducts",
                  type: "POST",
                  dataType : "json",
                  contentType : "application/json",
                  data: JSON.stringify(data),
                  success: function (result)
                  {
                    var data = result;

                  if (data.status == 'success') {
                    PermissionList = data.totalItems[0].totalItem;
                         viewProductDataTable.destroy();
                         $('#viewProductModalTitle').empty();
                         $('#viewProductDataTable').empty();
                         viewProductDataTable.clear().draw();
                         viewProductDataTable = $('#viewProductDataTable').DataTable( {"bFilter": false,
                             "lengthChange": false,
                            "targets": 'no-sort',
                            "bSort": false,
                            "info": false,
                            "searching": true,
                            "order": [],
                            "pagingType": "full_numbers",
                            language: {
                                    paginate: {
                                        previous: false,
                                        next: false,
                                        first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                        last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                    }
                                },
                            "columns": [
                                    { "title": "S.No" },
                                    { "title": "Product Code" },
                                    { "title": "Product Name"},
                                    { "title": "UOM"},
                                    { "title": "Sales Price"},
                                    { "title": "Discount"},
                                    { "title": "Absolute Discount"},
                                    { "title": "Actual Price"},
                                    { "title": "Action"},

                                ],
                            columnDefs: [
                                     { "width": "4%", "targets": 0 },
                                     { "width": "12%", "targets": 1 },
                                     { "width": "12%", "targets": 2 },
                                     { "width": "15%", "targets": 3 },
                                     { "width": "12%", "targets": 4 },
                                     { "width": "12%", "targets": 5 },
                                     { "width": "15%", "targets": 7 },
                                     { "width": "18%", "targets": 8 },
                            ],
                        responsive: {
                                details: {
                                    renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                                }
                            }
                            });

                         $.each(PermissionList, function( index, value ) {
                         var sno = index+1;
                           //var action = "<input class='viewCusProdUpdateBtn' id='"+value.itemCode+"_"+splitId[1]+"_"+type+"' type='button' value='Update'>&nbsp;<input class='viewProdRemoveBtn' id='"+value.itemCode+"_"+relId+"_"+type+"_"+companyName+"' type='button' value='Remove'>";
                            var discount = "<input class='discount' name='discount' id='discount_"+value.itemCode+"_"+value.salesPrice+"_"+value.salesCurrency__currencyTypeCode+"' value='"+value.discountPercentage+"' type='number' min='0' max='99' maxlength = '2' onkeypress='return isNumeric(event)' oninput='maxLengthCheck(this)'><span>%</span>";
                            var actualSalesPrice = "<input class='actualSalesPrice' name='actualSalesPrice' id='actualSalesPrice_"+value.itemCode+"' value='"+value.salesPrice+" "+value.salesCurrency__currencyTypeCode+"' type='text' readonly>";
                            var absoluteDiscount = "<input class='absoluteDiscount' name='absoluteDiscount' id='absoluteDiscount_"+value.itemCode+"_"+value.salesPrice+"_"+value.salesCurrency__currencyTypeCode+"' value='"+value.discountAbsolute+"' type='number'><span>"+value.salesCurrency__currencyTypeCode+"</span>";
                           var action = "<input class='viewProdUpdateBtn' id='"+value.itemCode+"_"+relId+"_"+value.salesPrice+"_"+value.salesCurrency__currencyTypeCode+"' type='button' value='Update'> <input class='viewProdRemoveBtn' id='"+value.itemCode+"_"+relId+"_"+type+"' type='button' value='Remove'>";

                           viewProductDataTable.row.add([sno,value.itemCode,value.itemName,value.salesUom__quantityTypeCode,value.salesPrice+" "+value.salesCurrency__currencyTypeCode,discount,absoluteDiscount,actualSalesPrice,action]).draw();
                         });
                        $('#viewProductModalTitle').append(splitId[0]);
                         $('.modal-dialog').css('max-width','90%');
                         $('table.dataTable').css('width','100%');
                         $('#viewProductModal').modal('show');
                  }
                  else {
                        alert('No Product Assigned');
                  }
                  }
                });
             });



$(document).on('change', '.discount', function() {
    var discountId=$(this).attr('id');
    var disVal = $('#'+discountId).val();
    var float = disVal/100;
    var result = discountId.split('_');
    var actualSalesPrice = $('#actualSalesPrice_'+result[1]).val();
    var actualSalesPriceRes = actualSalesPrice.split(' ');
    var salesPrice = result[2];
    var res = float*salesPrice;
    var actRes = salesPrice - res;
    var absoluteDisVal = $('#absoluteDiscount_'+result[1]+'_'+result[2]+'_'+result[3]).val();
    if (absoluteDisVal != ''){
        var actVal = parseFloat(actRes)-parseFloat(absoluteDisVal);
        var roundedString = actVal.toFixed(2);
        var rounded = Number(roundedString);

        if(absoluteDisVal < actRes){
            $('#actualSalesPrice_'+result[1]).empty();
            $('#actualSalesPrice_'+result[1]).val(rounded+" "+result[3]);
        }
        else{
            $('#absoluteDiscount_'+result[1]+'_'+result[2]+'_'+result[3]).val('');
            $('#absoluteDiscount_'+result[1]+'_'+result[2]+'_'+result[3]).focus();
            var actVal = parseFloat(actRes);
            var roundedString = actVal.toFixed(2);
            var rounded = Number(roundedString);
            $('#actualSalesPrice_'+result[1]).empty();
            $('#actualSalesPrice_'+result[1]).val(rounded+" "+result[3]);
            alert('Absolute Discount Should be lessor than Actual price ');
            return false;
        }
        }

    else{
        var roundedString = actRes.toFixed(2);
        var rounded = Number(roundedString);
        $('#actualSalesPrice_'+result[1]).empty();
        $('#actualSalesPrice_'+result[1]).val(rounded+" "+result[3]);
    }

});

$(document).on('change', '.absoluteDiscount', function() {
    var discountId=$(this).attr('id');
    var result = discountId.split('_');
    var absoluteDisVal = $('#'+discountId).val();
    var actualSalesPrice = $('#actualSalesPrice_'+result[1]).val();
    var actualSalesPriceRes = actualSalesPrice.split(' ');
    var disVal = $('#discount_'+result[1]+'_'+result[2]+'_'+result[3]).val();
    if (disVal != ''){
            var float = disVal/100;
            var salesPrice = result[2];
            var res = float*salesPrice;
            var actRes = salesPrice - res;
            var actVal = parseFloat(actRes)-parseFloat(absoluteDisVal);
            var roundedString = actVal.toFixed(2);
            var rounded = Number(roundedString);
        if(absoluteDisVal < actRes){
            $('#actualSalesPrice_'+result[1]).empty();
            $('#actualSalesPrice_'+result[1]).val(rounded+" "+result[3]);
        }
        else{
            $('#'+discountId).val('');
            $('#'+discountId).focus();
            alert('Absolute Discount Should be lessor than Actual price ');
            return false;
        }
    }
    else{
        var salesPrice = result[2];
        var actVal = parseFloat(salesPrice)-parseFloat(absoluteDisVal);
        var roundedString = actVal.toFixed(2);
        var rounded = Number(roundedString);
        $('#actualSalesPrice_'+result[1]).empty();
        $('#actualSalesPrice_'+result[1]).val(rounded+" "+result[3]);
    }

});



             $(document).on('click', '.viewSupplierProdBtn', function() {
                 var id = $(this).attr('id');
                  var splitId = id.split("_");
                  var relId = splitId[1];
                  var type = splitId[2];
                 var data = {"relId":relId,'type':type};
                $.ajax({
                  url: "/viewCustomerOrSupplierProducts",
                  type: "POST",
                  dataType : "json",
                  contentType : "application/json",
                  data: JSON.stringify(data),
                  success: function (result)
                  {
                    var data = result;

                  if (data.status == 'success') {
                    PermissionList = data.totalItems[0].totalItem;
                    console.log(PermissionList);
                        viewProductDataTable.destroy();
		                $('#viewProductDataTable').empty();
                        viewProductDataTable.clear().draw();
                        viewProductDataTable = $('#viewProductDataTable').DataTable( {"bFilter": false,
                            "lengthChange": false,
                            "targets": 'no-sort',
                            "bSort": false,
                            "info": false,
                            "searching": true,
                            "order": [],
                            "pagingType": "full_numbers",
                            language: {
                                    paginate: {
                                        previous: false,
                                        next: false,
                                        first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                                        last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                    }
                                },
                                    "columns": [
                                            { "title": "S.No" },
                                            { "title": "Product code" },
                                            { "title": "Product Name"},
                                            { "title": "UOM"},
                                            { "title": "Price"},
                                            { "title": "Discount Price"},
                                            { "title": "Status"},


                                        ],
                                    columnDefs: [
                                             { "width": "5%", "targets": 0 },
                                             { "width": "25%", "targets": 1 },
                                             { "width": "25%", "targets": 2 },
                                             { "width": "10%", "targets": 3 },
                                             { "width": "12%", "targets": 4 },
                                             { "width": "12%", "targets": 5 },
                                             { "width": "10%", "targets": 6 },
                                    ],
                                    responsive: {
                                        details: {
                                            renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                                        }
                                    }
                                    });
                         $('#viewProductModalTitle').empty();
                         $.each(PermissionList, function( index, value ) {
                         var sno = index+1;
                         if(value.linked != true){
                            var status = 'Not Linked';
                         }
                         else{
                            var status = 'Linked';
                         }
                            viewProductDataTable.row.add([sno,value.itemCode,value.itemName,value.purchaseUom__quantityTypeCode,value.purchasePrice+" "+value.purchaseCurrency__currencyTypeCode,value.discountPrice+" "+value.purchaseCurrency__currencyTypeCode,status]).draw();
                         });
                        $('#viewProductModalTitle').append(splitId[0]);
                         $('.modal-dialog').css('max-width','90%');
                         $('table.dataTable').css('width','100%');
                         $('#viewProductModal').modal('toggle');
                         $('#viewProductModal').show();
                  }
                  else {
                        alert('No Product Assigned');

                  }
                  }
                });
             });

             $(document).on('click', '.viewCusProdUpdateBtn', function() {
                 var id = $(this).attr('id');
                 var splitData = id.split("_");
                 var itemCode = splitData[0];
                 var relId = splitData[1];
                 var type = splitData[2];
                 var price = $('#price'+splitData[0]).val();
                 var data = {"relId":relId,"itemCode":itemCode,"type":type,'price':price};
                 $.ajax({
                      url: "/updateProductDetails",
                      type: "POST",
                      dataType : "json",
                      contentType : "application/json",
                      data: JSON.stringify(data),
                      success: function (result)
                      {
                        var data = result;
                        if (data.status == 'success') {
                        alert(data.success_msg);

                      }

                      }
                });
             });


            $(document).on('click', '.viewProdUpdateBtn', function() {
                 var id = $(this).attr('id');
                 var splitData = id.split("_");
                 var itemCode = splitData[0];
                 var relId = splitData[1];
                 var salesPrice = splitData[2];
                 var salesCurrency = splitData[3];
                 var discount;
                 var absoluteDiscount;

                var actualSalesPrice = $('#actualSalesPrice_'+splitData[0]).val();
                var actualSalesPriceRes = actualSalesPrice.split(' ');

                if($('#discount_'+itemCode+'_'+salesPrice+'_'+salesCurrency).val() == ''){
                    discount = 0;
                }
                else{
                    discount = $('#discount_'+itemCode+'_'+salesPrice+'_'+salesCurrency).val();
                }
                if($('#absoluteDiscount_'+itemCode+'_'+salesPrice+'_'+salesCurrency).val() == ''){
                    absoluteDiscount = 0;
                }
                else{
                    absoluteDiscount = $('#absoluteDiscount_'+itemCode+'_'+salesPrice+'_'+salesCurrency).val();
                }
                 var data = {"cusId":relId,"itemCode":itemCode,"discountPercentage":discount,"discountAbsolute":absoluteDiscount,"discountPrice":actualSalesPriceRes[0]};
                 $.ajax({
                      url: "/updateProductAssigntoCustomer",
                      type: "POST",
                      dataType : "json",
                      contentType : "application/json",
                      data: JSON.stringify(data),
                      success: function (result)
                      {
                        var data = result;
                        if (data.status == 'success') {
                            alert('Success');
                        }
                      }
                });
             });


             $(document).on('click', '.viewProdRemoveBtn', function() {
                 var id = $(this).attr('id');
                 var splitData = id.split("_");
                 var itemCode = splitData[0];
                 var relId = splitData[1];
                 var type = splitData[2];
                 var companyName = splitData[3];
                 var data = {"relId":relId,"itemCode":itemCode};
                 $.ajax({
                      url: "/itemRemoveForCustomer",
                      type: "POST",
                      dataType : "json",
                      contentType : "application/json",
                      data: JSON.stringify(data),
                      success: function (result)
                      {
                        var data = result;
                        if (data.status == 'success') {
                            alert(data.success_msg);
                            var data = {"relId":relId,'type':type};
                            $.ajax({
                              url: "/viewCustomerOrSupplierProducts",
                              type: "POST",
                              dataType : "json",
                              contentType : "application/json",
                              data: JSON.stringify(data),
                              success: function (result)
                              {
                                var data = result;

                              if (data.status == 'success') {
                                PermissionList = data.totalItems[0].totalItem;
                                     $('#viewProductModalTitle').empty();
                                     viewProductDataTable.clear().draw();
                                     $.each(PermissionList, function( index, value ) {
                                     var sno = index+1;
                                       var action = "<input class='viewCusProdUpdateBtn' id='"+value.itemCode+"_"+relId+"_"+type+"' type='button' value='Update'>&nbsp;<input class='viewProdRemoveBtn' id='"+value.itemCode+"_"+relId+"_"+type+"_"+companyName+"' type='button' value='Remove'>";
                                       var price = "<input class='priceTextBox' id='price"+value.itemCode+"' type='text' value='"+value.price+"'>";
                                       viewProductDataTable.row.add([sno,value.itemCode,value.itemName,value.itemCategory,value.uOm__type,price+" "+value.priceUnit__type,action]).draw();
                                     });
                                    $('#viewProductModalTitle').append(companyName);
                                     $('.modal-dialog').css('max-width','90%');
                                     $('table.dataTable').css('width','100%');
                                     $('#viewProductModal').modal('show');
                              }
                              else {
                                    alert('No Product Assigned');
                                        location.reload();
                                }
                              }
                            });

                        }
                      }
                });
             });

             $(document).on('click', '.viewProdEditBtn', function() {
                 var id = $(this).attr('id');
                 var splitId = id.split("_");
                  var itemCode = splitId[0];
                  var type = splitId[1];
                 var data = {"itemCode":itemCode,"type":type};
                 $.ajax({
                  url: "/viewCustomerOrSupplierProducts",
                  type: "POST",
                  dataType : "json",
                  contentType : "application/json",
                  data: JSON.stringify(data),
                  success: function (result)
                  {
                    var data = result;
                    if (data.status == 'success') {
                    prodTableList = data.totalItems[0].totalItem;
                    console.log(prodTableList);
                    $.each(prodTableList, function( index, value ) {
                        $('#pitemCode').val(value.itemCode);
                        $('#pitemName').val(value.itemName);
                        $('#pitemDesc').val(value.itemDesc);
                        $('#palterItemName').val(value.alterItemName);
                        $('#palterItemCode').val(value.alterItemCode);
                        $('#pbrandName').val(value.brandName);
                        $('#ppackingUnit').val(value.packingUnit);
                        $('#pmanufacturingLeadTime').val(value.manufacturingLeadTime);
                        $('#particleType').find('option[value="'+value.articleType__articleId+'"]').attr("selected",true);
                        $('#pitemCategory').find('option[value="'+value.itemCategory+'"]').attr("selected",true);
                        $('#pitemMerchantCategory').find('option[value="'+value.itemMerchantCategory+'"]').attr("selected",true);
                        $('#pitemMerchantCategoryOne').find('option[value="'+value.itemMerchantCategoryOne+'"]').attr("selected",true);
                        $('#pitemMerchantCategoryTwo').find('option[value="'+value.itemMerchantCategoryTwo+'"]').attr("selected",true);
                        $('#pitemStorageCondition').find('option[value="'+value.itemStorageCondition+'"]').attr("selected",true);
                        $('#pbaseUom').find('option[value="'+value.baseUom+'"]').attr("selected",true);
                        $('#pselfManufacturing').prop('checked', value.selfManufacturing);
                        $('#pproductDetail').val(value.productDetail);
                        $('#pattributeColor').val(value.attributeItem__attributeColor);
                        $('#pattributeStyle').val(value.attributeItem__attributeStyle);
                        $('#pattributeSize').val(value.attributeItem__attributeSize);
                        $('#pattributeOther').val(value.attributeItem__attributeOther);
                        $('#pattributeDesign').val(value.attributeItem__attributeDesign);
                        $('#ppurchasingUom').find('option[value="'+value.purchasingItem__purchasingUom+'"]').attr("selected",true);
                        $('#ppurchasingTax').find('option[value="'+value.purchasingItem__purchasingTax+'"]').attr("selected",true);
                        $('#ppurchasingPrice').val(value.purchasingItem__purchasingPrice);
                        $('#ppurchasingCurrency').find('option[value="'+value.purchasingItem__purchasingCurrency+'"]').attr("selected",true);
                        $('#ppurchasingPriceUnit').val(value.purchasingItem__purchasingPriceUnit);
                        $('#ppurchasingUomForKg').find('option[value="'+value.purchasingItem__purchasingUomForKg+'"]').attr("selected",true);
                        $('#ppurchasingOrderText').val(value.purchasingItem__purchasingOrderText);
                        $('#psalesUom').find('option[value="'+value.salesItem__salesUom+'"]').attr("selected",true);
                        $('#psalesTax').find('option[value="'+value.salesItem__salesTax+'"]').attr("selected",true);
                        $('#psalesCategoryGrp').val(value.salesItem__salesCategoryGrp);
                        $('#psalesOrderText').val(value.salesItem__salesOrderText);
                        $('#psalesPrice').val(value.salesItem__salesPrice);
                        $('#psalesCurrency').find('option[value="'+value.salesItem__salesCurrency+'"]').attr("selected",true);
                        $('#psalesPriceUnit').val(value.salesItem__salesPriceUnit);
                        $('#psalesUomForKg').find('option[value="'+value.salesItem__salesUomForKg+'"]').attr("selected",true);
                        $('#pmeasurementDimension').val(value.measurementItem__measurementDimension);
                        $('#pmeasurementDimensionUnit').find('option[value="'+value.measurementItem__measurementDimensionUnit+'"]').attr("selected",true);
                        $('#pmeasurementLength').val(value.measurementItem__measurementLength);
                        $('#pmeasurementWidth').val(value.measurementItem__measurementWidth);
                        $('#pmeasurementHeight').val(value.measurementItem__measurementHeight);
                        $('#pmeasurementWeight').val(value.measurementItem__measurementWeight);
                        $('#pmeasurementWeightUnit').find('option[value="'+value.measurementItem__measurementWeightUnit+'"]').attr("selected",true);
                        $('#pstorageShelfLife').val(value.storageItem__storageShelfLife);
                        $('#pstorageCase').val(value.storageItem__storageCase);
                        $('#pstorageTier').val(value.storageItem__storageTier);
                        $('#pstoragePallet').val(value.storageItem__storagePallet);
                        $('#pstorageDept').find('option[value="'+value.storageItem__storageDept+'"]').attr("selected",true);
                        $('#pstorageRack').val(value.measurementItem__measurementWeight);
                        $('#palterNateParamOne').val(value.parameterItem__alterNateParamOne);
                        $('#palterNateParamTwo').val(value.parameterItem__alterNateParamTwo);
                        $('#palterNateParamThree').val(value.parameterItem__alterNateParamThree);
                        $('#palterNateParamFour').val(value.parameterItem__alterNateParamFour);
                    });
                    $('#editProductModalTitle').html('Edit Product');
                    $('.editProductModaldia').css('max-width','85%');
                    $('#pitemCode').attr('readonly', true);
                    $('#pitemName').attr('readonly', true);
                     $('#editProductModal').show();
                     $('#editProductModal').modal('toggle');
                     $('.editProductModalClose').on('click',function() {
                          var data = {"type":"product"};
                            $.ajax({
                              url: "/viewProduct",
                              type: "POST",
                              dataType : "json",
                              contentType : "application/json",
                              data: JSON.stringify(data),
                              success: function (result)
                              {
                                var data = result;

                                if (data.status == 'success') {
                                addCusTableList = data.totalItems[0].totalItem;
                                pullCusTable(addCusTableList,"product");

                              }
                              }
                          });
                      });
                      }
                  else{
                      alert(data.error_msg);
                  }

                  }
                });
             });
                $(document).on('click', '.editProductSubmitBtn', function() {
                  var brandName = $('#pbrandName').val();
                  var itemDesc = $('#pitemDesc').val();
                  var articleType = $('#particleType').val();
                  var itemStorageCondition = $('#pitemStorageCondition').val();
                  var baseUom = $('#pbaseUom').val();
                  var purchasingUom = $('#ppurchasingUom').val();
                  var purchasingTax = $('#ppurchasingTax').val();
                  var purchasingPrice = $('#ppurchasingPrice').val();
                  var purchasingCurrency = $('#ppurchasingCurrency').val();
                  var purchasingPriceUnit = $('#ppurchasingPriceUnit').val();
                  var purchasingUomForKg = $('#ppurchasingUomForKg').val();
                  var purchasingOrderText = $('#ppurchasingOrderText').val();
                  var salesUom = $('#psalesUom').val();
                  var salesTax = $('#psalesTax').val();
                  var salesPrice = $('#psalesPrice').val();
                  var salesCurrency = $('#psalesCurrency').val();
                  if(brandName == ''){
                    $('#pbrandName').focus();
                    return false;
                  }
                  else if(itemDesc == ''){
                    $('#pitemDesc').focus();
                    return false;
                  }
                  else if(articleType == ''){
                    $('#particleType').focus();
                    return false;
                  }
                  else if(itemStorageCondition == ''){
                    $('#pitemStorageCondition').focus();
                    return false;
                  }
                  else if(baseUom == ''){
                    $('#pbaseUom').focus();
                    return false;
                  }
                  else if(purchasingUom == ''){
                    $('#ppurchasingUom').focus();
                    return false;
                  }
                  else if(purchasingTax == ''){
                    $('#ppurchasingTax').focus();
                    return false;
                  }
                  else if(purchasingPrice == ''){
                    $('#ppurchasingPrice').focus();
                    return false;
                  }
                  else if(purchasingCurrency == ''){
                    $('#ppurchasingCurrency').focus();
                    return false;
                  }
                  else if(purchasingPriceUnit == ''){
                    $('#ppurchasingPriceUnit').focus();
                    return false;
                  }
                  else if(purchasingUomForKg == ''){
                    $('#ppurchasingUomForKg').focus();
                    return false;
                  }
                  else if(purchasingOrderText == ''){
                    $('#ppurchasingOrderText').focus();
                    return false;
                  }
                  else if(salesUom == ''){
                    $('#psalesUom').focus();
                    return false;
                  }
                  else if(salesTax == ''){
                    $('#psalesTax').focus();
                    return false;
                  }
                  else if(salesPrice == ''){
                    $('#psalesPrice').focus();
                    return false;
                  }
                  else{
                      var form_data = {};
                      var form_data = $('#editProductDetailsForm').serialize();
                      $.ajax({
                          url: "/updateMasterProduct",
                          type: "POST",
                          data: form_data,
                          dataType: 'json',
                          cache:false,
                          success: function (data)
                          {
                            if (data.status == 'success') {
                                alert(data.success_msg);
                            }
                          }
                       });
                   }
                  });
                    $(document).on('click', '.addDataViaId', function() {
                      var id = $(this).attr('id');
                      if (id=='addCustomerById'){
                        $('#typeTrader').val("customer") ;
                        $('#traderByIdModalTitle').empty();
                        $('#traderByIdModalTitle').append("Add Customer By Company Code");
                        $('#traderById').modal();

                      }else{
                       $('#typeTrader').val("supplier") ;
                       $('#traderByIdModalTitle').empty();
                       $('#traderByIdModalTitle').append("Add Supplier By Company Code");
                        $('#traderById').modal();
                      }

                  });
                  $(document).on('click', '#traderByIdModalsubmit', function() {
                      var type = $('#typeTrader').val();
                      var code = $('#tradeByValue').val();
                      if(code == ""){
                        alert("Please enter code");
                      }else{
                      window.location.href = "/saveTradersById?type="+type+"&code="+code;
                      }

                  });
                  $(document).on('click', '.inviteBtn', function() {
                     var data = $(this).attr('id');
                     var result = data.split("_");
                     var type = result[0];
                     var id = result[1];
                     var value = $(this).val();
                    $body.addClass("loading");
                     var data = {"email":id,"type":type,"status":value};
                    $.ajax({
                      url: "/inviteSend",
                      type: "POST",
                      dataType : "json",
                      contentType : "application/json",
                      data: JSON.stringify(data),
                      success: function (result)
                    {

                        if (result.status == 'success') {
                            if(type == "customer"){
                                var data = {"type":type};
                                $.ajax({
                                  url: "/viewCustomer",
                                  type: "POST",
                                  dataType : "json",
                                  contentType : "application/json",
                                  data: JSON.stringify(data),
                                  success: function (result)
                                  {
                                    var data = result;

                                    if (data.status == 'success') {
                                    addCusTableList = data.totalItems[0].totalItem;
                                    pullCusTable(addCusTableList,"customer");

                                  }
                                   else if (data.status == 'error' && data.error_msg != 'sessionexpired'){

                                         viewDataTable.clear().draw();
                                       }
                                  }
                                });
                            }
                            else{
                                var data = {"type":type};
                                $.ajax({
                                  url: "/viewSupplier",
                                  type: "POST",
                                  dataType : "json",
                                  contentType : "application/json",
                                  data: JSON.stringify(data),
                                  success: function (result)
                                  {
                                    var data = result;

                                    if (data.status == 'success') {
                                    addCusTableList = data.totalItems[0].totalItem;
                                    pullCusTable(addCusTableList,"supplier");

                                  }
                                   else if (data.status == 'error' && data.error_msg != 'sessionexpired'){

                                         viewDataTable.clear().draw();
                                       }
                                  }
                                });
                            }
                            $body.removeClass("loading");
                            alert(result.success_msg);
                        }
                    }
                    });
                    });

                    $(document).on('click', '.removeBtn', function() {
                     var data = $(this).attr('id');
                     var result = data.split("_");
                     var type = result[0];
                     var id = result[1];
                     if(type != 'product'){
                     $('#confirmModalPopupTitle').empty();
                     $('#dataId').val('');
                     $('#dataType').val('');
                     $('#confirmModalPopupBodyContent').empty();
                     $('#confirmModalPopupTitle').append('Delete Traders');
                     $('#dataId').val(id);
                     $('#dataType').val(type);
                     $('#confirmModalPopupBodyContent').append('Are you sure, you want to delete?');
                     $('#confirmModalPopup').modal('show');

                     }
					 else {

					 $('#confirmModalPopupTitle').empty();
                     $('#dataId').val('');
                     $('#dataType').val('');
                     $('#confirmModalPopupBodyContent').empty();
                     $('#confirmModalPopupTitle').append('Delete Product');
                     $('#dataId').val(id);
                     $('#dataType').val(type);
                     $('#confirmModalPopupBodyContent').append('Are you sure, you want to delete?');
                     $('#confirmModalPopup').modal('show');


					 }

                    });

$('#confirmModalPopupSubmit').on('click', function() {

 var id = $('#dataId').val();
 var type = $('#dataType').val();
    if(type != 'product'){
            $body.addClass("loading");
             var data = {"email":id,"type":type};
            var url = "/removeCustomer";
            if(type == "supplier"){
            url= "/removeSupplier";
            }
            $.ajax({
              url: url,
              type: "POST",
              dataType : "json",
              contentType : "application/json",
              data: JSON.stringify(data),
              success: function (result)
            {

                if (result.status == 'success') {
                    if(type == "customer"){
                        var data = {"type":type};
                        $.ajax({
                          url: "/viewCustomer",
                          type: "POST",
                          dataType : "json",
                          contentType : "application/json",
                          data: JSON.stringify(data),
                          success: function (result)
                          {
                            var data = result;

                            if (data.status == 'success') {
                            addCusTableList = data.totalItems[0].totalItem;
                            pullCusTable(addCusTableList,"customer");

                          }
                           else if (data.status == 'error' && data.error_msg != 'sessionexpired'){

                                 viewDataTable.clear().draw();
                               }
                          }
                        });
                    }
                    else{
                        var data = {"type":type};
                        $.ajax({
                          url: "/viewSupplier",
                          type: "POST",
                          dataType : "json",
                          contentType : "application/json",
                          data: JSON.stringify(data),
                          success: function (result)
                          {
                            var data = result;

                            if (data.status == 'success') {
                            addCusTableList = data.totalItems[0].totalItem;
                            pullCusTable(addCusTableList,"supplier");

                          }
                           else if (data.status == 'error' && data.error_msg != 'sessionexpired'){

                                 viewDataTable.clear().draw();
                               }
                          }
                        });
                    }
                    $body.removeClass("loading");
                    alert(result.success_msg);
                }
            }
            });

       }

    else{
    $body.addClass("loading");
        var data = {"itemCode":id,"type":type};
            $.ajax({
              url: "/removeProduct",
              type: "POST",
              dataType : "json",
              contentType : "application/json",
              data: JSON.stringify(data),
              success: function (result)
            {
                if (result.status == 'success') {
                    var data = {"type":"product"};
                        $.ajax({
                          url: "/viewProduct",
                          type: "POST",
                          dataType : "json",
                          contentType : "application/json",
                          data: JSON.stringify(data),
                          success: function (result)
                          {
                            var data = result;

                            if (data.status == 'success') {
                            addCusTableList = data.totalItems[0].totalItem;
                            pullCusTable(addCusTableList,"product");

                          }
                           else if (data.status == 'error'){
                                   viewDataTable.clear().draw();
                           }
                          }
                        });
                }
                $body.removeClass("loading");
                alert(result.success_msg);

            }
            });

    }

	});

            function showMessage(status, msgTitle, msgBody) {
                $('#exampleModalTitle').empty();
                $('#samplePopupBodyContent').empty();
                $('#exampleModalTitle').append(msgTitle);
                $('#samplePopupBodyContent').append(msgBody);
                $('.sampleModalPopup').css('max-width','35%');
                if (status == 'error') {
                    $('.sampleModalPopup').css('max-width','80%');
                }
                $('#sampleModalPopup').modal('show');
            }

            $('.customerType').hide();
            $('#idContainer').hide();

            $(document).on('click', '#companyLogoUpdateBtn', function() {
                var form_data = new FormData();
                var file_data = $('#companyLogo').prop('files')[0];
                 var data = "csrfmiddlewaretoken="+$('input[name=csrfmiddlewaretoken]').val()+"companyLogoPath="+file_data;
                    $.ajax({
                      url: "/logoupdate",
                      type: "POST",
                      dataType: "text",
                      data: data,
                      async:false,
                      success: function (data)
                      {

                      }
                    });
            });

			$('#domainName').val('');

			$('#exampleModalCenter').on('shown.bs.modal', function() {
              $('#domainName').focus();
            });

			$('#popupCloseBtn').on('click', function() {
                $('#domainName').val('');
                $('#successmsg').empty();
                $('#errormsg').empty();
            });

              $('#submit').on('click', function() {
                $('#success_msg').empty();
                $('#error_msg').empty();
                if ($('#domainName').val() != '') {
                    var data = "csrfmiddlewaretoken="+$('input[name=csrfmiddlewaretoken]').val()+"&domainName="+$('#domainName').val();
                    $.ajax({
                      url: "/renameSchemaURL",
                      type: "POST",
                      dataType: "text",
                      data: data,
                      async:false,
                      success: function (result)
                      {
                        var data = JSON.parse(result);
                        if (data.status == 'success') {
                            $('#success_msg').append(data.success_msg);
                            $("#domainName").prop("disabled",true);
                            $("#submit").prop("disabled",true);
                            setTimeout(function() {
                                $('#success_msg').empty();
                                window.location.href = data.redirect_url;
                            }, 3000);
                        }
                        else if (data.status == 'error' && data.error_msg != 'sessionexpired') {
                            $('#error_msg').append(data.error_msg);
                        }
                        else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                            $('#domainName').val('');
                            $('#error_msg').append('Session expired.');
                            $("#domainName").prop("disabled",true);
                            $("#submit").prop("disabled",true);
                            setTimeout(function() {
                                window.location.href = data.redirect_url;
                            }, 3000);
                        }
                      }
                     });
                }
                else {
                    $('#error_msg').append('Please enter domain name');
                }
            });

            $('.mini-submenu').on('click',function(){
                $(this).next('.list-group').toggle('slide');
                $('.mini-submenu').hide();
            })

            checkTreeCollapse();

            function checkTreeCollapse() {
                $(".tree-container li.tree-li").removeClass("is-child")
                $(".tree-container li.tree-li").each(function () {
                    if ($(this).find("ul.tree-ul li").length > 0) {
                        $(this).addClass("is-child")
                    }
                });
                $(".tree-container li.tree-li span.text").unbind("click");
                $(".tree-container li.tree-li.is-child span.text").click(function () {
                    $(this).parent(".tree-li").toggleClass("diactive");
                    $(this).parent(".tree-li").find(".tree-ul:first").toggleClass("diactive");
                });
            }

            $('.navTabClass').on('click', function() {
                var id = $(this).attr('id');
                $('.navTabClass').removeClass('navHeading');
                $('.navTabClass > a.anchorlink').removeClass('activeNav');
                $('#'+id+'').addClass('navHeading');
                $('#'+id+ '> a').addClass('activeNav');
            });

            $('.bothModuleTab').on('click', function() {
                var tabId = $(this).attr('id');
                $('.bothModuleTab').removeClass('bothModuleTabActive');
                $('#'+tabId+'').addClass('bothModuleTabActive');
                var module = tabId.split("_");
                var data = {"type":module[1]};
                var url = "/viewProduct";
                if(module[1] == 'customer'){
                url = "/viewCustomer";
                }else if(module[1] == 'supplier'){
                url = "/viewSupplier";
                }

                $.ajax({
                  url: url,
                  type: "POST",
                  dataType : "json",
                  contentType : "application/json",
                  data: JSON.stringify(data),
                  success: function (result)
                  {
                    var data = result;
                    if (data.status == 'success') {
                        addCusTableList = data.totalItems[0].totalItem;
                        pullCusTable(addCusTableList,module[1]);
                        hideShowUploadOption(module[1]);
                    }
                    else if (data.status == 'error'){
                         //viewDataTable.clear().draw();
                         addCusTableList = [];
                         pullCusTable(addCusTableList,module[1]);
                         hideShowUploadOption(module[1]);
                    }
                  }
                });
            });

            function hideShowUploadOption(module) {
                $('.moduleData').hide();
                $('#'+module+'Data').show();
            }

            window.scrollTo(0,0);
            window.document.body.scrollTop++;
    });
</script>
{% endblock %}