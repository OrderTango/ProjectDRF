{% extends 'administrationpanelbase.html' %}

{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/viewall.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/manualUploadForm.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'datatables/css/datatables.min.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'datatables/css/responsive.bootstrap4.min.css' %}" />

<script type="text/javascript" src="{% static 'datatables/js/datatables.min.js' %}"></script>
<script type="text/javascript" src="{% static 'datatables/js/dataTables.responsive.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/script.js' %}"></script>
<style>
   .viewProfileModal{
      width: 60% !important;
   }

  .center {
    margin: auto;
    width: 40%;
  }

  .sampleModalPopup {
    max-width: 35%
  }

  #customerFileUpload {
    display: none;
  }

  .editSupBtn,
  .editCusBtn,
  .viewProdUpdateBtn,
  .viewProdBtn,
  .viewProdEditBtn,
  .viewProdRemoveBtn,
  .viewSupplierProdBtn,
  .viewCusProdUpdateBtn,
  .inviteBtn,
  .removeBtn,
  .activeBtn,
  .requestBtn,
  .addData,
  .addDataViaId,
  .addData:hover,
  .addDataViaId:hover {
    border: 0px;
    font-size: 13px;
    border-radius: 5px;
    color: #ffffff;
    background-color: #984fa5;
    padding: 5px;
    cursor: pointer;
    text-decoration: none
  }

  .priceTextBox {
    width: 80px !important;
    border: 1px solid #c9a6c0;
    border-radius: 8px !important;
    text-align: center;
  }

  .editProductSubmitBtn,
  .editProductSubmitBtn:hover,
  .profileUpdateButtonClass,
  .profileUpdateButtonClass:hover {
    background: #ffd500;
    color: #881999;
    font-weight: bold;
    border: 2px solid #881999;
  }

  .inviteBtn,
  .activeBtn,
  .requestBtn {
    width: 38.1% !important;
  }

  .mandatory {
    color: red
  }

  #submitProductBtn {
    margin-top: 10px;
    margin-bottom: -5px
  }

  .marginTop2Percent {
    margin-top: 2% !important
  }

  .discount,
  .absoluteDiscount,
  .actualSalesPrice {
    width: 80px !important;
    border: 1px solid #c9a6c0;
    border-radius: 8px !important;
    text-align: center;
  }
  .marginLeft{
      margin-left: 12% !important;
  }
  .marginLeftVendor{
      margin-left: 18% !important;
  }
  .marginLeftProduct{
      margin-left: 17% !important;
  }
  .custTop{
      margin-top: 0.5% !important;
  }
  .uploadCust{
      margin-top: 0.5% !important;
  }
  .CustId{
      margin-top: 1% !important;
  }
  .vendTop{
      margin-top: 0.5% !important;
  }
  .uploadVend{
      margin-top: 0.5% !important;
  }
  .vendId{
      margin-top: 1% !important;
  }
  .prodTop{
      margin-top: 0.5% !important;
  }
  .uploadProd{
      margin-top: 0.5% !important;
  }
  .prodId{
      margin-top: 1% !important;
  }
/*.dataTables_empty{
  background: url("/static/images/register/registerBtn.png");
  background-repeat:no-repeat;
  height:300px;
  vertical-align:middle !important;
  text-align:center !important;
}*/

  @media (min-width:600px) and (max-width: 801px) {

    #bodyContent {
      background-color: #fff !important;
      padding-top: -4% !important;
      top: 7% !important;
      padding-right: 2% !important;
      margin-left: 33% !important;
      margin-top: -129% !important;
    }

    .tableBgColor {
      background-color: #f9f3fa;
      margin-right: -262px !important;
    }
    .tabWidth{
            max-width: 79% !important;
    }
    .inviteBtn{
          width: 87.1% !important;
    }

  }

  @media (min-width:320px) and (max-width: 480px) {
    .viewDataTable {
      width: 130% !important;
      margin-left: 7% !important;
    }

    .viewProductModaldia {
      max-width: 100% !important;
    }

    .paddingLeftRightTen {
      margin-left: 8px !important;
    }

    #viewDataTable_paginate {
      margin-left: 48% !important;
    }

    div.dataTables_wrapper div.dataTables_paginate ul.pagination {
      justify-content: center !important;
    }

    .editProductModaldia {
      max-width: 100% !important;
    }

    .customerDetailsForm {
      width: 300px !important;
    }

    .customerDetailsForm>input {
      width: 135px !important;
    }

    .customerDetailsFormLabel {
      width: 168px !important;
    }

    .commonFontSize {
      font-size: 14px !important;
      font-weight: normal !important
    }

    .addSty {
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 28% !important;
      padding-bottom: 1.5% !important;
    }
    .addStyl{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 52% !important;
      padding-bottom: 1% !important;
    }
    .addStyle{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 52% !important;
      padding-bottom: 1% !important;
    }
     .addStyVendor {
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 17% !important;
      padding-bottom: 1.5% !important;
    }
    .addStylVendor{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 43% !important;
      padding-bottom: 1% !important;
    }
    .addStyleVendor{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 42% !important;
      padding-bottom: 1% !important;
    }
    .addStyProduct {
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 17% !important;
      padding-bottom: 1.5% !important;
    }
    .addStylProduct{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 43% !important;
      padding-bottom: 1% !important;
    }
    .addStyleProduct{
      font-size: 14px !important;
      font-weight: normal !important;
      margin-left: 45% !important;
      padding-bottom: 1% !important;
    }
    .addsSty {
      font-size: 14px !important;
      font-weight: normal !important;
    }
    .searchMargin{
        margin-right: 24% !important;
     }


  }
</style>
<div class="row headColor">
  <div class="col-md-2 col-sm-4 col-24" id="sideBarLeft">
    {% include "administrationpanelsidebar.html" %}
  </div>
  <div class="col-md-10 paddingLeftZero" id="bodyContent">
    <div class="row">
      <div class="col-md-2 col-sm-3 col-6 navTabClass navHeading" id="onBoardTab">
        <a href="{% url 'administrationpanel' %}" class="anchorlink " id="onBoardAnchor"><img
            src="{% static 'images/OnBoard.png' %}" class="sideBarIcons">Onboarding</a>
      </div>
    </div>
    <div class="row bgColor paddingLeftRightTen tab-content" id="tabContentRow">
      <div id="both" class="tab-pane active">
        <div class="row bgColor paddingLeftRightTen">
          <ul class="col-md-4 nav nav-pills textAlignCenter" id="bothNavUL">
            <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_customer">
              <a data-toggle="pill" href="#bothcustomer"><img src="{% static 'images/Customer.png' %}"
                  class="sideBarIcons">Customer</a>
            </li>
            <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab bothModuleTabActive" id="both_supplier">
              <a data-toggle="pill" href="#bothsupplier"><img src="{% static 'images/Supplier.png' %}"
                  class="sideBarIcons">Vendor</a>
            </li>
            <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_product">
              <a data-toggle="pill" href="#bothproduct"><img src="{% static 'images/Product.png' %}"
                  class="sideBarIcons">Product</a>
            </li>
          </ul>
          <div class="col-md-8 col-sm-12 bgColorModule tabWidth" id="bothUploadOption">
            <span class="moduleData" id="customerData">
              <div class="marginLeft custTop" style="float:left">
              <a class="addData addSty" href="{% url 'administrationpanel' %}?module=customer&type=Manual"
                id="addCustomer"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Customer
              </a>&nbsp;
              </div>
              <div class="uploadCust" style="float:left">
              <a class="addData addStyl" href="{% url 'administrationpanel' %}?module=customer&type=Upload"
                id="uploadCustomers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Customers
              </a>&nbsp;
              </div>
              <div class="CustId" style="float:left">
              <a class="addDataViaId addStyle" href="#" id="addCustomerById"> <img class="roundImage"
                  src="{% static 'images/Round.png' %}" /> Add Customer By Id </a>
              </div>
            </span>
            <span class="moduleData" id="supplierData">
              <div class="marginLeftVendor vendTop" style="float:left">
              <a class="addData addStyVendor" href="{% url 'administrationpanel' %}?module=vendor&type=Manual"
                id="addSupplier"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Vendor
              </a>&nbsp;
              </div>
              <div class="uploadVend" style="float:left">
              <a class="addData addStylVendor" href="{% url 'administrationpanel' %}?module=vendor&type=Upload"
                id="uploadSuppliers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Vendors
              </a>&nbsp;
              </div>
              <div class="vendId" style="float:left">
              <a class="addDataViaId addStyleVendor" href="#" id="addSupplierById"> <img class="roundImage"
                  src="{% static 'images/Round.png' %}" /> Add Vendor By Id </a>
              </div>
            </span>
            <span class="moduleData" id="productData">
              <div class="marginLeftProduct prodTop" style="float:left">
              <a class="addData addStyProduct" href="/productsalescatalog" id="catalogNavMenu"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Manage Catalog </a>&nbsp;
              </div>
              <div class="uploadProd" style="float:left">
              <a class="addData addStylProduct" href="{% url 'administrationpanel' %}?module=product&type=Manual"
                id="addProduct"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Product
              </a>&nbsp;
              </div>
              <div class="prodId" style="float:left">
              <a class="addData addStyleProduct" href="{% url 'administrationpanel' %}?module=product&type=Upload"
                id="uploadProducts"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Products
              </a>
              </div>
            </span>
            <span class="input-group searchMargin" id="searchOptionInputGroup">
              <input type="text" id="searchOption"  maxlength="60">
              <div class="input-group-append">
                <span id="spanSearchIcon">
                  <i class="fa fa-search"></i>
                </span>
              </div>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row tableBgColor">
      <div class="col-md-12 col-sm-8 col-10">
        <table class="table hover dt-responsive viewDataTable" id="viewDataTable" width="100%" style="font-size:85%">
          <thead>

          </thead>
        </table>
      </div>
    </div>
  </div>
</div>
{% include "rightsidebar.html" %}
<div class="overlay"></div>
<div class="modal fade" id="exampleModalCenter" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"
  aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content modalBorderClass">
      <div class="modal-header">
        <h5 class="modal-title modalTitleHead" id="exampleModalLongTitle">Change Domain Name</h5>
        <span id="modalCloseBtn">

        </span>
      </div>
      <div class="modal-body">
        <div id="success_msg" class="success_msg"> </div>
        <div id="error_msg" class="error_msg"> </div>
        <form role="form" autocomplete="off">
          {% csrf_token %}
          <div id="modalBody">

          </div>
        </form>
      </div>
      <div class="modal-footer " id="modalFooter">

      </div>
    </div>
  </div>
</div>

<div class="modal" id="sampleModalPopup" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered sampleModalPopup" role="document">
    <div class="modal-content modalBorderClass">
      <div class="modal-header">
        <h5 class="modal-title modalTitleHead" id="exampleModalTitle"></h5>
        <button type="button" class="close" id="popupCloseBtn" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="samplePopupBodyContent">

      </div>
      <div class="modal-footer">
        <input type="button" id="submit" class="btn btn-primary modalBtnClass" data-dismiss="modal" aria-label="Close"
          value="Close">
      </div>
    </div>
  </div>
</div>

<div class="modal" id="testsample">
  <!-- Place at bottom of page -->
</div>

<div id="imageModel" class="modal" data-backdrop="static" data-keyboard="false" role="dialog" tabindex="-1"
  aria-hidden="true">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4>Image upload</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>

      </div>
      <div class="modal-body">

        <form id="updateLogo" method="post" enctype="multipart/form-data" autocomplete="off">
          {% csrf_token %}

          <input type="file" name="fileuploaddata" value="fileupload" id="fileuploaddata">
          <p style="font-size:13px;">allowed only Jpg,png formats below 5MB</p>
          <input type="text" name="" value="" id="idContainer">


        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" id="uploadImageSubmit" data-dismiss="modal">Submit</button>
      </div>
    </div>

  </div>
</div>
<!-- The Modal -->
<div class="modal" id="traderById" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog traderByIdModaldia">
    <div class="modal-content ">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title modalTitleHead" id="traderByIdModalTitle"></h4>
        <button type="button" class="close traderByIdModalClose" data-dismiss="modal" onclick="traderById"
          id="traderByIdModalclose" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 formGroup ">
            <label class="fontWeightBold">Enter Company Code: </label> <input type="text" id="tradeByValue" />
            <input type="hidden" id="typeTrader" />
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer row " style="text-align:center">
        <div class="col-md-12">
          <input type="button" class="btn modalBtnClass  traderByIdModalsubmit" id="traderByIdModalsubmit"
            value="Submit"></input>
          <input type="button" class="btn modalBtnClass align:center traderByIdModalclose" onclick="traderById"
            data-dismiss="modal" value="Cancel"></input>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal" id="viewProductModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewProductModaldia">
    <div class="modal-content ">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="viewProductModalTitle"></h4>
        <button type="button" class="close viewProductModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 ">
            <table class="table hover viewProductDataTable" id="viewProductDataTable">
              <thead>

              </thead>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn viewProductModalClose" id="viewProductModalClose"
          data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal" id="editProductModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog editProductModaldia">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title fontWeightBold" id="editProductModalTitle"></h4>
        <button type="button" class="close editProductModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" id="scrollTopDiv">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 ">
            <div class="col-md-12" id="productManualFormDiv">
              <form class="post-form" id="editProductDetailsForm" role="form" autocomplete="off">
                {% csrf_token %}
                <div class="row">
                  <div class="offset-md-5">
                    <h3 align="center"> Product </h3>
                  </div>
                </div>
                <div class="row">

                  <div class="col-md-6">

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemName.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.itemName }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemCode.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.itemCode }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.alterItemName.label_tag }}</label>
                      {{ itemMasterAddForm.alterItemName }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.alterItemCode.label_tag }}</label>
                      {{ itemMasterAddForm.alterItemCode }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.brandName.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.brandName }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemDesc.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.itemDesc }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.packingUnit.label_tag }}</label>
                      {{ itemMasterAddForm.packingUnit }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.manufacturingLeadTime.label_tag }}</label>
                      {{ itemMasterAddForm.manufacturingLeadTime }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.articleType.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.articleType }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemCategory.label_tag }}</label>
                      {{ itemMasterAddForm.itemCategory }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategory.label_tag }}</label>
                      {{ itemMasterAddForm.itemMerchantCategory }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategoryOne.label_tag }}</label>
                      {{ itemMasterAddForm.itemMerchantCategoryOne }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemMerchantCategoryTwo.label_tag }}</label>
                      {{ itemMasterAddForm.itemMerchantCategoryTwo }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.itemStorageCondition.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.itemStorageCondition }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.baseUom.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ itemMasterAddForm.baseUom }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{itemMasterAddForm.selfManufacturing.label_tag }}</label>
                      {{ itemMasterAddForm.selfManufacturing }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{ itemMasterAddForm.productDetail.label_tag}}</label>
                      {{ itemMasterAddForm.productDetail}}
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="offset-md-5">
                    <h3 align="center"> Attribute </h3>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeColor.label_tag }}</label>
                      {{ attributeForm.attributeColor }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeSize.label_tag }}</label>
                      {{ attributeForm.attributeSize }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeDesign.label_tag }}</label>
                      {{ attributeForm.attributeDesign }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeStyle.label_tag }}</label>
                      {{ attributeForm.attributeStyle }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{attributeForm.attributeOther.label_tag }}</label>
                      {{ attributeForm.attributeOther }}
                    </div>
                  </div>
                </div>
                <div class="row" id="purchaseHead">
                  <div class="offset-md-5">
                    <h3 align="center"> Purchase </h3>
                  </div>
                </div>
                <div class="row" id="purchaseData">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingUom.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingUom }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingTax.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingTax }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingPrice.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingPrice }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingCurrency.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingCurrency }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingPriceUnit.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingPriceUnit }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingUomForKg.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingUomForKg }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{purchasingForm.purchasingOrderText.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ purchasingForm.purchasingOrderText }}
                    </div>
                  </div>
                </div>
                <div class="row" id="salesHead">
                  <div class="offset-md-5">
                    <h3 align="center"> Sales </h3>
                  </div>
                </div>
                <div class="row" id="salesData">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesUom.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ salesForm.salesUom }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesTax.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ salesForm.salesTax }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesCategoryGrp.label_tag }}</label>
                      {{ salesForm.salesCategoryGrp }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesOrderText.label_tag }}</label>
                      {{ salesForm.salesOrderText }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesPrice.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ salesForm.salesPrice }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesCurrency.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ salesForm.salesCurrency }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesPriceUnit.label_tag }}</label>
                      {{ salesForm.salesPriceUnit }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{salesForm.salesUomForKg.label_tag }}</label>
                      {{ salesForm.salesUomForKg }}
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="offset-md-5">
                    <h3 align="center"> Measurement </h3>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementDimension.label_tag }}</label>
                      {{ measurementForm.measurementDimension }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementDimensionUnit.label_tag }}</label>
                      {{ measurementForm.measurementDimensionUnit }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementLength.label_tag }}</label>
                      {{ measurementForm.measurementLength }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWidth.label_tag }}</label>
                      {{ measurementForm.measurementWidth }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementHeight.label_tag }}</label>
                      {{ measurementForm.measurementHeight }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWeight.label_tag }}</label>
                      {{ measurementForm.measurementWeight }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{measurementForm.measurementWeightUnit.label_tag }}</label>
                      {{ measurementForm.measurementWeightUnit }}
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="offset-md-5">
                    <h3 align="center"> Storage </h3>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageShelfLife.label_tag }}</label>
                      {{ storageForm.storageShelfLife }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageCase.label_tag }}</label>
                      {{ storageForm.storageCase }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageTier.label_tag }}</label>
                      {{ storageForm.storageTier }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storagePallet.label_tag }}</label>
                      {{ storageForm.storagePallet }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageDept.label_tag }}</label>
                      {{ storageForm.storageDept }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{storageForm.storageRack.label_tag }}</label>
                      {{ storageForm.storageRack }}
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="offset-md-5">
                    <h3 align="center"> Parameter </h3>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamOne.label_tag }}</label>
                      {{ parameterForm.alterNateParamOne }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamTwo.label_tag }}</label>
                      {{ parameterForm.alterNateParamTwo }}
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamThree.label_tag }}</label>
                      {{ parameterForm.alterNateParamThree }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-6 col-form-label customerDetailsFormLabel">{{parameterForm.alterNateParamFour.label_tag }}</label>
                      {{ parameterForm.alterNateParamFour }}
                    </div>
                  </div>
                </div>
                <div class="row justify-content-center">
                  <button type="button"
                    class="col-form-label customerDetailsFormLabel btn btn-primary editProductSubmitBtn"
                    id="submitProductBtn">Update</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editProductModalClose" id="editProductModalClose"
          data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>


<div class="modal" id="viewProfileModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewProfileModal" style="max-width: 60%;">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="viewProfileModalTitle"> Profile </h4>
        <button type="button" class="close viewProfileModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" id="profileModalBody">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 ">
            <div class="col-md-12" id="viewProfileModalFormDiv">
              <form class="registrationform" id="updateProfileForm" role="form" method='POST' autocomplete="off">

                {% csrf_token %}
                <div id="formsec1">
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.firstName.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ profileForm.firstName }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="firstNameError">{{ profileForm.firstName.errors }}
                  </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.lastName.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ profileForm.lastName }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="lastNameError">{{ profileForm.lastName.errors }}
                  </div>
                  <div class="form-group row registrationformdiv hide">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.contactNo.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{profileForm.countryCode}}{{ profileForm.contactNo }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3 hide" id="contactNoError">
                    {{ profileForm.contactNo.errors }} </div>
                  <div class="form-group row registrationformdiv hide">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.email.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ profileForm.email }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3 hide" id="emailError">{{ profileForm.email.errors }}
                  </div>

                </div>
                <div id="formsec2">
                  <div class="form-group row registrationformdiv hide">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.companyName.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.companyName }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="companyNameError">
                    {{ companyProfileForm.companyName.errors }} </div>


                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.country.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.country }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="countryError">
                    {{ companyProfileForm.country.errors }} </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line1.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.address_Line1 }}
                    <label class="col-5 col-md-1 col-form-label unitlabel" id="unitlabel">Unit<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.unit1 }}
                    <p id="hyphen">-</p>
                    {{ companyProfileForm.unit2 }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="address1Error">
                    {{ companyProfileForm.address_Line1.errors }} </div>
                  <div class="form-group row registrationformdiv" id="addressTwoDiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line2.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.address_Line2 }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="address2Error">
                    {{ companyProfileForm.address_Line2.errors }} </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.state.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.state }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="stateError"> {{ companyProfileForm.state.errors }}
                  </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.postalCode.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ companyProfileForm.postalCode }}

                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="postalCodeError">
                    {{ companyProfileForm.postalCode.errors }} </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.sec_question.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ profileForm.sec_question }}

                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="secQuestionError">
                    {{ profileForm.sec_question.errors }} </div>
                  <div class="form-group row registrationformdiv">
                    <label
                      class="col-5 col-md-3 col-form-label registrationformlabel">{{profileForm.sec_answer.label_tag }}<span
                        class="mandatory">*</span></label>
                    {{ profileForm.sec_answer }}
                  </div>
                  <div class="offset-3 offset-sm-4 offset-md-3" id="secAnswerError"> {{ profileForm.sec_answer.errors }}
                  </div>
                  <div class="col-12 offset-sm-4 col-md-6" id="submitBtnDiv"> <input type="button"
                      class="profileUpdateButtonClass" id="profileUpdateButton" value="Update"> </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editProductModalClose" id="editProductModalClose"
          data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<div class="modal center" id="confirmModalPopup" tabindex="-1" role="dialog" data-backdrop="static"
  data-keyboard="false" aria-labelledby="sampleModalPopupTitle" data-toggle="modal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered confirmModalPopup" role="document">
    <div class="modal-content modalBorderClass">
      <div class="modal-header">
        <h5 class="modal-title modalTitleHead" id="confirmModalPopupTitle"></h5>
        <button type="button" class="close" id="confirmModalPopupCloseBtn" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <input type="hidden" id="dataId" value="">
      <input type="hidden" id="dataType" value="">
      <div class="modal-body" id="confirmModalPopupBodyContent">


      </div>
      <div class="modal-footer" class="row" style="text-align:center">
        <div class="col-md-12">
          <input type="button" id="confirmModalPopupSubmit" class="btn btn-primary modalBtnClass" data-dismiss="modal" value="Confirm">
          <input type="button" id="confirmModalPopupClose" class="btn btn-primary modalBtnClass" data-dismiss="modal"
            aria-label="Close" value="Cancel">
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal" id="confirmModalAcceptPopup" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered confirmModalPopup" role="document">
    <div class="modal-content modalBorderClass">
      <div class="modal-header">
        <h5 class="modal-title modalTitleHead" id="confirmModalAcceptPopupTitle"></h5>
        <button type="button" class="close" id="confirmModalAcceptPopupCloseBtn" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <input type="hidden" id="dataAcceptId" value="">
      <input type="hidden" id="dataAcceptType" value="">
      <div class="modal-body" id="confirmModalAcceptPopupBodyContent">


      </div>
      <div class="modal-footer" class="row" style="text-align:center">
        <div class="col-md-12">
          <input type="button" id="confirmModalAcceptPopupSubmit" class="btn btn-primary modalBtnClass"
            data-dismiss="modal" aria-label="Close" value="Confirm">
          <input type="button" id="confirmModalAcceptPopupClose" class="btn btn-primary modalBtnClass"
            data-dismiss="modal" aria-label="Close" value="Cancel">
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="confirmModalRejectPopup" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false"
  aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered confirmModalPopup" role="document">
    <div class="modal-content modalBorderClass">
      <div class="modal-header">
        <h5 class="modal-title modalTitleHead" id="confirmModalRejectPopupTitle"></h5>
        <button type="button" class="close" id="confirmModalRejectPopupCloseBtn" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <input type="hidden" id="dataRejectId" value="">
      <input type="hidden" id="dataRejectType" value="">
      <div class="modal-body" id="confirmModalRejectPopupBodyContent">


      </div>
      <div class="modal-footer" class="row" style="text-align:center">
        <div class="col-md-12">
          <input type="button" id="confirmModalRejectPopupSubmit" class="btn btn-primary modalBtnClass"
            data-dismiss="modal" aria-label="Close" value="Yes">
          <input type="button" id="confirmModalRejectPopupClose" class="btn btn-primary modalBtnClass"
            data-dismiss="modal" aria-label="Close" value="No">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal editCustomerModal" id="editCustomerModal" tabindex="-1" data-backdrop="static" data-keyboard="false"
  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog editCustomerModaldia" style="max-width: 90%;">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title fontWeightBold" id="editCustomerModalTitle"></h4>
        <button type="button" class="close editCustomerModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 ">
            <div class="col-md-12" id="editCustomerDetailsFormDiv">
              <form class="post-form" id="editCustomerDetailsForm" role="form" autocomplete="off">
                {% csrf_token %}

                <div class="row">
                  <div class="col-md-6">
                    <h5 class="fontWeightBold" align="center"> Basic Data </h5>
                  </div>
                </div>

                <div class="row editCustomerDetail">
                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm ">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusCompanyName.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusCompanyName }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusContactNo.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusCountryCode }}
                      {{ customerForm.cusContactNo }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-4" id="emailError"></div>
                  </div>

                  <div class="col-md-6">

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerForm.contactPerson.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.contactPerson }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerForm.cusAlterNateEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusAlterNateEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-5" id="cusAlterNateEmailError"></div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerForm.cusCommunicationEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusCommunicationEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-5" id="cusCommunicationEmailError"></div>
                  </div>
                </div>

                <div class="row">

                  <div class="col-md-6">
                    <h5 class="fontWeightBold" align="center"> Company Address </h5>
                  </div>
                  <div class="col-md-6">
                    <h5 class="fontWeightBold" align="center"> Shipping Address </h5>
                  </div>
                </div>

                <div class="row editCustomerDetail">

                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusAddress_Line1.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusAddress_Line1 }}

                    </div>
                    <div class="form-group row customerDetailsForm">

                      <label class="col-5 col-md-4 col-form-label customerDetailsFormLabel" id="unitlabel1">Unit<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusUnit1 }}
                      <p id="hyphen1">-</p>
                      {{ customerForm.cusUnit2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusAddress_Line2.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusAddress_Line2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusCountry.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusCountry }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusState.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusState }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{customerForm.cusPostalCode.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerForm.cusPostalCode }}
                    </div>
                  </div>

                  <div class="col-md-6">

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerShippingForm.cusShipAddress_Line1.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipAddress_Line1 }}

                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label class="col-5 col-md-5 col-form-label customerDetailsFormLabel" id="unitlabel">Unit<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipUnit1 }}
                      <p id="hyphen">-</p>
                      {{ customerShippingForm.cusShipUnit2 }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerShippingForm.cusShipAddress_Line2.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipAddress_Line2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerShippingForm.cusShipCountry.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipCountry }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerShippingForm.cusShipState.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipState }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{customerShippingForm.cusShipPostalCode.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ customerShippingForm.cusShipPostalCode }}
                    </div>
                  </div>
                </div>
                <input type="email" name="cusEmailData" maxlength="60" required="" id="cusEmailData">
                <!-- <div class="row">
                            <div class="col-md-12" align="center">
                                <button type="button" class="btn btn-primary submitBtn editCustomerDataSaveButton" id="editCustomerDataSaveButton">Submit</button>
                            </div>
                        </div> -->


              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editCustomerModalClose" id="editCustomerModalClose"
          data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<!-- The Modal -->
<div class="modal editSupplierModal" id="editSupplierModal" tabindex="-1" data-backdrop="static" data-keyboard="false"
  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog editSupplierModaldia" style="max-width: 90%;">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title fontWeightBold" id="editSupplierModalTitle"></h4>
        <button type="button" class="close editSupplierModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 col-sm-3 col-6 ">
            <div class="col-md-12" id="editSupplierDetailsFormDiv">
              <form class="post-form" id="editSupplierDetailsForm" role="form" autocomplete="off">
                {% csrf_token %}
                <div class="row editSupplierDetail">

                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm ">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supCompanyName.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supCompanyName }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supContactNo.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supCountryCode }}
                      {{ supplierForm.supContactNo }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-4" id="supEmailError"></div>
                  </div>

                  <div class="col-md-6">

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierForm.supContactPerson.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supContactPerson }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierForm.supAlterNateEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supAlterNateEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-5" id="supAlterNateEmailError"></div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierForm.supCommunicationEmail.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supCommunicationEmail }}
                    </div>
                    <div class="offset-3 offset-sm-3 offset-md-5" id="supCommunicationEmailError"></div>
                  </div>
                </div>

                <div class="row">

                  <div class="col-md-6">
                    <h5 class="fontWeightBold" align="center"> Company Address </h5>
                  </div>
                  <div class="col-md-6">
                    <h5 class="fontWeightBold" align="center"> Shipping Address </h5>
                  </div>
                </div>

                <div class="row editSupplierDetail">

                  <div class="col-md-6">
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supAddress_Line1.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supAddress_Line1 }}
                    </div>
                    <div class="form-group row customerDetailsForm">

                      <label class="col-5 col-md-4 col-form-label unitlabel" id="unitlabel1">Unit<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supUnit1 }}
                      <p id="hyphen1">-</p>
                      {{ supplierForm.supUnit2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supAddress_Line2.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supAddress_Line2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supCountry.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supCountry }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supState.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supState }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-4 col-form-label customerDetailsFormLabel">{{supplierForm.supPostalCode.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierForm.supPostalCode }}
                    </div>
                  </div>

                  <div class="col-md-6">

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierShippingForm.supShipAddress_Line1.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipAddress_Line1 }}

                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label class="col-5 col-md-5 col-form-label unitlabel" id="unitlabel">Unit<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipUnit1 }}
                      <p id="hyphen">-</p>
                      {{ supplierShippingForm.supShipUnit2 }}
                    </div>

                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierShippingForm.supShipAddress_Line2.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipAddress_Line2 }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierShippingForm.supShipCountry.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipCountry }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierShippingForm.supShipState.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipState }}
                    </div>
                    <div class="form-group row customerDetailsForm">
                      <label
                        class="col-5 col-md-5 col-form-label customerDetailsFormLabel">{{supplierShippingForm.supShipPostalCode.label_tag }}<span
                          class="mandatory">*</span></label>
                      {{ supplierShippingForm.supShipPostalCode }}
                    </div>
                  </div>
                </div>
                <input type="email" name="supEmailData" maxlength="60" required="" id="supEmailData">
                <!-- <div class="row">
                            <div class="col-md-12" align="center">
                                <button type="button" class="btn btn-primary submitBtn editSupplierDataSaveButton" id="editSupplierDataSaveButton">Submit</button>
                            </div>
                        </div> -->


              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editSupplierModalClose" id="editSupplierModalClose"
          data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<div class="modal" id="loader">
  <!-- Place at bottom of page -->
</div>

<script>

  function load_states(country_id) {
    if (country_id == '') {
      $("#id_cusState").empty().append('<option value="">Select</option>');
    }
    else {
      $.ajax({
        url: "/load-states",
        data: {
          "country_id": country_id
        },
        success: function (data) {
          var states = JSON.parse(data.states);
          var stateAppendValues = "";
          $.each(states, function (key, val) {
            stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
          });
          $("#id_cusState").empty().append(stateAppendValues);
        }
      });
    }
  }

  function load_shipping_states(country_id) {
    if (country_id == '') {
      $("#id_cusShipState").empty().append('<option value="">Select</option>');
    }
    else {
      $.ajax({
        url: "/load-states",
        data: {
          "country_id": country_id
        },
        success: function (data) {
          var states = JSON.parse(data.states);
          var stateAppendValues = "";
          $.each(states, function (key, val) {
            stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
          });
          $("#id_cusShipState").empty().append(stateAppendValues);
        }
      });
    }
  }

  function load_supplier_states(country_id) {
    if (country_id == '') {
      $("#id_supState").empty().append('<option value="">Select</option>');
    }
    else {
      $.ajax({
        url: "/load-states",
        data: {
          "country_id": country_id
        },
        success: function (data) {
          var states = JSON.parse(data.states);
          var stateAppendValues = "";
          $.each(states, function (key, val) {
            stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
          });
          $("#id_supState").empty().append(stateAppendValues);
        }
      });
    }
  }

  function load_supShipping_states(country_id) {
    $.ajax({
      url: "/load-states",
      data: {
        "country_id": country_id
      },
      success: function (data) {
        var states = JSON.parse(data.states);
        var stateAppendValues = "";
        $.each(states, function (key, val) {
          stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
        });
        $("#id_supShipState").empty().append(stateAppendValues);
      }
    });
  }

  function maxLengthCheck(object) {
    if (object.value.length > object.maxLength)
      object.value = object.value.slice(0, object.maxLength)
  }

  function isNumeric(evt) {
    var theEvent = evt || window.event;
    var key = theEvent.keyCode || theEvent.which;
    key = String.fromCharCode(key);
    var regex = /[0-9]|\./;
    if (!regex.test(key)) {
      theEvent.returnValue = false;
      if (theEvent.preventDefault) theEvent.preventDefault();
    }
  }

  $body = $("body");
  $('#iconsec').on('click', function () {
    $('#fileuploaddata').val(null);
    $('#imageModel').show();
    $('#imageModel').modal('toggle');

  });

  $('#profilePicture').on('click', function () {
    $('#fileuploaddata').val(null);
    $('#imageModel').modal('toggle');
    $('#imageModel').show();

  });

  /* Hide the Onboard DropdownMenu in Sidebar Start */
  $('#onboardDropDown').hide();
  /* Hide the Onboard DropdownMenu in Sidebar End */

  /*$('#iconCompanyLogo').on('click',function() {
      $('#fileuploaddata').val(null);
      $('#idContainer').val('iconCompanyLogo');
      $('#imageModel').modal('toggle');
      $('#imageModel').show();
  });*/

  $('#slide-submenu').on('click', function () {
    $(this).closest('.list-group').fadeOut('slide', function () {
      $('.mini-submenu').fadeIn();
    });
  });

  $('.moduleData').hide();
  $('#supplierData').show();

  $(document).ready(function () {

   $(document).on('keypress', '#postalCode', function(event) {
    if ((event.which < 48 || event.which > 57)&&(event.which < 65 || event.which > 90)&&(event.which < 97 || event.which > 122)&&(event.which < 32 || event.which > 32)) {
                    event.preventDefault();
    }
            });

if(('{{firstLogin}}') == "True"){alert("Your plan has suspended");}
    $('#cusEmailData').css('display', 'none');
    $('#supEmailData').css('display', 'none');
    $('#id_cusEmail').attr("disabled", true);
    $('#id_supEmail').attr("disabled", true);
    $("#editSupplierDetailsForm :input").attr("disabled", true); // All the fields disabled in Vendor View page
    $("#editCustomerDetailsForm :input").attr("disabled", true); // All the fields disabled in Customer View page

    var viewDataTable = $('#viewDataTable').DataTable({
      "bFilter": false,
      "lengthChange": false,
      "targets": 'no-sort',
      "bSort": false,
      "info": false,
      "searching": true,
      "order": [],
      "pagingType": "full_numbers",
      language: {
        paginate: {
          previous: false,
          next: false,
          first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
        last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
    "columns": [
      { "title": "S.No" },
      { "title": "Company Name" },
      { "title": "Contact No" },
      { "title": "Email" },
      { "title": "Action" }

    ],
    responsive: {
      details: {
        renderer: $.fn.dataTable.Responsive.renderer.tableAll()
      }
    }
                        });
  //new $.fn.dataTable.FixedHeader( viewDataTable );


  function pullCusTable(addCusDataList, type) {
    viewDataTable.clear().draw();
    if (type == "customer") {
      viewDataTable.destroy();
      $('#viewDataTable').empty();
      viewDataTable = $('#viewDataTable').DataTable({
        "bFilter": false,
        "lengthChange": false,
        "targets": 'no-sort',
        "bSort": false,
        "info": false,
        "searching": true,
        "order": [],
        "pagingType": "full_numbers",
        language: {
          paginate: {
            previous: false,
            next: false,
            first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
          last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
    "columns": [
      { "title": "S.No" },
      { "title": "Company Name" },
      { "title": "Contact No" },
      { "title": "Email" },
      { "title": "Action" }

    ],
      columnDefs: [
        { "width": "2%", "targets": 0 },
        { "width": "22%", "targets": 1 },
        { "width": "19%", "targets": 2 },
        { "width": "27%", "targets": 3 },
        { "width": "30%", "targets": 4 },

      ],
        responsive: {
      details: {
        renderer: $.fn.dataTable.Responsive.renderer.tableAll()
      }
    }
  });
  if (addCusDataList.length > 0) {
    $('#viewDataTable_paginate').show();
    $.each(addCusDataList, function (index, value) {
      var sno = index + 1;
      if (value.relationshipStatus == true) {
        var action = "<input class='editCusBtn' id='" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='View'> <input class='viewProdBtn' id='viewProdBtn_" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='Product'> <input class='activeBtn establishedBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Established'> <input class='removeBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Delete'>";
      }
      else {
        if (value.invitationStatus == 0) {
          var action = "<input class='editCusBtn' id='" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='View'> <input class='viewProdBtn' id='viewProdBtn_" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='Product'> <input class='inviteBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Invite'> <input class='removeBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Delete'>";

        } else if (value.invitationStatus == 1) {
          var action = "<input class='editCusBtn' id='" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='View'> <input class='viewProdBtn' id='viewProdBtn_" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='Product'> <input class='inviteBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Connect'> <input class='removeBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Delete'>";
        }
        else if (value.invitationStatus == 2) {
          var action = "<input class='editCusBtn' id='" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='View'> <input class='viewProdBtn' id='viewProdBtn_" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='Product'> <input class='requestBtn pendingBtn' id='" + value.cusEmail + "' type='button' value='Pending'> <input class='removeBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Delete'>";
        }
        else {
          var action = "<input class='editCusBtn' id='" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='View'> <input class='viewProdBtn' id='viewProdBtn_" + value.cusCompanyName + "_" + value.customerId + "_" + type + "' type='button' value='Product'> <input class='requestBtn rejectedBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Rejected'> <input class='removeBtn' id='" + type + "_" + value.cusEmail + "' type='button' value='Delete'>";
        }
      }

      viewDataTable.row.add([sno, value.cusCompanyName, "+" + value.cusCountryCode__countryCodeType + "-" + value.cusContactNo, value.cusEmail, action]).draw();
    });
  }
  else {
    $('#viewDataTable_paginate').hide();

  }
           }
           else if (type == "supplier") {
    viewDataTable.destroy();
    $('#viewDataTable').empty();

    viewDataTable = $('#viewDataTable').DataTable({
      "bFilter": false,
      "lengthChange": false,
      "targets": 'no-sort',
      "bSort": false,
      "info": false,
      "searching": true,
      "order": [],
      "pagingType": "full_numbers",
      language: {
        paginate: {
          previous: false,
          next: false,
          first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
        last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                            }
                        },
      "columns": [
        { "title": "S.No" },
        { "title": "Company Name" },
        { "title": "Contact No" },
        { "title": "Email" },
        { "title": "Action" }

      ],
        columnDefs: [
          { "width": "2%", "targets": 0 },
          { "width": "22%", "targets": 1 },
          { "width": "19%", "targets": 2 },
          { "width": "27%", "targets": 3 },
          { "width": "30%", "targets": 4 },

        ],
          responsive: {
        details: {
          renderer: $.fn.dataTable.Responsive.renderer.tableAll()
        }
      }
                               });
      if (addCusDataList.length > 0) {
        $('#viewDataTable_paginate').show();
        $.each(addCusDataList, function (index, value) {
          var sno = index + 1;
          if (value.relationshipStatus == true) {
            var action = "<input class='editSupBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='View'> <input class='viewSupplierProdBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='Product'> <input class='activeBtn establishedBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Established'> <input class='removeBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Delete'>";
          }
          else {
            if (value.invitationStatus == 0) {
              var action = "<input class='editSupBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='View'> <input class='viewSupplierProdBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='Product'> <input class='inviteBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Invite'> <input class='removeBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Delete'>";
            } else if (value.invitationStatus == 1) {
              var action = "<input class='editSupBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='View'> <input class='viewSupplierProdBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='Product'> <input class='inviteBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Connect'> <input class='removeBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Delete'>";
            } else if (value.invitationStatus == 2) {
              var action = "<input class='editSupBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='View'> <input class='viewSupplierProdBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='Product'> <input class='requestBtn pendingBtn' id='" + value.supEmail + "' type='button' value='Pending'> <input class='removeBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Delete'>";
            }
            else {
              var action = "<input class='editSupBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='View'> <input class='viewSupplierProdBtn' id='" + value.supCompanyName + "_" + value.supplierId + "_" + type + "' type='button' value='Product'> <input class='requestBtn rejectedBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Rejected'> <input class='removeBtn' id='" + type + "_" + value.supEmail + "' type='button' value='Delete'>";
            }
          }

          viewDataTable.row.add([sno, value.supCompanyName, "+" + value.supCountryCode__countryCodeType + "-" + value.supContactNo, value.supEmail, action]).draw();
        });
      }
      else {
        $('#viewDataTable_paginate').hide();
      }
           }

       else if (type == "product") {
            viewDataTable.destroy();
            $('#viewDataTable').empty();
            viewDataTable = $('#viewDataTable').DataTable({
              "bFilter": false,
              "lengthChange": false,
              "targets": 'no-sort',
              "bSort": false,
              "info": false,
              "searching": true,
              "order": [],
              "pagingType": "full_numbers",
              language: {
                paginate: {
                  previous: false,
                  next: false,
                  first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                    }
                                },
          "columns": [
            { "title": "S.No" },
            { "title": "Product Code" },
            { "title": "Product Name" },
            { "title": "Brand Name" },
            { "title": "UOM" },
            { "title": "Article Type" },
            { "title": "Action" }
          ],
            columnDefs: [
              { "width": "2%", "targets": 0 },
              { "width": "18%", "targets": 1 },
              { "width": "20%", "targets": 2 },
              { "width": "18%", "targets": 3 },
              { "width": "10%", "targets": 4 },
              { "width": "11%", "targets": 5 },
              { "width": "20%", "targets": 6 },
            ],
              responsive: {
            details: {
              renderer: $.fn.dataTable.Responsive.renderer.tableAll()
            }
          }
                            });
          if (addCusDataList.length > 0) {
            $('#viewDataTable_paginate').show();
            $.each(addCusDataList, function (index, value) {
              var sno = index + 1;
              var action = "<input class='viewProdEditBtn' id='" + value.itemCode + "_" + type + "' type='button' value='Edit'> <input class='removeBtn' id='" + type + "_" + value.itemCode + "' type='button' value='Remove'>";
              viewDataTable.column(5).visible(true);
              viewDataTable.row.add([sno, value.itemCode, value.itemName, value.brandName, value.baseUom__quantityTypeCode, value.articleType__articleName, action]).draw();
            });
          }
          else {
            $('#viewDataTable_paginate').hide();
          }
           }

           }

          /* Customize search option for DataTable Start */
          $('#searchOption').on('keyup', function () {
            $('#viewDataTable').DataTable().search(this.value).draw();
          });
          /* Customize search option for DataTable End */

          var data = { "type": "supplier" };
          $.ajax({
            url: "/viewSupplier",
            type: "POST",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (result) {
              var data = result;
              if (data.status == 'success') {
                addCusTableList = data.totalItems[0].totalItem;
                pullCusTable(addCusTableList, "supplier");
              }
              else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                alert('Session has expired.');
                setTimeout(function () {
                  window.location.href = data.redirect_url;
                }, 2000);
              }
              else {
                addCusTableList = [];
                pullCusTable(addCusTableList, "supplier");
                hideShowUploadOption("supplier");
              }
            }
          });

          var viewProductDataTable = $('#viewProductDataTable').DataTable({
            "bFilter": false,
            "lengthChange": false,
            "targets": 'no-sort',
            "bSort": false,
            "info": false,
            "searching": true,
            "order": [],
            "pagingType": "full_numbers",
            language: {
              paginate: {
                previous: false,
                next: false,
                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
              last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                }
            },
          "columns": [
            { "title": "S.No" },
            { "title": "Product Code" },
            { "title": "Product Name" },
            { "title": "Category" },
            { "title": "UOM" },
            { "title": "Price" },
            { "title": "Action" }

          ],
            columnDefs: [
              { "width": "5%", "targets": 0 },
              { "width": "15%", "targets": 1 },
              { "width": "25%", "targets": 2 },
              { "width": "20%", "targets": 3 },
              { "width": "10%", "targets": 4 },
              { "width": "10%", "targets": 5 },
              { "width": "19%", "targets": 6 },
            ],
              responsive: {
            details: {
              renderer: $.fn.dataTable.Responsive.renderer.tableAll()
            }
          }
    });

  $(document).on('click', '.viewProdBtn', function () {

        var id = $(this).attr('id');
        var splitId = id.split("_");
        var companyName = splitId[1];
        var relId = splitId[2];
        var type = splitId[3];

        var data = { "relId": relId, 'type': type };
        $.ajax({
          url: "/viewCustomerOrSupplierProducts",
          type: "POST",
          dataType: "json",
          contentType: "application/json",
          data: JSON.stringify(data),
          success: function (result) {
            var data = result;

            if (data.status == 'success') {
                PermissionList = data.totalItems[0].totalItem;
                viewProductDataTable.destroy();
                $('#viewProductModalTitle').empty();
                $('#viewProductDataTable').empty();
                viewProductDataTable.clear().draw();
                viewProductDataTable = $('#viewProductDataTable').DataTable({
                  "bFilter": false,
                  "lengthChange": false,
                  "targets": 'no-sort',
                  "bSort": false,
                  "info": false,
                  "searching": true,
                  "order": [],
                  "pagingType": "full_numbers",
                  language: {
                    paginate: {
                      previous: false,
                      next: false,
                      first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
                    last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                          }
                                      },
                  "columns": [
                    { "title": "S.No" },
                    { "title": "Product Code" },
                    { "title": "Product Name" },
                    { "title": "UOM" },
                    { "title": "Sales Price" },
                    { "title": "Discount" },
                    { "title": "Absolute Discount" },
                    { "title": "Actual Price" },
                    { "title": "Action" },

                  ],
                    columnDefs: [
                      { "width": "4%", "targets": 0 },
                      { "width": "12%", "targets": 1 },
                      { "width": "12%", "targets": 2 },
                      { "width": "15%", "targets": 3 },
                      { "width": "12%", "targets": 4 },
                      { "width": "12%", "targets": 5 },
                      { "width": "15%", "targets": 7 },
                      { "width": "18%", "targets": 8 },
                    ],
                      responsive: {
                    details: {
                      renderer: $.fn.dataTable.Responsive.renderer.tableAll()
                    }
                  }
                });

              $.each(PermissionList, function (index, value) {
                var sno = index + 1;
                var discount = "<input class='discount' name='discount' id='discount_" + value.itemCode + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' value='" + value.discountPercentage + "' type='number' min='0' max='99' maxlength = '2' onkeypress='return isNumeric(event)' oninput='maxLengthCheck(this)'><span>%</span>";
                var actualSalesPrice = "<input class='actualSalesPrice' name='actualSalesPrice' id='actualSalesPrice_" + value.itemCode + "' value='" + value.discountPrice + " " + value.salesCurrency__currencyTypeCode + "' type='text' readonly>";
                var absoluteDiscount = "<input class='absoluteDiscount' name='absoluteDiscount' id='absoluteDiscount_" + value.itemCode + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' value='" + value.discountAbsolute + "' type='number'><span>" + value.salesCurrency__currencyTypeCode + "</span>";
                var action = "<input class='viewProdUpdateBtn' id='" + value.itemCode + "_" + relId + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' type='button' value='Update'> <input class='viewProdRemoveBtn' id='" + value.itemCode + "_" + relId + "_" + type + "_"+companyName+"' type='button' value='Remove'>";

                viewProductDataTable.row.add([sno, value.itemCode, value.itemName, value.salesUom__quantityTypeCode, value.salesPrice + " " + value.salesCurrency__currencyTypeCode, discount, absoluteDiscount, actualSalesPrice, action]).draw();
              });
              $('#viewProductModalTitle').append(splitId[1]);
              $('.modal-dialog').css('max-width', '90%');
              $('table.dataTable').css('width', '100%');
              $('#viewProductModal').modal('show');
            }
            else {
              alert('No Product Assigned');
            }
          }
        });
     });

  $(document).on('click', '.editCusBtn', function () {
    var cusId = $(this).attr('id');
    var result = cusId.split('_');
    var customerId = result[1];

    var data = { "customerId": customerId };
    $.ajax({
      url: "/viewCustomer",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          cusDetailsList = data.totalItems[0].totalItem;
          $.each(cusDetailsList, function (index, value) {
            $('#editCustomerModalTitle').empty();
            $('#editCustomerModalTitle').append("Customer - " + value.shippingCustomer__customerCode);
            $('#id_cusCompanyName').val(value.shippingCustomer__cusCompanyName);
            $('#id_cusCountryCode').val(value.shippingCustomer__cusCountryCode_id);
            $('#id_cusContactNo').val(value.shippingCustomer__cusContactNo);
            $('#id_contactPerson').val(value.shippingCustomer__contactPerson);
            $('#id_cusEmail').val(value.shippingCustomer__cusEmail);
            $('#cusEmailData').val(value.shippingCustomer__cusEmail);
            $('#id_cusAlterNateEmail').val(value.shippingCustomer__cusAlterNateEmail);
            $('#id_cusCommunicationEmail').val(value.shippingCustomer__cusCommunicationEmail);
            $('#id_cusAddress_Line1').val(value.shippingCustomer__cusAddress_Line1);
            $('#id_cusUnit1').val(value.shippingCustomer__cusUnit1);
            $('#id_cusUnit2').val(value.shippingCustomer__cusUnit2);
            $('#id_cusAddress_Line2').val(value.shippingCustomer__cusAddress_Line2);
            //$('#id_cusShipCountry').find('option[value="' + value.cusShipCountry_id + '"]').attr("selected", true);
            //$('#id_cusCountry').find('option[value="' + value.shippingCustomer__cusCountry_id + '"]').attr("selected", true);
            $("#id_cusCountry").val(value.shippingCustomer__cusCountry_id).attr("selected","selected");
            $("#id_cusShipCountry").val(value.cusShipCountry_id).attr("selected","selected");
            $.ajax({
              url: "/load-states",
              data: {
                "country_id": value.shippingCustomer__cusCountry_id
              },
              success: function (data) {
                var states = JSON.parse(data.states);

                var stateAppendValues = "";
                $.each(states, function (key, val) {
                  stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
                });
                $("#id_cusState").empty().append(stateAppendValues);
                $("#id_cusState").find('option[value="' + value.shippingCustomer__cusState_id + '"]').attr("selected", true);
              }
            });
            $.ajax({
              url: "/load-states",
              data: {
                "country_id": value.cusShipCountry_id
              },
              success: function (data) {
                var states = JSON.parse(data.states);

                var stateAppendValues = "";
                $.each(states, function (key, val) {
                  stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
                });
                $("#id_cusShipState").empty().append(stateAppendValues);
                $("#id_cusShipState").find('option[value="' + value.cusShipState_id + '"]').attr("selected", true);
              }
            });

            $('#id_cusPostalCode').val(value.shippingCustomer__cusPostalCode);

            $('#id_cusShipAddress_Line1').val(value.cusShipAddress_Line1);
            $('#id_cusShipUnit1').val(value.cusShipUnit1);
            $('#id_cusShipUnit2').val(value.cusShipUnit2);
            $('#id_cusShipAddress_Line2').val(value.cusShipAddress_Line2);
            $('#id_cusShipPostalCode').val(value.cusShipPostalCode);
          });

          $('#editCustomerModal').modal('toggle');
          $('#editCustomerModal').show();
        }
        else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
          alert('Session has expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 2000);
        }
        else {
          alert(result.error_msg);
        }
      }
    });


  });

  $(document).on('click', '.editSupBtn', function () {
    var supId = $(this).attr('id');
    var result = supId.split('_');
    var supplierId = result[1];
    var data = { "supplierId": supplierId };
    $.ajax({
      url: "/viewSupplier",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          supDetailsList = data.totalItems[0].totalItem;
          $.each(supDetailsList, function (index, value) {
            $('#editSupplierModalTitle').empty();
            $('#editSupplierModalTitle').append("Vendor - " + value.shippingSupplier__supplierCode);
            $('#id_supCompanyName').val(value.shippingSupplier__supCompanyName);
            $('#id_supCountryCode').val(value.shippingSupplier__supCountryCode_id);
            $('#id_supContactNo').val(value.shippingSupplier__supContactNo);
            $('#id_supContactPerson').val(value.shippingSupplier__contactPerson);
            $('#id_supEmail').val(value.shippingSupplier__supEmail);
            $('#supEmailData').val(value.shippingSupplier__supEmail);
            $('#id_supAlterNateEmail').val(value.shippingSupplier__supAlterNateEmail);
            $('#id_supCommunicationEmail').val(value.shippingSupplier__supCommunicationEmail);
            $('#id_supAddress_Line1').val(value.shippingSupplier__supAddress_Line1);
            $('#id_supUnit1').val(value.shippingSupplier__supUnit1);
            $('#id_supUnit2').val(value.shippingSupplier__supUnit2);
            $('#id_supAddress_Line2').val(value.shippingSupplier__supAddress_Line2);
            //$('#id_supCountry').find('option[value="' + value.shippingSupplier__supCountry_id + '"]').attr("selected", true);
            $("#id_supCountry").val(value.shippingSupplier__supCountry_id).attr("selected","selected");
            $("#id_supShipCountry").val(value.supShipCountry_id).attr("selected","selected");
            //$('#id_supShipCountry').find('option[value="' + value.supShipCountry_id + '"]').attr("selected", true);
            $.ajax({
              url: "/load-states",
              data: {
                "country_id": value.shippingSupplier__supCountry_id
              },
              success: function (data) {
                var states = JSON.parse(data.states);

                var stateAppendValues = "";
                $.each(states, function (key, val) {
                  stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
                });
                $("#id_supState").empty().append(stateAppendValues);
                $("#id_supState").find('option[value="' + value.shippingSupplier__supState_id + '"]').attr("selected", true);
              }
            });
            $.ajax({
              url: "/load-states",
              data: {
                "country_id": value.supShipCountry_id
              },
              success: function (data) {
                var states = JSON.parse(data.states);

                var stateAppendValues = "";
                $.each(states, function (key, val) {
                  stateAppendValues = stateAppendValues + "<option value=" + val.pk + ">" + val.fields.stateName + "</option>";
                });
                $("#id_supShipState").empty().append(stateAppendValues);
                $("#id_supShipState").find('option[value="' + value.supShipState_id + '"]').attr("selected", true);
              }
            });
            $('#id_supPostalCode').val(value.shippingSupplier__supPostalCode);

            $('#id_supShipAddress_Line1').val(value.supShipAddress_Line1);
            $('#id_supShipUnit1').val(value.supShipUnit1);
            $('#id_supShipUnit2').val(value.supShipUnit2);
            $('#id_supShipAddress_Line2').val(value.supShipAddress_Line2);
            $('#id_supShipPostalCode').val(value.supShipPostalCode);
          });

          $('#editSupplierModal').modal('toggle');
          $('#editSupplierModal').show();
        } else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
          alert('Session has expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 2000);
        }
        else {
          alert(data.error_msg);
        }

      }
    });


  });

  $(document).on('change', '#id_cusEmail,#id_cusAlterNateEmail,#id_cusCommunicationEmail', function () {
    var id = $(this).attr('id');
    if (id == "id_cusEmail") {
      var mail = document.getElementById("id_cusEmail").value;
      var errorId = '#emailError';
    }
    else if (id == "id_cusAlterNateEmail") {
      var mail = document.getElementById("id_cusAlterNateEmail").value;
      var errorId = '#cusAlterNateEmailError';
    }
    else {
      var mail = document.getElementById("id_cusCommunicationEmail").value;
      var errorId = '#cusCommunicationEmailError';
    }
    var atposition = mail.indexOf("@");
    var dotposition = mail.lastIndexOf(".");
    $(errorId).empty();
    if (atposition < 1 || dotposition < atposition + 2 || dotposition + 2 > mail.length) {
      $(errorId).css("color", "red");
      $(errorId).append('Please enter valid email id');
      return false;
    }
  });

  $(document).on('change', '#id_supEmail,#id_supAlterNateEmail,#id_supCommunicationEmail', function () {
    var id = $(this).attr('id');
    if (id == "id_supEmail") {
      var mail = document.getElementById("id_supEmail").value;
      var errorId = '#supEmailError';
    }
    else if (id == "id_supAlterNateEmail") {
      var mail = document.getElementById("id_supAlterNateEmail").value;
      var errorId = '#supAlterNateEmailError';
    }
    else {
      var mail = document.getElementById("id_supCommunicationEmail").value;
      var errorId = '#supCommunicationEmailError';
    }
    var atposition = mail.indexOf("@");
    var dotposition = mail.lastIndexOf(".");
    $(errorId).empty();
    if (atposition < 1 || dotposition < atposition + 2 || dotposition + 2 > mail.length) {
      $(errorId).css("color", "red");
      $(errorId).append('Please enter valid email id');
      return false;
    }
  });

  $(document).on('click', '#editSupplierDataSaveButton', function () {
    var formStatus;

    var emailError = $('#supEmailError').html();
    var alterNateEmailError = $('#supAlterNateEmailError').html();
    var communicationEmailError = $('#supCommunicationEmailError').html();
    if (emailError !== '') {

      var email = $("#id_supEmail").val();
      var errorFocus = '#id_supEmail';
      $(errorFocus).focus();
      return false;
    }
    else if (alterNateEmailError !== '') {
      var email = $("#id_supAlterNateEmail").val();
      var errorFocus = '#id_supAlterNateEmail';
      $(errorFocus).focus();
      return false;
    }
    else if (communicationEmailError !== '') {
      var email = $("#id_supCommunicationEmail").val();
      var errorFocus = '#id_supCommunicationEmail';
      $(errorFocus).focus();
      return false;
    }
    else {

      $(".editSupplierDetail input").each(function () {
        if (this.value != '') {
          $(".editSupplierDetail select").each(function () {
            if (this.value != '') {
              formStatus = true;
            }
            else {
              formStatus = false;
              $('#' + this.id + '').focus();
              return false;
            }
          });
        }
        else {
          formStatus = false;
          $('#' + this.id + '').focus();
          return false;
        }
      })
      if (formStatus == true) {

        var form_data = {};
        var form_data = $('#editSupplierDetailsForm').serialize();
        $.ajax({
          url: "/updateSupplier",
          type: "POST",
          data: form_data,
          dataType: 'json',
          cache: false,
          success: function (data) {
            if (data.status == 'success') {
              alert(data.success_msg);
              setTimeout(function () {
                location.reload();
              }, 2000);
            } else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
              alert('Session has expired.');
              setTimeout(function () {
                window.location.href = data.redirect_url;
              }, 2000);
            }
            else {
              alert(data.error_msg);
            }
          }
        });
      }
    }

  });


  $(document).on('click', '#editCustomerDataSaveButton', function () {

    var formStatus;

    var emailError = $('#emailError').html();
    var alterNateEmailError = $('#cusAlterNateEmailError').html();
    var communicationEmailError = $('#cusCommunicationEmailError').html();
    if (emailError !== '') {

      var email = $("#id_cusEmail").val();
      var errorFocus = '#id_cusEmail';
      $(errorFocus).focus();
      return false;
    }
    else if (alterNateEmailError !== '') {
      var email = $("#id_cusAlterNateEmail").val();
      var errorFocus = '#id_cusAlterNateEmail';
      $(errorFocus).focus();
      return false;
    }
    else if (communicationEmailError !== '') {
      var email = $("#id_cusCommunicationEmail").val();
      var errorFocus = '#id_cusCommunicationEmail';
      $(errorFocus).focus();
      return false;
    }
    else {

      $(".editCustomerDetail input").each(function () {
        if (this.value != '') {
          $(".editCustomerDetail select").each(function () {
            if (this.value != '') {
              formStatus = true;
            }
            else {
              formStatus = false;
              $('#' + this.id + '').focus();
              return false;
            }
          });
        }
        else {
          formStatus = false;
          $('#' + this.id + '').focus();
          return false;
        }
      });

      if (formStatus == true) {

        var form_data = {};
        var form_data = $('#editCustomerDetailsForm').serialize();
        $.ajax({
          url: "/updateCustomer",
          type: "POST",
          data: form_data,
          dataType: 'json',
          cache: false,
          success: function (data) {
            if (data.status == 'success') {
              alert(data.success_msg);
              setTimeout(function () {
                location.reload();
              }, 2000);
            } else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
              alert('Session has expired.');
              setTimeout(function () {
                window.location.href = data.redirect_url;
              }, 2000);
            }
            else {
              alert(data.error_msg);
            }
          }
        });
      }
    }

  });

  $(document).on('change', '.discount', function () {
    var discountId = $(this).attr('id');
    var disVal = $('#' + discountId).val();
    if (disVal == '') {
      disVal = 0;
    }
    var float = disVal / 100;
    var result = discountId.split('_');
    var actualSalesPrice = $('#actualSalesPrice_' + result[1]).val();
    var actualSalesPriceRes = actualSalesPrice.split(' ');
    var salesPrice = result[2];
    var res = float * salesPrice;
    var actRes = salesPrice - res;
    var absoluteDisVal = $('#absoluteDiscount_' + result[1] + '_' + result[2] + '_' + result[3]).val();
    if (absoluteDisVal != '') {
      var actVal = parseFloat(actRes) - parseFloat(absoluteDisVal);
      var roundedString = actVal.toFixed(2);
      var rounded = Number(roundedString);

      if (absoluteDisVal < actRes) {
        $('#actualSalesPrice_' + result[1]).empty();
        $('#actualSalesPrice_' + result[1]).val(rounded + " " + result[3]);
      }
      else {
        $('#absoluteDiscount_' + result[1] + '_' + result[2] + '_' + result[3]).val('');
        $('#absoluteDiscount_' + result[1] + '_' + result[2] + '_' + result[3]).focus();
        var actVal = parseFloat(actRes);
        var roundedString = actVal.toFixed(2);
        var rounded = Number(roundedString);
        $('#actualSalesPrice_' + result[1]).empty();
        $('#actualSalesPrice_' + result[1]).val(rounded + " " + result[3]);
        alert('Absolute Discount Should be lessor than Actual price ');
        return false;
      }
    }

    else {
      var roundedString = actRes.toFixed(2);
      var rounded = Number(roundedString);
      $('#actualSalesPrice_' + result[1]).empty();
      $('#actualSalesPrice_' + result[1]).val(rounded + " " + result[3]);
    }

  });

  $(document).on('change', '.absoluteDiscount', function () {
    var discountId = $(this).attr('id');
    var result = discountId.split('_');
    var absoluteDisVal = $('#' + discountId).val();
    if (absoluteDisVal == '') {
      absoluteDisVal = 0;
    }
    var actualSalesPrice = $('#actualSalesPrice_' + result[1]).val();
    var actualSalesPriceRes = actualSalesPrice.split(' ');
    var disVal = $('#discount_' + result[1] + '_' + result[2] + '_' + result[3]).val();
    if (disVal != '') {
      var float = disVal / 100;
      var salesPrice = result[2];
      var res = float * salesPrice;
      var actRes = salesPrice - res;
      var actVal = parseFloat(actRes) - parseFloat(absoluteDisVal);
      var roundedString = actVal.toFixed(2);
      var rounded = Number(roundedString);
      if (absoluteDisVal < actRes) {
        $('#actualSalesPrice_' + result[1]).empty();
        $('#actualSalesPrice_' + result[1]).val(rounded + " " + result[3]);
      }
      else {
        $('#' + discountId).val('');
        $('#' + discountId).focus();
        alert('Absolute Discount Should be lessor than Actual price ');
        return false;
      }
    }
    else {
      var salesPrice = result[2];
      var actVal = parseFloat(salesPrice) - parseFloat(absoluteDisVal);
      var roundedString = actVal.toFixed(2);
      var rounded = Number(roundedString);
      $('#actualSalesPrice_' + result[1]).empty();
      $('#actualSalesPrice_' + result[1]).val(rounded + " " + result[3]);
    }

  });



  $(document).on('click', '.viewSupplierProdBtn', function () {
    var id = $(this).attr('id');
    var splitId = id.split("_");
    var relId = splitId[1];
    var type = splitId[2];
    var data = { "relId": relId, 'type': type };
    $.ajax({
      url: "/viewCustomerOrSupplierProducts",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;

        if (data.status == 'success') {
          PermissionList = data.totalItems[0].totalItem;
          viewProductDataTable.destroy();
          $('#viewProductDataTable').empty();
          viewProductDataTable.clear().draw();
          viewProductDataTable = $('#viewProductDataTable').DataTable({
            "bFilter": false,
            "lengthChange": false,
            "targets": 'no-sort',
            "bSort": false,
            "info": false,
            "searching": true,
            "order": [],
            "pagingType": "full_numbers",
            language: {
              paginate: {
                previous: false,
                next: false,
                first: '<img src="{% static 'images/leftsidearrow.png' %}" width=15 />',
              last: '<img src="{% static 'images/rightsidearrow.png' %}" width=15 />'
                                    }
                                },
        "columns": [
          { "title": "S.No" },
          { "title": "Product code" },
          { "title": "Product Name" },
          { "title": "UOM" },
          { "title": "Price" },
          { "title": "Discount Price" },
          { "title": "Status" },


        ],
          columnDefs: [
            { "width": "5%", "targets": 0 },
            { "width": "25%", "targets": 1 },
            { "width": "25%", "targets": 2 },
            { "width": "10%", "targets": 3 },
            { "width": "12%", "targets": 4 },
            { "width": "12%", "targets": 5 },
            { "width": "10%", "targets": 6 },
          ],
            responsive: {
          details: {
            renderer: $.fn.dataTable.Responsive.renderer.tableAll()
          }
        }
      });
    $('#viewProductModalTitle').empty();
    $.each(PermissionList, function (index, value) {
      var sno = index + 1;
      if (value.linked != true) {
        var status = 'Not Linked';
      }
      else {
        var status = 'Linked';
      }
      viewProductDataTable.row.add([sno, value.itemCode, value.itemName, value.purchaseUom__quantityTypeCode, value.purchasePrice + " " + value.purchaseCurrency__currencyTypeCode, value.discountPrice + " " + value.purchaseCurrency__currencyTypeCode, status]).draw();
    });
    $('#viewProductModalTitle').append(splitId[0]);
    $('.modal-dialog').css('max-width', '90%');
    $('table.dataTable').css('width', '100%');
    $('#viewProductModal').modal('toggle');
    $('#viewProductModal').show();
  }
                  else {
      alert('No Product Assigned');

    }
                  }
                });
             });

  $(document).on('click', '.viewCusProdUpdateBtn', function () {
    var id = $(this).attr('id');
    var splitData = id.split("_");
    var itemCode = splitData[0];
    var relId = splitData[1];
    var type = splitData[2];
    var price = $('#price' + splitData[0]).val();
    var data = { "relId": relId, "itemCode": itemCode, "type": type, 'price': price };
    $.ajax({
      url: "/updateProductDetails",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          alert(data.success_msg);

        } else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          alert(data.error_msg);
        }

      }
    });
  });


  $(document).on('click', '.viewProdUpdateBtn', function () {
    var id = $(this).attr('id');
    var splitData = id.split("_");
    var itemCode = splitData[0];
    var relId = splitData[1];
    var salesPrice = splitData[2];
    var salesCurrency = splitData[3];
    var discount;
    var absoluteDiscount;

    var actualSalesPrice = $('#actualSalesPrice_' + splitData[0]).val();
    var actualSalesPriceRes = actualSalesPrice.split(' ');

    if ($('#discount_' + itemCode + '_' + salesPrice + '_' + salesCurrency).val() == '') {
      discount = 0;
    }
    else {
      discount = $('#discount_' + itemCode + '_' + salesPrice + '_' + salesCurrency).val();
    }
    if ($('#absoluteDiscount_' + itemCode + '_' + salesPrice + '_' + salesCurrency).val() == '') {
      absoluteDiscount = 0;
    }
    else {
      absoluteDiscount = $('#absoluteDiscount_' + itemCode + '_' + salesPrice + '_' + salesCurrency).val();
    }
    var data = { "cusId": relId, "itemCode": itemCode, "discountPercentage": discount, "discountAbsolute": absoluteDiscount, "discountPrice": actualSalesPriceRes[0] };
    $.ajax({
      url: "/updateProductAssigntoCustomer",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          alert(data.success_msg);
        } else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          alert(data.error_msg);
        }
      }
    });
  });

var mainData = {};
  $(document).on('click', '.viewProdRemoveBtn', function () {
    //$('#viewProductModal').modal('hide');
    var id = $(this).attr('id');
    var splitData = id.split("_");
    var itemCode = splitData[0];
    var relId = splitData[1];
    var type = splitData[2];
    var companyName = splitData[3];
    mainData = { "relId": relId, "itemCode": itemCode };
    $('#confirmModalPopupTitle').empty();
    $('#confirmModalPopupBodyContent').empty();
    $('#confirmModalPopupTitle').append('Delete Product');
    $('#confirmModalPopupBodyContent').append('Are you sure, you want to delete?');
    $('#confirmModalPopup').modal('show');
    $('#confirmModalPopupSubmit').on('click', function () {
      $.ajax({
        url: "/itemRemoveForCustomer",
        type: "POST",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(mainData),
        success: function (result) {
          var data = result;
          if (data.status == 'success') {
            alert(data.success_msg);
            var datas = { "relId": relId, 'type': type };
            $.ajax({
              url: "/viewCustomerOrSupplierProducts",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(datas),
              success: function (result) {
                var data2 = result;
                if (data2.status == 'success') {
                  PermissionList = data2.totalItems[0].totalItem;
                  //viewProductDataTable.destroy();
                  //$('#viewProductModalTitle').empty();
                  //$('#viewProductDataTable').empty();
                  viewProductDataTable.clear().draw();
                  $.each(PermissionList, function (index, value) {
                    var sno = index + 1;
                    var discount = "<input class='discount' name='discount' id='discount_" + value.itemCode + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' value='" + value.discountPercentage + "' type='number' min='0' max='99' maxlength = '2' onkeypress='return isNumeric(event)' oninput='maxLengthCheck(this)'><span>%</span>";
                    var actualSalesPrice = "<input class='actualSalesPrice' name='actualSalesPrice' id='actualSalesPrice_" + value.itemCode + "' value='" + value.discountPrice + " " + value.salesCurrency__currencyTypeCode + "' type='text' readonly>";
                    var absoluteDiscount = "<input class='absoluteDiscount' name='absoluteDiscount' id='absoluteDiscount_" + value.itemCode + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' value='" + value.discountAbsolute + "' type='number'><span>" + value.salesCurrency__currencyTypeCode + "</span>";
                    var action = "<input class='viewProdUpdateBtn' id='" + value.itemCode + "_" + relId + "_" + value.salesPrice + "_" + value.salesCurrency__currencyTypeCode + "' type='button' value='Update'> <input class='viewProdRemoveBtn' id='" + value.itemCode + "_" + relId + "_" + type + "' type='button' value='Remove'>";

                    viewProductDataTable.row.add([sno, value.itemCode, value.itemName, value.salesUom__quantityTypeCode, value.salesPrice + " " + value.salesCurrency__currencyTypeCode, discount, absoluteDiscount, actualSalesPrice, action]).draw();
                  });
                  $('.modal-dialog').css('max-width', '90%');
                  $('table.dataTable').css('width', '100%');
                  $('#viewProductModal').modal('show');
                }
                else {
                  alert('No Product Assigned');
                  setTimeout(function () {
                    location.reload();
                  }, 2000);
                }
              }
            });

          } else if (data.error_msg == 'sessionexpired') {
            alert('Session expired.');
            setTimeout(function () {
              window.location.href = data.redirect_url;
            }, 3000);
          }
          else {
            alert(data.error_msg);
          }
        }
      });
      mainData = {};
      });
  });

  $(document).on('click', '.viewProdEditBtn', function () {
    var id = $(this).attr('id');
    var splitId = id.split("_");
    var itemCode = splitId[0];
    var type = splitId[1];
    var data = { "itemCode": itemCode, "type": type };
    $.ajax({
      url: "/viewCustomerOrSupplierProducts",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          prodTableList = data.totalItems[0].totalItem;
          $.each(prodTableList, function (index, value) {
            $('#pitemCode').val(value.itemCode);
            $('#pitemName').val(value.itemName);
            $('#pitemDesc').val(value.itemDesc);
            $('#palterItemName').val(value.alterItemName);
            $('#palterItemCode').val(value.alterItemCode);
            $('#pbrandName').val(value.brandName);
            $('#ppackingUnit').val(value.packingUnit);
            $('#pmanufacturingLeadTime').val(value.manufacturingLeadTime);
            $('#particleType').find('option[value="' + value.articleType__articleId + '"]').attr("selected", true);
            $('#pitemCategory').find('option[value="' + value.itemCategory + '"]').attr("selected", true);
            $('#pitemMerchantCategory').find('option[value="' + value.itemMerchantCategory + '"]').attr("selected", true);
            $('#pitemMerchantCategoryOne').find('option[value="' + value.itemMerchantCategoryOne + '"]').attr("selected", true);
            $('#pitemMerchantCategoryTwo').find('option[value="' + value.itemMerchantCategoryTwo + '"]').attr("selected", true);
            $('#pitemStorageCondition').find('option[value="' + value.itemStorageCondition + '"]').attr("selected", true);
            $('#pbaseUom').find('option[value="' + value.baseUom + '"]').attr("selected", true);
            $('#pselfManufacturing').prop('checked', value.selfManufacturing);
            $('#id_setAsDefaultProduct').prop('checked', value.setAsDefault);
            $('#id_setAsViewProduct').prop('checked', value.setAsView);
            $('#pproductDetail').val(value.productDetail);
            $('#pattributeColor').val(value.attributeItem__attributeColor);
            $('#pattributeStyle').val(value.attributeItem__attributeStyle);
            $('#pattributeSize').val(value.attributeItem__attributeSize);
            $('#pattributeOther').val(value.attributeItem__attributeOther);
            $('#pattributeDesign').val(value.attributeItem__attributeDesign);
            $('#ppurchasingUom').find('option[value="' + value.purchasingItem__purchasingUom + '"]').attr("selected", true);
            $('#ppurchasingTax').find('option[value="' + value.purchasingItem__purchasingTax + '"]').attr("selected", true);
            $('#ppurchasingPrice').val(value.purchasingItem__purchasingPrice);
            $('#ppurchasingCurrency').find('option[value="' + value.purchasingItem__purchasingCurrency + '"]').attr("selected", true);
            $('#ppurchasingPriceUnit').val(value.purchasingItem__purchasingPriceUnit);
            $('#ppurchasingUomForKg').find('option[value="' + value.purchasingItem__purchasingUomForKg + '"]').attr("selected", true);
            $('#ppurchasingOrderText').val(value.purchasingItem__purchasingOrderText);
            $('#psalesUom').find('option[value="' + value.salesItem__salesUom + '"]').attr("selected", true);
            $('#psalesTax').find('option[value="' + value.salesItem__salesTax + '"]').attr("selected", true);
            $('#psalesCategoryGrp').val(value.salesItem__salesCategoryGrp);
            $('#psalesOrderText').val(value.salesItem__salesOrderText);
            $('#psalesPrice').val(value.salesItem__salesPrice);
            $('#psalesCurrency').find('option[value="' + value.salesItem__salesCurrency + '"]').attr("selected", true);
            $('#psalesPriceUnit').val(value.salesItem__salesPriceUnit);
            $('#psalesUomForKg').find('option[value="' + value.salesItem__salesUomForKg + '"]').attr("selected", true);
            $('#pmeasurementDimension').val(value.measurementItem__measurementDimension);
            $('#pmeasurementDimensionUnit').find('option[value="' + value.measurementItem__measurementDimensionUnit + '"]').attr("selected", true);
            $('#pmeasurementLength').val(value.measurementItem__measurementLength);
            $('#pmeasurementWidth').val(value.measurementItem__measurementWidth);
            $('#pmeasurementHeight').val(value.measurementItem__measurementHeight);
            $('#pmeasurementWeight').val(value.measurementItem__measurementWeight);
            $('#pmeasurementWeightUnit').find('option[value="' + value.measurementItem__measurementWeightUnit + '"]').attr("selected", true);
            $('#pstorageShelfLife').val(value.storageItem__storageShelfLife);
            $('#pstorageCase').val(value.storageItem__storageCase);
            $('#pstorageTier').val(value.storageItem__storageTier);
            $('#pstoragePallet').val(value.storageItem__storagePallet);
            $('#pstorageDept').find('option[value="' + value.storageItem__storageDept + '"]').attr("selected", true);
            $('#pstorageRack').val(value.measurementItem__measurementWeight);
            $('#palterNateParamOne').val(value.parameterItem__alterNateParamOne);
            $('#palterNateParamTwo').val(value.parameterItem__alterNateParamTwo);
            $('#palterNateParamThree').val(value.parameterItem__alterNateParamThree);
            $('#palterNateParamFour').val(value.parameterItem__alterNateParamFour);
          });
          $('#editProductModalTitle').html('Edit Product');
          $('.editProductModaldia').css('max-width', '85%');
          $('#pitemCode').attr('readonly', true);
          $('#pitemName').attr('readonly', true);
          var productForData = $('#pproductDetail').val();
          if (productForData == 'Both') {
            $('#salesHead').show();
            $('#salesData').show();
            $('#purchaseHead').show();
            $('#purchaseData').show();
          }
          else if (productForData == 'Purchase') {
            $('#salesHead').hide();
            $('#salesData').hide();
            $('#psalesCategoryGrp').val('');
            $('#psalesOrderText').val('');
            $('#psalesPrice').val('');
            $('#psalesCurrency').val('');
            $('#psalesPriceUnit').val('');
            $('#psalesUomForKg').val('');
            $('#purchaseHead').show();
            $('#purchaseData').show();
          }
          else if (productForData == 'Sale') {
            $('#ppurchasingUom').val('');
            $('#ppurchasingTax').val('');
            $('#ppurchasingPrice').val('');
            $('#ppurchasingCurrency').val('');
            $('#ppurchasingPriceUnit').val('');
            $('#ppurchasingUomForKg').val('');
            $('#ppurchasingOrderText').val('');
            $('#salesHead').show();
            $('#salesData').show();
            $('#purchaseHead').hide();
            $('#purchaseData').hide();
          }
          $('#editProductModal').show();
          $('#editProductModal').modal('toggle');
          $('#scrollTopDiv').scrollTop(0);
          $('.editProductModalClose').on('click', function () {
          document.getElementById("editProductDetailsForm").reset();
            var data = { "type": "product" };
            $.ajax({
              url: "/viewProduct",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "product");

                }
                else if (data.error_msg == 'sessionexpired') {
                  alert('Session expired.');
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 3000);
                }
                else {
                  alert(data.error_msg);
                }
              }
            });
          });
        }
        else {
          alert(data.error_msg);
        }

      }
    });
  });

  $(function(){
         $('#pmeasurementDimension,#pmeasurementLength,#pmeasurementHeight,#pmeasurementWidth,#pmeasurementWeight').keypress(function( e ) {
                    if(e.which === 32)
                        return false;
                });

            $('#pmeasurementDimension,#pmeasurementLength,#pmeasurementHeight,#pmeasurementWidth,#pmeasurementWeight').on("cut copy paste",function(e) {
                  e.preventDefault();
            });
        });

         $(document).on('keypress', '#pmeasurementDimension', function(event) {

             //if the letter is not digit then display error and don't type anything
             if (event.which != 8 && event.which != 0 && (event.which < 48 || event.which > 57)) {
                //display error message

                       return false;
            }
           });

             $(document).on('keypress', '#pbrandName', function(event) {
    if ((event.which < 48 || event.which > 57)&&(event.which < 65 || event.which > 90)&&(event.which < 97 || event.which > 122)&&(event.which < 32 || event.which > 32)) {
    event.preventDefault();
    }
    });

  $(document).on('change', '#pproductDetail', function () {
    var productForData = $('#pproductDetail').val();
    if (productForData == 'Both') {
      $('#salesHead').show();
      $('#salesData').show();
      $('#purchaseHead').show();
      $('#purchaseData').show();
    }
    else if (productForData == 'Purchase') {
      $('#salesHead').hide();
      $('#salesData').hide();
      $('#psalesUom').val('');
      $('#psalesTax').val('');
      $('#psalesCategoryGrp').val('');
      $('#psalesOrderText').val('');
      $('#psalesPrice').val('');
      $('#psalesCurrency').val('');
      $('#psalesPriceUnit').val('');
      $('#psalesUomForKg').val('');

      $('#purchaseHead').show();
      $('#purchaseData').show();
    }
    else if (productForData == 'Sale') {

      $('#ppurchasingUom').val('');
      $('#ppurchasingTax').val('');
      $('#ppurchasingPrice').val('');
      $('#ppurchasingCurrency').val('');
      $('#ppurchasingPriceUnit').val('');
      $('#ppurchasingUomForKg').val('');
      $('#ppurchasingOrderText').val('');
      $('#salesHead').show();
      $('#salesData').show();
      $('#purchaseHead').hide();
      $('#purchaseData').hide();
    }
  });
  $(document).on('click', '.editProductSubmitBtn', function () {
    var brandName = $('#pbrandName').val();
    var itemDesc = $('#pitemDesc').val();
    var articleType = $('#particleType').val();
    var itemStorageCondition = $('#pitemStorageCondition').val();
    var baseUom = $('#pbaseUom').val();
    var productDetail = $('#pproductDetail').val();
    var purchasingUom = $('#ppurchasingUom').val();
    var purchasingTax = $('#ppurchasingTax').val();
    var purchasingPrice = $('#ppurchasingPrice').val();
    var purchasingCurrency = $('#ppurchasingCurrency').val();
    var purchasingPriceUnit = $('#ppurchasingPriceUnit').val();
    var purchasingUomForKg = $('#ppurchasingUomForKg').val();
    var purchasingOrderText = $('#ppurchasingOrderText').val();
    var salesUom = $('#psalesUom').val();
    var salesTax = $('#psalesTax').val();
    var salesPrice = $('#psalesPrice').val();
    var salesCurrency = $('#psalesCurrency').val();
    if (brandName == '') {
      $('#pbrandName').focus();
      return false;
    }
    else if (itemDesc == '') {
      $('#pitemDesc').focus();
      return false;
    }
    else if (articleType == '') {
      $('#particleType').focus();
      return false;
    }
    else if (itemStorageCondition == '') {
      $('#pitemStorageCondition').focus();
      return false;
    }
    else if (baseUom == '') {
      $('#pbaseUom').focus();
      return false;
    }
    else if (purchasingUom == '' && productDetail != 'Sale') {
      $('#ppurchasingUom').focus();
      return false;
    }
    else if (purchasingTax == '' && productDetail != 'Sale') {
      $('#ppurchasingTax').focus();
      return false;
    }
    else if (purchasingPrice == '' && productDetail != 'Sale') {
      $('#ppurchasingPrice').focus();
      return false;
    }
    else if (purchasingCurrency == '' && productDetail != 'Sale') {
      $('#ppurchasingCurrency').focus();
      return false;
    }
    else if (purchasingPriceUnit == '' && productDetail != 'Sale') {
      $('#ppurchasingPriceUnit').focus();
      return false;
    }
    else if (purchasingUomForKg == '' && productDetail != 'Sale') {
      $('#ppurchasingUomForKg').focus();
      return false;
    }
    else if (purchasingOrderText == '' && productDetail != 'Sale') {
      $('#ppurchasingOrderText').focus();
      return false;
    }
    else if (salesUom == '' && productDetail != 'Purchase') {
      $('#psalesUom').focus();
      return false;
    }
    else if (salesTax == '' && productDetail != 'Purchase') {
      $('#psalesTax').focus();
      return false;
    }
    else if (salesPrice == '' && productDetail != 'Purchase') {
      $('#psalesPrice').focus();
      return false;
    }
    else if (salesCurrency == '' && productDetail != 'Purchase') {
      $('#psalesCurrency').focus();
      return false;
    }
    else {
      var form_data = {};
      var form_data = $('#editProductDetailsForm').serialize();
      $.ajax({
        url: "/updateMasterProduct",
        type: "POST",
        data: form_data,
        dataType: 'json',
        cache: false,
        success: function (data) {
          if (data.status == 'success') {
            alert(data.success_msg);
            setTimeout(function () {
              location.reload();
            }, 2000);
          } else if (data.error_msg == 'sessionexpired') {
            alert('Session expired.');
            setTimeout(function () {
              window.location.href = data.redirect_url;
            }, 3000);
          }
          else {
            alert(data.error_msg);
          }
        }
      });
    }
  });
  $(document).on('click', '.addDataViaId', function () {
    var id = $(this).attr('id');
    if (id == 'addCustomerById') {
      $('#typeTrader').val("customer");
      $('#traderByIdModalTitle').empty();
      $('#traderByIdModalTitle').append("Add Customer By Company Code");
      $('#tradeByValue').val('');
      $('#traderById').modal();

    } else {
      $('#typeTrader').val("vendor");
      $('#traderByIdModalTitle').empty();
      $('#traderByIdModalTitle').append("Add Vendor By Company Code");
      $('#tradeByValue').val('');
      $('#traderById').modal();
    }

  });
  $(document).on('click', '#traderByIdModalsubmit', function () {
    var type = $('#typeTrader').val();
    var code = $('#tradeByValue').val();
    if (code == "") {
      alert("Please enter company code");
    } else {
      $.ajax({
        url: "/companyCodeIsExists?code=" + code,
        type: "GET",
        dataType: 'json',
        cache: false,
        success: function (data) {
          if (data.status == 'success') {
            window.location.href = "/saveTradersById?type=" + type + "&code=" + code;
          } else if (data.error_msg == 'sessionexpired') {
            alert('Session expired.');
            setTimeout(function () {
              window.location.href = data.redirect_url;
            }, 3000);
          }
          else {
            alert(data.error_msg);
          }
        }
      });

    }

  });

  $(document).on('click', '.rejectedBtn', function () {
    var data = $(this).attr('id');
    var result = data.split("_");
    var type = result[0];
    var id = result[1];
    $('#confirmModalRejectPopupTitle').empty();
    $('#dataRejectId').val('');
    $('#dataRejectType').val('');
    $('#confirmModalRejectPopupBodyContent').empty();
    $('#confirmModalRejectPopupTitle').append('Re-Connection');
    $('#dataRejectId').val(id);
    $('#dataRejectType').val(type);
    $('#confirmModalRejectPopupBodyContent').append('Are you sure, you want to send request again?');
    $('#confirmModalRejectPopup').modal('show');
  });
  $(document).on('click', '#confirmModalRejectPopupSubmit', function () {
    var id = $('#dataRejectId').val();
    var type = $('#dataRejectType').val();
    var value = "Connect";
    $body.addClass("loading");
    var data = { "email": id, "type": type, "status": value };
    $.ajax({
      url: "/inviteSend",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {

        if (result.status == 'success') {
          if (type == "customer") {
            var data = { "type": type };
            $.ajax({
              url: "/viewCustomer",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "customer");

                }
                else if (data.error_msg == 'sessionexpired') {
                  alert('Session expired.');
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 3000);
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          else {
            var data = { "type": type };
            $.ajax({
              url: "/viewSupplier",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "supplier");

                }
                else if (data.error_msg == 'sessionexpired') {
                  alert('Session expired.');
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 3000);
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          $body.removeClass("loading");
          alert(result.success_msg);
        }
      }
    });
  });

  $(document).on('click', '.inviteBtn', function () {
    var data = $(this).attr('id');
    var result = data.split("_");
    var type = result[0];
    var id = result[1];
    var value = $(this).val();
    $body.addClass("loading");
    var data = { "email": id, "type": type, "status": value };
    $.ajax({
      url: "/inviteSend",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {

        if (result.status == 'success') {
          if (type == "customer") {
            var data = { "type": type };
            $.ajax({
              url: "/viewCustomer",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "customer");

                }
                else if (data.error_msg == 'sessionexpired') {
                  alert('Session expired.');
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 3000);
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          else {
            var data = { "type": type };
            $.ajax({
              url: "/viewSupplier",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "supplier");

                }
                else if (data.error_msg == 'sessionexpired') {
                  alert('Session expired.');
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 3000);
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          $body.removeClass("loading");
          alert(result.success_msg);
        }
      }
    });
  });
  $(document).on('click', '.activeBtn', function () {
    var data = $(this).attr('id');
    var result = data.split("_");
    var type = result[0];
    var id = result[1];
    $('#confirmModalAcceptPopupTitle').empty();
    $('#dataAcceptId').val('');
    $('#dataAcceptType').val('');
    $('#confirmModalAcceptPopupBodyContent').empty();
    $('#confirmModalAcceptPopupTitle').append('Remove Connection');
    $('#dataAcceptId').val(id);
    $('#dataAcceptType').val(type);
    $('#confirmModalAcceptPopupBodyContent').append('Are you sure, you want to remove the connection?');
    $('#confirmModalAcceptPopup').modal('show');
  });

  $(document).on('click', '.removeBtn', function () {
    var data = $(this).attr('id');
    var result = data.split("_");
    var type = result[0];
    var id = result[1];
    if (type != 'product') {
      $('#confirmModalPopupTitle').empty();
      $('#dataId').val('');
      $('#dataType').val('');
      $('#confirmModalPopupBodyContent').empty();
      $('#confirmModalPopupTitle').append('Delete User');
      $('#dataId').val(id);
      $('#dataType').val(type);
      $('#confirmModalPopupBodyContent').append('Are you sure, you want to delete?');
      $('#confirmModalPopup').modal('show');
      $('#confirmModalPopupSubmit').on('click', function () {
        var id = $('#dataId').val();
        var type = $('#dataType').val();
        if (type != 'product') {
          $body.addClass("loading");
          var data = { "email": id, "type": type };
          var url = "/removeCustomer";
          if (type == "supplier") {
            url = "/removeSupplier";
          }
          $.ajax({
            url: url,
            type: "POST",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (result) {
              if (result.status == 'success') {
                if (type == "customer") {

                  var data = { "type": type };
                  $.ajax({
                    url: "/viewCustomer",
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json",
                    data: JSON.stringify(data),
                    success: function (result) {
                      var data = result;

                      if (data.status == 'success') {
                        addCusTableList = data.totalItems[0].totalItem;
                        pullCusTable(addCusTableList, "customer");

                      }

                      else if (data.status == 'error' && result.error_msg == 'sessionexpired') {
                        alert('Session has expired.');
                        setTimeout(function () {
                          window.location.href = data.redirect_url;
                        }, 2000);
                      }
                      else {
                        viewDataTable.clear().draw();
                        alert(data.error_msg);
                      }
                    }
                  });

                }
                else {
                  var data = { "type": type };
                  $.ajax({
                    url: "/viewSupplier",
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json",
                    data: JSON.stringify(data),
                    success: function (result) {
                      var data = result;

                      if (data.status == 'success') {
                        addCusTableList = data.totalItems[0].totalItem;
                        pullCusTable(addCusTableList, "supplier");

                      }
                      else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
                        alert('Session has expired.');
                        setTimeout(function () {
                          window.location.href = data.redirect_url;
                        }, 2000);
                      }
                      else {
                        viewDataTable.clear().draw();
                        alert(result.error_msg);
                      }

                    }
                  });
                }
                $body.removeClass("loading");
                alert(result.success_msg);
              }
              else {
                $body.removeClass("loading");
                alert(result.error_msg);
              }
            }
          });

        }

        else {
          $body.addClass("loading");
          var data = { "itemCode": id, "type": type };
          $.ajax({
            url: "/removeProduct",
            type: "POST",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (result) {
              if (result.status == 'success') {
                var data = { "type": "product" };
                $.ajax({
                  url: "/viewProduct",
                  type: "POST",
                  dataType: "json",
                  contentType: "application/json",
                  data: JSON.stringify(data),
                  success: function (result) {
                    var data = result;

                    if (data.status == 'success') {
                      addCusTableList = data.totalItems[0].totalItem;
                      pullCusTable(addCusTableList, "product");

                    }
                    else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
                      alert('Session has expired.');
                      setTimeout(function () {
                        window.location.href = data.redirect_url;
                      }, 2000);
                    }
                    else {
                      viewDataTable.clear().draw();
                      alert(result.error_msg);
                    }
                  }
                });
                $body.removeClass("loading");
                alert(result.success_msg);
              }
              else {
                $body.removeClass("loading");
                alert(result.error_msg);
              }

            }
          });

        }

      });
    }
    else {

      $('#confirmModalPopupTitle').empty();
      $('#dataId').val('');
      $('#dataType').val('');
      $('#confirmModalPopupBodyContent').empty();
      $('#confirmModalPopupTitle').append('Delete Product');
      $('#dataId').val(id);
      $('#dataType').val(type);
      $('#confirmModalPopupBodyContent').append('Are you sure, you want to delete?');
      $('#confirmModalPopup').modal('show');
      $('#confirmModalPopupSubmit').on('click', function () {

        var id = $('#dataId').val();
        var type = $('#dataType').val();
        if (type != 'product') {
          $body.addClass("loading");
          var data = { "email": id, "type": type };
          var url = "/removeCustomer";
          if (type == "supplier") {
            url = "/removeSupplier";
          }
          $.ajax({
            url: url,
            type: "POST",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (result) {

              if (result.status == 'success') {
                if (type == "customer") {
                  var data = { "type": type };
                  $.ajax({
                    url: "/viewCustomer",
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json",
                    data: JSON.stringify(data),
                    success: function (result) {
                      var data = result;

                      if (data.status == 'success') {
                        addCusTableList = data.totalItems[0].totalItem;
                        pullCusTable(addCusTableList, "customer");

                      }
                      else if (data.error_msg == 'sessionexpired') {
                        alert('Session expired.');
                        setTimeout(function () {
                          window.location.href = data.redirect_url;
                        }, 3000);
                      }
                      else {
                        viewDataTable.clear().draw();
                        alert(data.error_msg);
                      }
                    }
                  });
                }
                else {
                  var data = { "type": type };
                  $.ajax({
                    url: "/viewSupplier",
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json",
                    data: JSON.stringify(data),
                    success: function (result) {
                      var data = result;

                      if (data.status == 'success') {
                        addCusTableList = data.totalItems[0].totalItem;
                        pullCusTable(addCusTableList, "supplier");

                      }
                      else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
                        alert('Session has expired.');
                        setTimeout(function () {
                          window.location.href = data.redirect_url;
                        }, 2000);
                      }
                      else {
                        viewDataTable.clear().draw();
                        alert(result.error_msg);
                      }
                    }
                  });
                }
                $body.removeClass("loading");
                alert(result.success_msg);
              }
              else {
                $body.removeClass("loading");
                alert(result.error_msg);
              }
            }
          });

        }

        else {
          $body.addClass("loading");
          var data = { "itemCode": id, "type": type };
          $.ajax({
            url: "/removeProduct",
            type: "POST",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (result) {
              if (result.status == 'success') {
                var data = { "type": "product" };
                $.ajax({
                  url: "/viewProduct",
                  type: "POST",
                  dataType: "json",
                  contentType: "application/json",
                  data: JSON.stringify(data),
                  success: function (result) {
                    var data = result;

                    if (data.status == 'success') {
                      addCusTableList = data.totalItems[0].totalItem;
                      pullCusTable(addCusTableList, "product");

                    }
                    else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
                      alert('Session has expired.');
                      setTimeout(function () {
                        window.location.href = data.redirect_url;
                      }, 2000);
                    }
                    else {
                      viewDataTable.clear().draw();
                      alert(result.error_msg);
                    }
                  }
                });
                $body.removeClass("loading");
                alert(result.success_msg);
              }
              else{
                $body.removeClass("loading");
                alert(result.error_msg);
              }


            }
          });

        }

      });


    }

  });

  $('#confirmModalAcceptPopupSubmit').on('click', function () {
    var id = $('#dataAcceptId').val();
    var type = $('#dataAcceptType').val();
    $body.addClass("loading");
    var data = { "type": type, "email": id };
    $.ajax({
      url: "/disconnectTrader",
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;

        if (data.status == 'success') {
          if (type == "customer") {
            var data = { "type": type };
            $.ajax({
              url: "/viewCustomer",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "customer");

                }
                else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 2000);
                  alert('Session has expired.');
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          else {
            var data = { "type": type };
            $.ajax({
              url: "/viewSupplier",
              type: "POST",
              dataType: "json",
              contentType: "application/json",
              data: JSON.stringify(data),
              success: function (result) {
                var data = result;

                if (data.status == 'success') {
                  addCusTableList = data.totalItems[0].totalItem;
                  pullCusTable(addCusTableList, "supplier");

                }
                else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                  setTimeout(function () {
                    window.location.href = data.redirect_url;
                  }, 2000);
                  alert('Session has expired.');
                }
                else {
                  viewDataTable.clear().draw();
                  alert(data.error_msg);
                }
              }
            });
          }
          $body.removeClass("loading");
          alert(result.success_msg);

        }
        else if (data.status == 'error' && data.error_msg != 'sessionexpired') {
          $body.removeClass("loading");
          alert(data.error_msg);


        } else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
      }
    });


  });


  function showMessage(status, msgTitle, msgBody) {
    $('#exampleModalTitle').empty();
    $('#samplePopupBodyContent').empty();
    $('#exampleModalTitle').append(msgTitle);
    $('#samplePopupBodyContent').append(msgBody);
    $('.sampleModalPopup').css('max-width', '35%');
    if (status == 'error') {
      $('.sampleModalPopup').css('max-width', '80%');
    }
    $('#sampleModalPopup').modal('show');
  }

  $('.customerType').hide();
  $('#idContainer').hide();

  $(document).on('click', '#companyLogoUpdateBtn', function () {
    var form_data = new FormData();
    var file_data = $('#companyLogo').prop('files')[0];
    var data = "csrfmiddlewaretoken=" + $('input[name=csrfmiddlewaretoken]').val() + "companyLogoPath=" + file_data;
    $.ajax({
      url: "/logoupdate",
      type: "POST",
      dataType: "text",
      data: data,
      async: false,
      success: function (data) {

      }
    });
  });

  $('#domainName').val('');

  $('#exampleModalCenter').on('shown.bs.modal', function () {
    $('#domainName').focus();
  });

  $('#popupCloseBtn').on('click', function () {
    $('#domainName').val('');
    $('#successmsg').empty();
    $('#errormsg').empty();
  });

  $('#submit').on('click', function () {
    $('#success_msg').empty();
    $('#error_msg').empty();
    if ($('#domainName').val() != '') {
      var data = "csrfmiddlewaretoken=" + $('input[name=csrfmiddlewaretoken]').val() + "&domainName=" + $('#domainName').val();
      $.ajax({
        url: "/renameSchemaURL",
        type: "POST",
        dataType: "text",
        data: data,
        async: false,
        success: function (result) {
          var data = JSON.parse(result);
          if (data.status == 'success') {
            $('#success_msg').append(data.success_msg);
            $("#domainName").prop("disabled", true);
            $("#submit").prop("disabled", true);
            setTimeout(function () {
              $('#success_msg').empty();
              window.location.href = data.redirect_url;
            }, 3000);
          }
          else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
            $('#domainName').val('');
            $('#error_msg').append('Session expired.');
            $("#domainName").prop("disabled", true);
            $("#submit").prop("disabled", true);
            setTimeout(function () {
              window.location.href = data.redirect_url;
            }, 3000);
          }
          else {
            $('#error_msg').append(data.error_msg);
          }
        }
      });
    }
    else {
      $('#error_msg').append('Please enter domain name');
    }
  });

  $('.mini-submenu').on('click', function () {
    $(this).next('.list-group').toggle('slide');
    $('.mini-submenu').hide();
  })

  checkTreeCollapse();

  function checkTreeCollapse() {
    $(".tree-container li.tree-li").removeClass("is-child")
    $(".tree-container li.tree-li").each(function () {
      if ($(this).find("ul.tree-ul li").length > 0) {
        $(this).addClass("is-child")
      }
    });
    $(".tree-container li.tree-li span.text").unbind("click");
    $(".tree-container li.tree-li.is-child span.text").click(function () {
      $(this).parent(".tree-li").toggleClass("diactive");
      $(this).parent(".tree-li").find(".tree-ul:first").toggleClass("diactive");
    });
  }

  $('.navTabClass').on('click', function () {
    var id = $(this).attr('id');
    $('.navTabClass').removeClass('navHeading');
    $('.navTabClass > a.anchorlink').removeClass('activeNav');
    $('#' + id + '').addClass('navHeading');
    $('#' + id + '> a').addClass('activeNav');
  });

  var url = new URL(window.location.href);
  if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'vendor') {
    var tabId = 'both_supplier';
    $('.bothModuleTab').removeClass('bothModuleTabActive');
    $('#' + tabId + '').addClass('bothModuleTabActive');
    var module = tabId.split("_");
    var data = { "type": module[1] };
    var url = "/viewProduct";
    if (module[1] == 'customer') {
      url = "/viewCustomer";
    } else if (module[1] == 'supplier') {
      url = "/viewSupplier";
    }

    $.ajax({
      url: url,
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          addCusTableList = data.totalItems[0].totalItem;
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
        }
        else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          addCusTableList = [];
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
          alert(data.error_msg);
        }
      }
    });
  }
  else if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'customer') {
    var tabId = 'both_customer';
    $('.bothModuleTab').removeClass('bothModuleTabActive');
    $('#' + tabId + '').addClass('bothModuleTabActive');
    var module = tabId.split("_");
    var data = { "type": module[1] };
    var url = "/viewProduct";
    if (module[1] == 'customer') {
      url = "/viewCustomer";
    } else if (module[1] == 'supplier') {
      url = "/viewSupplier";
    }

    $.ajax({
      url: url,
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          addCusTableList = data.totalItems[0].totalItem;
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
        }
        else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          addCusTableList = [];
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
          alert(data.error_msg);
        }
      }
    });
  }
  else if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'product') {
    var tabId = 'both_product';
    $('.bothModuleTab').removeClass('bothModuleTabActive');
    $('#' + tabId + '').addClass('bothModuleTabActive');
    var module = tabId.split("_");
    var data = { "type": module[1] };
    var url = "/viewProduct";
    if (module[1] == 'customer') {
      url = "/viewCustomer";
    } else if (module[1] == 'supplier') {
      url = "/viewSupplier";
    }

    $.ajax({
      url: url,
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          addCusTableList = data.totalItems[0].totalItem;
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
        }
        else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          addCusTableList = [];
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
          alert(data.error_msg);
        }
      }
    });
  }

  $('.bothModuleTab').on('click', function () {
    var tabId = $(this).attr('id');
    $('.bothModuleTab').removeClass('bothModuleTabActive');
    $('#' + tabId + '').addClass('bothModuleTabActive');
    var module = tabId.split("_");
    var data = { "type": module[1] };
    var url = "/viewProduct";
    if (module[1] == 'customer') {
      url = "/viewCustomer";
    } else if (module[1] == 'supplier') {
      url = "/viewSupplier";
    }

    $.ajax({
      url: url,
      type: "POST",
      dataType: "json",
      contentType: "application/json",
      data: JSON.stringify(data),
      success: function (result) {
        var data = result;
        if (data.status == 'success') {
          addCusTableList = data.totalItems[0].totalItem;
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
        }
        else if (data.error_msg == 'sessionexpired') {
          alert('Session expired.');
          setTimeout(function () {
            window.location.href = data.redirect_url;
          }, 3000);
        }
        else {
          addCusTableList = [];
          pullCusTable(addCusTableList, module[1]);
          hideShowUploadOption(module[1]);
          alert(data.error_msg);
        }
      }
    });
  });

  function hideShowUploadOption(module) {
    $('.moduleData').hide();
    $('#' + module + 'Data').show();
  }

  window.scrollTo(0, 0);
  window.document.body.scrollTop++;
    });
</script>
{% endblock %}