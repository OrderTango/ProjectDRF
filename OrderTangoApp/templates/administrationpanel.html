{% extends 'administrationpanelbase.html' %}
{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/administrationpanel.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/manualUploadForm.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/jquery-ui.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}"/>
<script src ="{% static 'js/jquery-ui.js' %}"></script>
<script src ="{% static 'js/script.js' %}"></script>
<style>

    #onBoardTab {
        font-weight: bold;
        padding: 5px 10px 5px 5px !important;
        border: 1px solid #f9f3fa;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
    }

    #onBoardAnchor {
        color: #474747;
        padding-bottom: 5px;
        border-bottom: 2px solid black;
    }

    .modal-content {
        width: 87%;
     }
    .sampleModalPopup {
        max-width: 35%
    }
    #customerFileUpload {
        display: none;
    }
    #productFileUpload {
        display: none;
    }
    #profileModalBody{
        max-height: calc(100vh - 200px);
        overflow-y: auto;
    }
    .modal-dialog {
        max-width: 800px;
    }
    .mandatory {
        color: red
    }
    .ui-dialog-content{
            color:red !important;
            font-size: 17px ;
        }
    .ui-dialog{
        width: 35% !important;
        top: 30%;
        left: 50%;
        transform: translate(-50%, -50%) !important;
        background-color: white;

    }
    .ui-dialog-buttonpane{
        padding: 0em !important;

    }
    .ui-dialog-titlebar{
        background-color: #cbc1e8;
        color: black;
        font-weight: bold;
    }
    .ui-dialog-buttonset{
        justify-content: middle;
    }
    .addData, .addData:hover, .addDataViaId, .addDataViaId:hover {
        border: 0px;
        font-size:13px;
        border-radius: 5px;
        color: #ffffff;
        background-color: #984fa5;
        padding:5px;
        cursor: pointer;
        text-decoration: none
    }
@media (min-width:320px) and (max-width: 480px)  {
    #basicDataDetailsForm{
        margin-left:20px !important;
    }
    #id_firstName,#id_lastName,#id_email,#id_site,#id_companyName,#id_address_Line1,#id_address_Line2,#id_country,#id_state,#id_postalCode,#id_usradd_country,#id_usradd_address_Line1,#id_usradd_address_Line2,#id_usradd_state,#id_usradd_postalCode{
        width:175px !important;
    }
    #id_countryCode{
        width:40px !important;
    }
    #id_contactNo{
        width:130px !important;
    }
    #id_unit1,#id_unit2,#id_usradd_unit1,#id_usradd_unit2{
       width:78px !important;
    }
    .addStyl{
     font-size: 14px !important;
     font-weight: normal !important
     }
     .addSty{
     font-size: 14px !important;
     font-weight: normal !important
     }
     .addsSty{
     font-size: 14px !important;
     font-weight: normal !important
     }
     #tradeByValue {
        height: 30px;
        width: 213px !important;
        border: 1px solid #bb99c0;
        border-radius: 8px;
        padding: 4px !important;
     }
     #traderByIdModalTitle{
        font-size: medium !important;
     }
     .modalWidth{
        width: 88% !important;
     }
}
</style>
 <div class="row headColor">
  <div class="col-md-2 col-sm-4 col-24" id="sideBarLeft">
        {% include "administrationpanelsidebar.html" %}
  </div>
  <div class="col-md-10 paddingLeftZero" id="bodyContent">
      <div class="row">
          <div class="col-md-2 col-sm-3 col-6 navTabClass navHeading" id="onBoardTab">
            <a href="{% url 'administrationpanel' %}" class="anchorlink " id="onBoardAnchor"><img
                src="{% static 'images/OnBoard.png' %}" class="sideBarIcons">Onboarding</a>
          </div>
        </div>
        <div class="row bgColor paddingLeftRightTen tab-content" id="tabContentRow">
            <div id="both" class="tab-pane active">
                <div class="row bgColor paddingLeftRightTen">
                  <ul class="col-md-4 nav nav-pills textAlignCenter" id="bothNavUL">
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_customer">
                        <a data-toggle="pill" href="#bothcustomer"><img src="{% static 'images/Customer.png' %}" class="sideBarIcons">Customer</a>
                    </li>
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_supplier">
                        <a data-toggle="pill" href="#bothsupplier"><img src="{% static 'images/Supplier.png' %}" class="sideBarIcons">Vendor</a>
                    </li>
                    <li class="col-md-4 col-sm-4 bgColorModule bothModuleTab" id="both_product">
                        <a data-toggle="pill" href="#bothproduct"><img src="{% static 'images/Product.png' %}" class="sideBarIcons">Product</a>
                    </li>
                  </ul>
                  <div class="col-md-8 col-sm-12 bgColorModule" id="bothUploadOption">
                      <span class="bothUploadOptionSpan activeOption" style="display: none" id="bothUploadAuto"><a href="#"><img src="{% static 'images/uploadauto.png' %}" class="sideBarIcons">Upload</a></span><span class="bothUploadOptionSpan" style="display: none" id="bothUploadManual"><a href="#">Manual <img src="{% static 'images/uploadmanual.png' %}" class="sideBarIcons"></a></span>
                      <span class="moduleData" id="customerData" style="display: none">
                          <a class="addData addSty" href="{% url 'administrationpanel' %}?module=customer&type=Manual" id="addCustomer"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Customer </a>&nbsp;
                          <a class="addData addSty" href="{% url 'administrationpanel' %}?module=customer&type=Upload" id="uploadCustomers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Customers </a>&nbsp;
                          <a class="addDataViaId addSty" href="#" id="addCustomerById"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add Customer By Id </a>
                      </span>
                      <span class="moduleData" id="supplierData" style="display: none">
                          <a class="addData addStyl" href="{% url 'administrationpanel' %}?module=vendor&type=Manual" id="addSupplier"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Vendor </a>&nbsp;
                          <a class="addData addStyl" href="{% url 'administrationpanel' %}?module=vendor&type=Upload" id="uploadSuppliers"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Vendors </a>&nbsp;
                          <a class="addDataViaId addStyl" href="#" id="addSupplierById"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add Vendor By Id </a>
                      </span>
                      <span class="moduleData" id="productData" style="display: none">
                          <a class="addData addsSty" href="{% url 'administrationpanel' %}?module=product&type=Manual" id="addProduct"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Add New Product </a>&nbsp;
                          <a class="addData addsSty" href="{% url 'administrationpanel' %}?module=product&type=Upload" id="uploadProducts"> <img class="roundImage" src="{% static 'images/Round.png' %}" /> Upload Products </a>
                      </span>
                  </div>
                </div>
            </div>
        </div>
        <div class="row bgColor paddingLeftRightTen tab-content bothmodule">
            <div id="bothcustomer" class="tab-pane active">

            </div>
            <div id="bothsupplier" class="tab-pane">

            </div>
            <div id="bothproduct" class="tab-pane">

            </div>
        </div>
		<div class="row bgColor paddingLeftRightTen" id="bodyDynamicContent">

        </div>
  </div>
 </div>
{% include "rightsidebar.html" %}
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modalBorderClass">
          <div class="modal-header">
            <h5 class="modal-title modalTitleHead" id="exampleModalLongTitle"> </h5>
              <span id="modalCloseBtn">

              </span>
          </div>
          <div class="modal-body">
              <div id="success_msg" class="success_msg"> </div>
              <div id="error_msg" class="error_msg"> </div>
                <form role="form" autocomplete="off">
                    {% csrf_token %}
                    <div id="modalBody">

                    </div>
                </form>
          </div>
          <div class="modal-footer" id="modalFooter">

          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="sampleModalPopup" tabindex="-1" role="dialog" aria-labelledby="sampleModalPopupTitle" data-toggle="modal" data-backdrop="static" data-keyboard="false" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered sampleModalPopup" role="document">
        <div class="modal-content modalBorderClass">
          <div class="modal-header">
            <h5 class="modal-title modalTitleHead" id="exampleModalTitle"></h5>
            <button type="button" class="close sampleModalPopupCloseBtn" id="popupCloseBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">x</span>
            </button>
          </div>
          <div class="modal-body" id="samplePopupBodyContent">

          </div>
          <div class="modal-footer">
                <input type="button" id="submit" class="btn btn-primary modalBtnClass sampleModalPopupCloseBtn" data-dismiss="modal" aria-label="Close" value="Close">
          </div>
        </div>
      </div>
    </div>

<div class="modal" id="viewProfileModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog viewProfileModal" style="max-width: 60%;">
    <div class="modal-content" style="background-color: #f7f3fa;">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="viewProfileModalTitle"> Profile </h4>
        <button type="button" class="close viewProfileModalClose" data-dismiss="modal" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" id="profileModalBody">
        <div class="row" >
            <div class="col-md-12 col-sm-3 col-6 " >
                <div class="col-md-12" id="viewProfileModalFormDiv">
                    <form class="registrationform" id="updateProfileForm" role="form" method='POST' autocomplete="off">

                        {% csrf_token %}
                        <div id="formsec1">
                          <div class="form-group row registrationformdiv">
                              <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.firstName.label_tag }}<span class="mandatory">*</span></label>
                            {{ ProfileForm.firstName }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3" id="firstNameError">{{ ProfileForm.firstName.errors }}</div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.lastName.label_tag }}<span class="mandatory">*</span></label>
                             {{ ProfileForm.lastName }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3" id="lastNameError">{{ ProfileForm.lastName.errors }} </div>
                         <div class="form-group row registrationformdiv hide">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.contactNo.label_tag }}<span class="mandatory">*</span></label>
                             {{ProfileForm.countryCode}}{{ ProfileForm.contactNo }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3 hide" id="contactNoError">{{ ProfileForm.contactNo.errors }} </div>
                        <div class="form-group row registrationformdiv hide">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.email.label_tag }}<span class="mandatory">*</span></label>
                             {{ ProfileForm.email }}
                          </div>
                          <div class="offset-3 offset-sm-4 offset-md-3 hide" id="emailError">{{ ProfileForm.email.errors }} </div>

                        </div>
                        <div id="formsec2">
                            <div class="form-group row registrationformdiv hide">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.companyName.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.companyName }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="companyNameError"> {{ companyProfileForm.companyName.errors }} </div>



                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.country.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.country }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="countryError"> {{ companyProfileForm.country.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line1.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.address_Line1 }}
                            <label class="col-5 col-md-1 col-form-label unitlabel" id="unitlabel">Unit<span class="mandatory">*</span></label>
                             {{ companyProfileForm.unit1 }}
                            <p id="hyphen">-</p>
                            {{ companyProfileForm.unit2 }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="address1Error"> {{ companyProfileForm.address_Line1.errors }} </div>
                          <div class="form-group row registrationformdiv" id="addressTwoDiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.address_Line2.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.address_Line2 }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="address2Error"> {{ companyProfileForm.address_Line2.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.state.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.state }}
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="stateError"> {{ companyProfileForm.state.errors }} </div>
                          <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{companyProfileForm.postalCode.label_tag }}<span class="mandatory">*</span></label>
                            {{ companyProfileForm.postalCode }}

                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="postalCodeError"> {{ companyProfileForm.postalCode.errors }} </div>
                            <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.sec_question.label_tag }}<span class="mandatory">*</span></label>
                            {{ ProfileForm.sec_question }}

                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="secQuestionError"> {{ ProfileForm.sec_question.errors }} </div>
                            <div class="form-group row registrationformdiv">
                            <label class="col-5 col-md-3 col-form-label registrationformlabel">{{ProfileForm.sec_answer.label_tag }}<span class="mandatory">*</span></label>
                            {{ ProfileForm.sec_answer }}
                            <div class="col-12 offset-sm-4 col-md-6" id="submitBtnDiv">  <input type="button" class="profileUpdateButtonClass" id="profileUpdateButton" value="Update"> </div>
                          </div>
                            <div class="offset-3 offset-sm-4 offset-md-3" id="secAnswerError"> {{ ProfileForm.sec_answer.errors }} </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn editProductModalClose" id="editProductModalClose" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<div class="modal modalWidth" id="traderById" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog traderByIdModaldia">
    <div class="modal-content ">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title modalTitleHead" id="traderByIdModalTitle"></h4>
        <button type="button" class="close traderByIdModalClose" data-dismiss="modal"  onclick="traderById" id="traderByIdModalclose" aria-hidden="true">x</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" >
        <div class="row"  >
            <div class="col-md-12 col-sm-3 col-6 formGroup" >
                <label class="fontWeightBold">Enter Code: </label> <input type="text" id="tradeByValue"/>
                <input type="hidden" id="typeTrader" />
            </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer row "  style="text-align:center">
           <div class="col-md-12">
              <input type="button" class="btn modalBtnClass  traderByIdModalsubmit"  id="traderByIdModalsubmit" value="Submit"></input>
              <input type="button" class="btn modalBtnClass  traderByIdModalclose"   onclick="traderById" data-dismiss="modal" value="Cancel" ></input>
          </div>
      </div>
    </div>
  </div>
</div>


    <div class="modal" id="loader"><!-- Place at bottom of page --></div>

<script>

function myFunction() {
document.getElementById("tradeByValue").reset();
}
     /* window.Alert = function(message){
            $(document.createElement('div'))
                .attr({title: 'Alert'})
                .html(message)
                .dialog({
                    buttons: {OK: function(){$(this).dialog('close');}},
                    close: function(){$(this).remove();},
                    draggable: true,
                    modal: true,
                    resizable: false,
                    width: 'auto'
                });
        };*/

           $body = $("body");
           function load_states(country_id) {
                if(country_id == ''){
                $("#id_cusState").empty().append('<option value="">Select</option>');
                }
                else{
                    $.ajax({
                    url: "/load-states",
                    data: {
                    "country_id": country_id
                    },
                    success: function (data) {
                        var states = JSON.parse(data.states);
                        var stateAppendValues = "<option value=''>Select</option>";
                        $.each(states, function (key, val) {
                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                        });
                        $("#id_cusState").empty().append(stateAppendValues);
                    }
                    });
                }
           }

            function load_shipping_states(country_id) {
                $.ajax({
                    url: "/load-states",
                    data: {
                      "country_id": country_id
                    },
                    success: function (data) {
                      var states = JSON.parse(data.states);
                      var stateAppendValues = "<option value=''>Select</option>";
                         $.each(states, function (key, val) {
                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                        });
                          $("#id_cusShipState").empty().append(stateAppendValues);
                    }
                });
            }

            function load_supplier_states(country_id) {
                if(country_id == ''){
                $("#id_supState").empty().append('<option value="">Select</option>');
                }
                else{
                    $.ajax({
                    url: "/load-states",
                    data: {
                    "country_id": country_id
                    },
                    success: function (data) {
                        var states = JSON.parse(data.states);
                        var stateAppendValues = "<option value=''>Select</option>";
                        $.each(states, function (key, val) {
                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                        });
                        $("#id_supState").empty().append(stateAppendValues);
                    }
                    });
                }
           }

            function load_supShipping_states(country_id) {
                $.ajax({
                    url: "/load-states",
                    data: {
                      "country_id": country_id
                    },
                    success: function (data) {
                      var states = JSON.parse(data.states);
                      var stateAppendValues = "<option value=''>Select</option>";
                         $.each(states, function (key, val) {
                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                        });
                          $("#id_supShipState").empty().append(stateAppendValues);
                    }
                });
            }

            $('.card').hide();

            var customerUploadManualOption;
			var customerUploadManualForm;
			var customerUploadAutoOption;
			var customerUploadAutoForm;

			var supplierUploadManualOption;
			var supplierUploadManualForm;
			var supplierUploadAutoOption;
			var supplierUploadAutoForm;

			var productUploadManualOption;
			var productUploadManualForm;
			var productUploadAutoOption;
			var productUploadAutoForm;

			$.ajax({
                url: "../customermanualform",
                async: false,
                success: function(response) {
                    customerUploadManualOption = $(response).find("div#customerManualTabDiv").html();
                    customerUploadManualForm = $(response).find("div#customerManualFormContent").html();
                }
            });

            $.ajax({
                url: "../customerautoform",
                async: false,
                success: function(response) {
                    customerUploadAutoOption = $(response).find("div#customerUploadTabDiv").html();
                    customerUploadAutoForm = $(response).find("div#customerUploadFormContent").html();
                }
            });

            $.ajax({
                url: "../suppliermanualform",
                async: false,
                success: function(response) {
                    supplierUploadManualOption = $(response).find("div#supplierManualTabDiv").html();
                    supplierUploadManualForm = $(response).find("div#supplierManualFormContent").html();
                }
            });

            $.ajax({
                url: "../supplierautoform",
                async: false,
                success: function(response) {
                    supplierUploadAutoOption = $(response).find("div#supplierUploadTabDiv").html();
                    supplierUploadAutoForm = $(response).find("div#supplierUploadFormContent").html();
                }
            });

            $.ajax({
                url: "../productmanualform",
                async: false,
                success: function(response) {
                    productUploadManualOption = $(response).find("div#productManualTabDiv").html();
                    productUploadManualForm = $(response).find("div#productManualFormContent").html();
                }
            });

            $.ajax({
                url: "../productautoform",
                async: false,
                success: function(response) {
                    productUploadAutoOption = $(response).find("div#productAutoTabDiv").html();
                    productUploadAutoForm = $(response).find("div#productUploadFormContent").html();
                }
            });

            $('#slide-submenu').on('click',function() {
                $(this).closest('.list-group').fadeOut('slide',function(){
                    $('.mini-submenu').fadeIn();
                });
            });


        $(document).ready(function() {

        $(function(){
            $('#id_itemCode').keypress(function( e ) {
                    if(e.which === 32)
                        return false;
                });

            $('#id_itemCode').on("cut copy paste",function(e) {
                  e.preventDefault();
            });
        });

         $(function(){
         $('#id_measurementDimension').keypress(function( e ) {
                    if(e.which === 32)
                        return false;
                });

            $('#id_measurementDimension').on("cut copy paste",function(e) {
                  e.preventDefault();
            });
        });

        $(document).on('click', '.addDataViaId', function() {
                      var id = $(this).attr('id');
                      if (id=='addCustomerById'){
                        $('#typeTrader').val("customer") ;
                        $('#traderByIdModalTitle').empty();
                        $('#traderByIdModalTitle').append("Add Customer By Id") ;
                         $('#tradeByValue').val('');
                        $('#traderById').modal();

                      }else{
                       $('#typeTrader').val("supplier") ;
                        $('#traderByIdModalTitle').empty();
                       $('#traderByIdModalTitle').append("Add Vendor By Id") ;
                       $('#tradeByValue').val('');
                        $('#traderById').modal();
                      }

                  });

            $(document).on('click', '#traderByIdModalsubmit', function() {
                      var type = $('#typeTrader').val();
                      var code = $('#tradeByValue').val();
                      if(code == ""){
                        alert("Please enter code");
                      }else{
                      window.location.href = "/saveTradersById?type="+type+"&code="+code;
                      }

                  });

                    $(document).on('click', '#traderByIdModalclose', function() {
                      $('#tradeByValue').val('');

                  });

            /* Hide Module Data Start */
                $('.moduleData').hide();
                var url = new URL(window.location.href);
                var module = 'supplier';
                if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'vendor') {
                    module = 'supplier';
                }
                else if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'customer') {
                    module = 'customer';
                }
                else if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'product') {
                    module = 'product';
                }
                $('#'+module+'Data').show();
            /* Hide Module Data End */
            $(document).on('click', '#basicDataSaveButton', function() {
                  if ($('#id_type').val() == 'product') {
                    var sellCount = $('#id_sellCount').val();
                     var sellUnit = $('#id_sellUnit').val();
                     var uOm = $('#id_uOm').val();
                     var stockCount = $('#id_stockCount').val();
                     var stockUnit = $('#id_stockUnit').val();
                     if(sellCount == ''){
                       $('#id_sellCount').focus();
                        return false;
                     }
                     else if(sellUnit == ''){
                        $('#id_sellUnit').focus();
                        return false;
                     }
                     else if(uOm == ''){
                        $('#id_uOm').focus();
                        return false;
                     }
                     else if(stockCount == ''){
                        $('#id_stockCount').focus();
                        return false;
                     }
                     else if(stockUnit == ''){
                        $('#id_stockUnit').focus();
                        return false;
                     }
                     else{
                        var form_data = {};
                        var form_data =  $('#basicDataDetailsForm').serialize();
                        url = "/itemMasterSave";
                        $body.addClass("loading");
                        $.ajax({
                          url: url,
                          type: "POST",
                          data: form_data,
                          dataType: 'json',
                          cache:false,
                          success: function (data)
                          {
                            $body.removeClass("loading");
                            if (data.status == 'success') {
                                showMessage(data.status, 'Alert!', data.success_msg);
                                setTimeout(function() {
                                    location.reload();
                                }, 2500);
                            }
                            else if (data.status == 'error' && data.error_msg == 'matchedData') {
                                showMessage(data.status, 'Alert!', data.matchedDataContent);
                            }
                            else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                                alert('Session has expired.');
                                setTimeout(function() {
                                    window.location.href = data.redirect_url;
                                }, 2000);

                            }
                            else if (data.status == 'showerror') {
                                showMessage('success', 'Alert!', data.error_msg);
                            }
                            else{
                                alert(data.error_msg);
                            }
                          }
                       });
                   }
                  }
                  else{

                         var country = $('#id_usradd_country').val();
                         var addLine1 = $('#id_usradd_address_Line1').val();
                         var addLine2 = $('#id_usradd_address_Line2').val();
                         var unit1 = $('#id_usradd_unit1').val();
                         var unit2 = $('#id_usradd_unit2').val();
                         var postalCode = $('#id_usradd_postalCode').val();
                         if(country == ''){
                           $('#id_usradd_country').focus();
                            return false;
                         }
                         else if(addLine1 == ''){
                           $('#id_usradd_address_Line1').focus();
                           return false;
                         }
                         else if(unit1 == ''){
                           $('#id_usradd_unit1').focus();
                           return false;
                         }
                         else if(unit2 == ''){
                           $('#id_usradd_unit2').focus();
                           return false;
                         }
                         else if(addLine2 == ''){
                           $('#id_usradd_address_Line2').focus();
                           return false;
                         }
                         else if(postalCode == ''){
                           $('#id_usradd_postalCode').focus();
                           return false;
                         }
                       else{
                          var form_data = {};
                          var form_data =  $('#basicDataDetailsForm').serialize();
                          var url = "/tradersSave";
                           $body.addClass("loading");
                            $.ajax({
                              url: url,
                              type: "POST",
                              data: form_data,
                              dataType: 'json',
                              cache:false,
                              success: function (data)
                              {
                                $body.removeClass("loading");
                                if (data.status == 'success') {
                                    showMessage(data.status, 'Alert!', data.success_msg);
                                    setTimeout(function() {
                                        location.reload();
                                    }, 2500);
                                }
                                else if (data.status == 'error' && data.error_msg == 'matchedData') {
                                    showMessage(data.status, 'Alert!', data.matchedDataContent);
                                }
                                else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                                    alert('Session has expired.');
                                    setTimeout(function() {
                                        window.location.href = data.redirect_url;
                                    }, 2000);

                                }
                                else if (data.status == 'showerror') {
                                    showMessage('success', 'Alert!', data.error_msg);
                                }
                                else{
                                    alert(data.error_msg);
                                }
                              }
                            });
                        }
                  }
            });

            $(document).on('click', '#productDataSaveButton', function() {

                  var form_data = {};
                  var form_data =  $('#productManualForm').serialize();
                  var url = "/saveMasterProduct";
                   $body.addClass("loading");
                    $.ajax({
                      url: url,
                      type: "POST",
                      data: form_data,
                      dataType: 'json',
                      cache:false,
                      success: function (data)
                      {
                        $body.removeClass("loading");
                        if (data.status == 'success') {
                            showMessage(data.status, 'Alert!', data.success_msg);
                            setTimeout(function() {
                                window.location.href = "/dashboard/?module=product";
                            }, 2500);
                        }
                        else if (data.status == 'error' && data.error_msg == 'matchedData') {
                            showMessage(data.status, 'Alert!', data.matchedDataContent);
                        }
                        else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                            alert('Session has expired.');
                            setTimeout(function() {
                                window.location.href = data.redirect_url;
                            }, 2000);

                        }
                        else if (data.status == 'showerror') {
                            showMessage('success', 'Alert!', data.error_msg);
                        }
                        else{
                            alert(data.error_msg);
                        }
                      }
                    });

            });

            $(document).on('click', '#customerDataSaveButton', function() {
                 var country = $('#id_cusShipCountry').val();
                 var state = $('#id_cusShipState').val();
                 var addLine1 = $('#id_cusShipAddress_Line1').val();
                 var addLine2 = $('#id_cusShipAddress_Line2').val();
                 var unit1 = $('#id_cusShipUnit1').val();
                 var unit2 = $('#id_cusShipUnit2').val();
                 var postalCode = $('#id_cusShipPostalCode').val();
                 if(country == ''){
                   $('#id_cusShipCountry').focus();
                    return false;
                 }
                 else if(addLine1 == ''){
                   $('#id_cusShipAddress_Line1').focus();
                   return false;
                 }
                 else if(unit1 == ''){
                   $('#id_cusShipUnit1').focus();
                   return false;
                 }
                 else if(unit2 == ''){
                   $('#id_cusShipUnit2').focus();
                   return false;
                 }
                 else if(addLine2 == ''){
                   $('#id_cusShipAddress_Line2').focus();
                   return false;
                 }
                 else if(state == ''){
                   $('#id_cusShipState').focus();
                   return false;
                 }
                 else if(postalCode == ''){
                   $('#id_cusShipPostalCode').focus();
                   return false;
                 }
               else{
                  var form_data = {};
                  var form_data =  $('#customerDataDetailsForm').serialize();
                  var url = "/customerSave";
                   $body.addClass("loading");
                    $.ajax({
                      url: url,
                      type: "POST",
                      data: form_data,
                      dataType: 'json',
                      cache:false,
                      success: function (data)
                      {
                        $body.removeClass("loading");
                        if (data.status == 'success') {
                            showMessage(data.status, 'Alert!', data.success_msg);
                            setTimeout(function() {
                            window.location.href = "/dashboard/?module=customer";
                            }, 2500);
                        }
                        else if (data.status == 'error' && data.error_msg == 'matchedData') {
                            showMessage(data.status, 'Alert!', data.matchedDataContent);
                        }
                        else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                            alert('Session has expired.');
                            setTimeout(function() {
                                window.location.href = data.redirect_url;
                            }, 2000);

                        }
                        else if (data.status == 'showerror') {
                            showMessage('success', 'Alert!', data.error_msg);
                        }else{
                        alert(data.error_msg);
                        }
                      }
                    });
                }

            });
            $(document).on('click', '#supplierDataSaveButton', function() {
                 var country = $('#id_supShipCountry').val();
                 var state = $('#id_supShipState').val();
                 var addLine1 = $('#id_supShipAddress_Line1').val();
                 var addLine2 = $('#id_supShipAddress_Line2').val();
                 var unit1 = $('#id_supShipUnit1').val();
                 var unit2 = $('#id_supShipUnit2').val();
                 var postalCode = $('#id_supShipPostalCode').val();
                 if(country == ''){
                   $('#id_supShipCountry').focus();
                    return false;
                 }
                 else if(addLine1 == ''){
                   $('#id_supShipAddress_Line1').focus();
                   return false;
                 }
                 else if(unit1 == ''){
                   $('#id_supShipUnit1').focus();
                   return false;
                 }
                 else if(unit2 == ''){
                   $('#id_supShipUnit2').focus();
                   return false;
                 }
                 else if(addLine2 == ''){
                   $('#id_supShipAddress_Line2').focus();
                   return false;
                 }
                 else if(state == ''){
                   $('#id_supShipState').focus();
                    return false;
                 }
                 else if(postalCode == ''){
                   $('#id_supShipPostalCode').focus();
                   return false;
                 }
               else{
                  var form_data = {};
                  var form_data =  $('#supplierDataDetailsForm').serialize();
                  var url = "/supplierSave";
                   $body.addClass("loading");
                    $.ajax({
                      url: url,
                      type: "POST",
                      data: form_data,
                      dataType: 'json',
                      cache:false,
                      success: function (data)
                      {
                        $body.removeClass("loading");
                        if (data.status == 'success') {
                            showMessage(data.status, 'Alert!', data.success_msg);
                            setTimeout(function() {
                                window.location.href = "/dashboard/?module=supplier";
                            }, 2500);
                        }
                        else if (data.status == 'error' && data.error_msg == 'matchedData') {
                            showMessage(data.status, 'Alert!', data.matchedDataContent);
                        }
                        else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                            alert('Session has expired.');
                            setTimeout(function() {
                                window.location.href = data.redirect_url;
                            }, 2000);

                        }
                        else if (data.status == 'showerror') {
                            showMessage('success', 'Alert!', data.error_msg);
                        }else{
                        alert(data.error_msg);
                        }
                      }
                    });
                }

            });
            function showMessage(status, msgTitle, msgBody) {
                $('#exampleModalTitle').empty();
                $('#samplePopupBodyContent').empty();
                $('#exampleModalTitle').append(msgTitle);
                $('#samplePopupBodyContent').append(msgBody);
                $('.sampleModalPopup').css('max-width','35%');
                if (status == 'error') {
                    $('.sampleModalPopup').css('max-width','80%');
                    $('.sampleModalPopupCloseBtn').on('click', function() {
                        //location.reload();
                    });
                }
                $('#sampleModalPopup').modal('show');
            }

            $('.customerType').hide();
            $('#idContainer').hide();

            $(document).on('click', '#companyLogoUpdateBtn', function() {
                var form_data = new FormData();
                var file_data = $('#companyLogo').prop('files')[0];
                 var data = "csrfmiddlewaretoken="+$('input[name=csrfmiddlewaretoken]').val()+"companyLogoPath="+file_data;

                    $.ajax({
                      url: "/logoupdate",
                      type: "POST",
                      dataType: "text",
                      data: data,
                      async:false,
                      success: function (data)
                      {

                      }
                    });
            });

			$('#domainName').val('');

			$('#exampleModalCenter').on('shown.bs.modal', function() {
              $('#domainName').focus();
            });

			$('#popupCloseBtn').on('click', function() {
                $('#domainName').val('');
                $('#successmsg').empty();
                $('#errormsg').empty();
            });

            //$('#dragDropUploadBtn').on('click',function() {
			$(document).on('click', '#dragDropUploadBtn', function() {
			    var fileFormat = $('#customerFileUpload').val().split('.').pop();
                if (fileFormat != 'csv' || $('#customerFileUpload').val() == '') {
                    $('#upload_success_msg').empty();
                    $('#upload_error_msg').empty();
                    $('#upload_error_msg').append('Please upload CSV file');
                }
                else if (fileFormat == 'csv') {

                    $('#upload_success_msg').empty();
                    $('#upload_error_msg').empty();
                    var form_data = new FormData();
                    var file_data = $('#customerFileUpload')[0].files[0];
                    form_data.append('csrfmiddlewaretoken', $('input[name=csrfmiddlewaretoken]').val());
                    form_data.append('myfile', file_data);
                    form_data.append('type', $('#type').val());
                    var url = "/customerOrSupplierCsvSave";
                    if ($('#type').val() == 'product') {
                        url = "/saveMasterProductUsingCsv";
                    }
                    $body.addClass("loading");
                    setTimeout(function() {
                        $.ajax({
                        url: url,
                        type: "POST",
                        data: form_data,
                        dataType: 'json',
                        cache: false,
                        contentType: false,
                        processData: false,
                        async:false,
                        success: function (data)
                        {

                            $body.removeClass("loading");
                            $("#customerFileUpload").val('');
                            if (data.status == 'success') {
                                showMessage(data.status, 'Alert!', data.success_msg);
                               /* setTimeout(function() {
                                    location.reload();
                                }, 2500); */
                            }
                            else if (data.status == 'error' && data.error_msg == 'matchedData') {
                                showMessage(data.status, 'Alert!', data.matchedDataContent);
                            }
                            else if (data.status == 'showerror') {
                                showMessage('success', 'Alert!', data.error_msg);
                            }
                            else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                                alert('Session has expired.');
                                setTimeout(function() {
                                    window.location.href = data.redirect_url;
                                }, 2000);

                            }else{
                            alert(data.error_msg);
                            }
                        }
                        });
                    }, 1000);
                }
            });

            //$('#dragDropUploadBtn').on('click',function() {
			$(document).on('click', '#productDragDropUploadBtn', function() {
			    var fileFormat = $('#productFileUpload').val().split('.').pop();
                if (fileFormat != 'xlsx' || $('#productFileUpload').val() == '') {
                    $('#upload_success_msg').empty();
                    $('#upload_error_msg').empty();
                    $('#upload_error_msg').append('Please upload xlsx file');
                }
                else if (fileFormat == 'xlsx') {

                    $('#upload_success_msg').empty();
                    $('#upload_error_msg').empty();
                    var form_data = new FormData();
                    var file_data = $('#productFileUpload')[0].files[0];
                    form_data.append('csrfmiddlewaretoken', $('input[name=csrfmiddlewaretoken]').val());
                    form_data.append('myfile', file_data);
                    form_data.append('type', $('#type').val());
                    var url = "/saveMasterProductUsingCsv";
                    $body.addClass("loading");
                    setTimeout(function() {
                        $.ajax({
                        url: url,
                        type: "POST",
                        data: form_data,
                        dataType: 'json',
                        cache: false,
                        contentType: false,
                        processData: false,
                        async:false,
                        success: function (data)
                        {

                            $body.removeClass("loading");
                            $("#productFileUpload").val('');
                            if (data.status == 'success') {
                                showMessage(data.status, 'Alert!', data.success_msg);
                               setTimeout(function() {
                                    window.location.href = "/dashboard/?module=product";
                                }, 2500);
                            }
                            else if (data.status == 'error' && data.error_msg == 'matchedData') {
                                showMessage(data.status, 'Alert!', data.matchedDataContent);
                                setTimeout(function() {
                                    window.location.href = "/dashboard/?module=product";
                                }, 2500);
                            }
                            else if (data.status == 'showerror') {
                                showMessage('success', 'Alert!', data.error_msg);
                            }
                            else if (data.status == 'error' && data.error_msg == 'sessionexpired') {
                                alert('Session has expired.');
                                setTimeout(function() {
                                    window.location.href = data.redirect_url;
                                }, 2000);

                            }
                            else{
                                alert(data.error_msg);
                            }
                        }
                        });
                    }, 1000);
                }
            });

            $(document).on('click', '.userAddBtn', function() {
                var id = $(this).attr('id');
                var splitId = id.split("_");
                var data = "csrfmiddlewaretoken="+$('input[name=csrfmiddlewaretoken]').val()+"&email="+splitId[0]+"&type="+splitId[1]+"&status="+splitId[2];
                $body.addClass("loading");
                $.ajax({
                  url: "/addExistingCustomerOrSupplier",
                  type: "POST",
                  data: data,
                  dataType: 'json',
                  cache: false,
                  async:false,
                  success: function (result)
                  {
                    $body.removeClass("loading");
                    if (result.status == 'success') {
                        $('#accordianGroupToggle'+splitId[3]+'').attr("href", "#");
                        $('#accordianGroupToggle'+splitId[3]+'').css("text-decoration", "none");
                        $('#accordianGroupToggle'+splitId[3]+'').css("color", "#CCC");
                        $('#accordianGroupContent'+splitId[3]+'').removeClass('show');
                        //location.reload();
                        alert(result.success_msg);
                    }
                    else if (result.status == 'error' && result.error_msg == 'sessionexpired') {
                        alert('Session has expired.');
                        setTimeout(function() {
                            window.location.href = data.redirect_url;
                        }, 2000);

                    }
                    else{
                        alert(result.error_msg);
                    }
                  }
                });
            });

            $('.mini-submenu').on('click',function(){
                $(this).next('.list-group').toggle('slide');
                $('.mini-submenu').hide();
            })

            checkTreeCollapse();

            function checkTreeCollapse() {
                $(".tree-container li.tree-li").removeClass("is-child")
                $(".tree-container li.tree-li").each(function () {
                    if ($(this).find("ul.tree-ul li").length > 0) {
                        $(this).addClass("is-child")
                    }
                });
                $(".tree-container li.tree-li span.text").unbind("click");
                $(".tree-container li.tree-li.is-child span.text").click(function () {
                    $(this).parent(".tree-li").toggleClass("diactive");
                    $(this).parent(".tree-li").find(".tree-ul:first").toggleClass("diactive");
                });
            }

            $('.navTabClass').on('click', function() {
                var id = $(this).attr('id');
                $('.navTabClass').removeClass('navHeading');
                $('.navTabClass > a.anchorlink').removeClass('activeNav');
                $('#'+id+'').addClass('navHeading');
                $('#'+id+ '> a').addClass('activeNav');
            });

            $(document).on('click', '.customerUpload', function() {
                   var id = $(this).attr('id');
                   $('.customerUpload').removeClass('uploadActive');
                   $('#'+id+'').addClass('uploadActive');
                   if (id == 'uploadCustomer') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_0_C').addClass('tabOptionActive');
                   }
                   else if (id == 'downloadCustomer') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_1_C').addClass('tabOptionActive');
                   }
                   else if (id == 'uploadSupplier') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_0_S').addClass('tabOptionActive');
                   }
                   else if (id == 'downloadSupplier') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_1_S').addClass('tabOptionActive');
                   }
                   else if (id == 'uploadProduct') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_0_P').addClass('tabOptionActive');
                   }
                   else if (id == 'downloadProduct') {
                       $('.tabOption').removeClass('tabOptionActive');
                       $('#tabOption_1_P').addClass('tabOptionActive');
                   }
            });

            $('.bothModuleTab').on('click', function() {
                $('.card').hide();
                var tabId = $(this).attr('id');
                var moduleTab = tabId.split("_");
                $('.moduleData').hide();
                $('#'+moduleTab[1]+'Data').show();
                addDynamicModule(tabId, 'both', 'bothModuleTab', 'bothModuleTabActive', 'bothUploadOptionSpan');
            });

            function addDynamicModule(tabId, module, moduleClass, moduleTabActive, moduleOptionSpan) {
                $('.'+moduleClass+'').removeClass(moduleTabActive);
                $('#'+tabId+'').addClass(moduleTabActive);
                if ($('.'+moduleOptionSpan+'').hasClass('activeOption') == true) {
                    var tabContentId = $('.'+moduleOptionSpan+'.activeOption').attr('id');
                    var tabUploadOption = 'uploadAuto';
                    if (tabContentId == module+'UploadManual') {
                        tabUploadOption = 'uploadManual';
                    }
                }
                var moduleTab = tabId.split("_");
                var data = getAutoOrUploadData(tabUploadOption, moduleTab[1]);
                var uploadId = moduleTab[0]+moduleTab[1];
                addDynamicContent(moduleTab[0], tabUploadOption, data['uploadContent'], uploadId, data['currentTabClass'], data['currentTabLiId'], data['uploadFormContent']);
            }

            /* Fetch Modules based on Module From module Start */
                var url = new URL(window.location.href);
                var module = 'supplier';
                if (url.searchParams.get("module") != null && url.searchParams.get("module") == 'vendor') {
                    module = 'supplier';
                }
                else if (url.searchParams.get("module") != null && url.searchParams.get("module") != 'vendor') {
                    module = url.searchParams.get("module");
                }
                var type = 'Auto';
                if (url.searchParams.get("type") != null && url.searchParams.get("type") == 'Manual') {
                    type = url.searchParams.get("type");
                }
                $('.bothUploadOptionSpan').removeClass('activeOption');
                $('#bothUpload'+type+'').addClass('activeOption');
                $('#both_'+module+' > a').trigger('click');
            /* Fetch Modules based on Module From module End */

            $('.bothUploadOptionSpan').on('click', function() {
                var id = $(this).attr('id');
                $('.bothUploadOptionSpan').removeClass('activeOption');
                $('#'+id+'').addClass('activeOption');

                var uploadOption = 'uploadAuto';
                if (id == 'bothUploadManual') {
                    uploadOption = 'uploadManual';
                }

                if ($('li.bothModuleTab').hasClass('bothModuleTabActive') == true) {
                    var tabContentId = $("li.bothModuleTab.bothModuleTabActive").attr('id');
                    switch(tabContentId) {
                        case "both_customer" :
                            var currentTabId = 'bothcustomer';
                            var module = 'customer';
                            var data = getAutoOrUploadData(uploadOption, module);
                            break;
                        case "both_supplier" :
                            var currentTabId = 'bothsupplier';
                            var module = 'supplier';
                            var data = getAutoOrUploadData(uploadOption, module);
                            break;
                        case "both_product" :
                            var currentTabId = 'bothproduct';
                            var module = 'product';
                            var data = getAutoOrUploadData(uploadOption, module);
                            break;
                    }
                }
                addDynamicContent('both', uploadOption, data['uploadContent'], currentTabId, data['currentTabClass'], data['currentTabLiId'], data['uploadFormContent']);
            });

            function getAutoOrUploadData(uploadOption, module) {
                switch(module) {
                        case "customer" :
                             var data = [];
                             data['uploadContent'] = customerUploadAutoOption;
                             data['uploadFormContent'] = customerUploadAutoForm;
                             data['currentTabClass'] = 'customerAutoForm';
                             data['currentTabLiId'] = 'dragDropPanelDiv';
                             if (uploadOption == 'uploadManual') {
                                data['uploadContent'] = customerUploadManualOption;
                                data['uploadFormContent'] = customerUploadManualForm;
                                data['currentTabClass'] = 'customerManualForm';
                                data['currentTabLiId'] = 'basicDataDetail';
                             }
                             break;
                        case "supplier" :
                             var data = [];
                             data['uploadContent'] = supplierUploadAutoOption;
                             data['uploadFormContent'] = supplierUploadAutoForm;
                             data['currentTabClass'] = 'supplierAutoForm';
                             data['currentTabLiId'] = 'dragDropPanelDiv';
                             if (uploadOption == 'uploadManual') {
                                data['uploadContent'] = supplierUploadManualOption;
                                data['uploadFormContent'] = supplierUploadManualForm;
                                data['currentTabClass'] = 'customerManualForm';
                                data['currentTabLiId'] = 'basicDataDetail';
                             }
                             break;
                        case "product" :
                             var data = [];
                             data['uploadContent'] = productUploadAutoOption;
                             data['uploadFormContent'] = productUploadAutoForm;
                             data['currentTabClass'] = 'productAutoForm';
                             data['currentTabLiId'] = 'dragDropPanelDiv';
                             if (uploadOption == 'uploadManual') {
                                data['uploadContent'] = productUploadManualOption;
                                data['uploadFormContent'] = productUploadManualForm;
                                data['currentTabClass'] = 'customerManualForm';
                                data['currentTabLiId'] = 'basicDataDetail';
                             }
                             break;
                }
                return data;
            }

            function addDynamicContent(module, uploadOption, uploadContent, uploadId, currentTabClass, currentTabId, uploadForm) {
                if (uploadOption == 'uploadManual') {
                    $('.card').hide();
                    $('#'+uploadId+'').empty();
                    $('#'+uploadId+'').append(uploadContent);
                    $('#bodyDynamicContent').empty();
                    $('#bodyDynamicContent').append(uploadForm);
                    $('.'+currentTabClass+'').hide();
                    $('.'+currentTabClass+':first-child').show();
                    $('#'+currentTabId+'').show();
                    if(uploadId == 'buycustomer' || uploadId == 'bothcustomer'){
                        $("#id_type").val('customer');
                        $('#id_type').prop('readonly', true);
                    }
                    else if(uploadId == 'sellsupplier' || uploadId == 'bothsupplier') {
                        $("#id_type").val('supplier');
                        $('#id_type').prop('readonly', true);
                    }
                }
                else {
                    $('#'+uploadId+'').empty();
                    $('#'+uploadId+'').append(uploadContent);
                    $('#bodyDynamicContent').empty();
                    $('#bodyDynamicContent').append(uploadForm);
                    $('#dragDropPanelDiv').show();
                    $('.'+currentTabClass+'').hide();
                    $('#'+currentTabId+'').show();
                }
            }

            $('.onBoardSpan').on('click', function() {
                var module =  $(this).attr('id').split("_");
                addDynamicModule('both_'+module[0], 'both', 'bothModuleTab', 'bothModuleTabActive', 'bothUploadOptionSpan');
                $('.subModuleLi').removeClass('active');
                $('#bothModule').addClass('active');

                $('.buyModuleTab').removeClass('buyModuleTabActive');
                $('.sellModuleTab').removeClass('sellModuleTabActive');
                $('.bothModuleTab').removeClass('bothModuleTabActive');

                $('#buy, #sell').removeClass('active');
                $('#both').addClass('active');

                $('#both_'+module[0]).addClass('bothModuleTabActive');

                $('.buymodule > div, .sellmodule > div, .bothmodule > div').removeClass('active');
                $('#'+'both'+module[0]).addClass('active');
            });

            $(document).on('click', '#id_sameAddress', function() {
                if ($('#id_sameAddress').is(":checked"))
                    {
                          var country = $("#id_cusCountry").val();
                          var address_Line1 = $("#id_cusAddress_Line1").val();
                          var unit1 = $("#id_cusUnit1").val();
                          var unit2 = $("#id_cusUnit2").val();
                          var address_Line2 = $("#id_cusAddress_Line2").val();
                          var state = $("#id_cusState").val();
                          var postalCode = $("#id_cusPostalCode").val();
                              $("#id_cusShipCountry").prop("disabled",true);
                              $("#id_cusShipAddress_Line1").prop("disabled",true);
                              $("#id_cusShipUnit1").prop("disabled",true);
                              $("#id_cusShipUnit2").prop("disabled",true);
                              $("#id_cusShipAddress_Line2").prop("disabled",true);
                              $("#id_cusShipState").prop("disabled",true);
                              $("#id_cusShipPostalCode").prop("disabled",true);
                            $('#id_cusShipCountry').find('option[value="'+country+'"]').attr("selected",true);
                            $('#id_cusShipAddress_Line1').val(address_Line1);
                            $('#id_cusShipUnit1').val(unit1);
                            $('#id_cusShipUnit2').val(unit2);
                            $('#id_cusShipAddress_Line2').val(address_Line2);

                                    $.ajax({
                                    url: "/load-states",
                                    data: {
                                    "country_id": country
                                    },
                                    success: function (data) {
                                        var states = JSON.parse(data.states);

                                        var stateAppendValues = "<option value=''>Select</option>";
                                        $.each(states, function (key, val) {
                                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                                        });
                                        $("#id_cusShipState").empty().append(stateAppendValues);
                                        $('#id_cusShipState').find('option[value="'+state+'"]').attr("selected",true);
                                    }
                                    });
                            $('#id_cusShipPostalCode').val(postalCode);
					}
                    else{
                          $("#id_cusShipCountry").prop("disabled",false);
                          $("#id_cusShipAddress_Line1").prop("disabled",false);
                          $("#id_cusShipUnit1").prop("disabled",false);
                          $("#id_cusShipUnit2").prop("disabled",false);
                          $("#id_cusShipAddress_Line2").prop("disabled",false);
                          $("#id_cusShipState").prop("disabled",false);
                          $("#id_cusShipPostalCode").prop("disabled",false);
                        $.ajax({
                                url: "/load-country",
                                success: function (data) {
                                    var country = JSON.parse(data.country);
                                    var countryAppendValues = "<option value=''>Select</option>";
                                    $.each(country, function (key, val) {
                                    countryAppendValues = countryAppendValues +"<option value="+val.pk+">"+val.fields.countryName+"</option>";

                                    });
                                    $("#id_cusShipCountry").empty().append(countryAppendValues);
                                     var country = $("#id_cusShipCountry").val();

                                    if(country == ''){
                                        var stateAppendValues = "<option value=''>Select</option>";
                                        $("#id_cusShipState").empty().append(stateAppendValues);
                                    }
                                    else{
                                     $.ajax({
                                        url: "/load-states",
                                        data: {
                                        "country_id": country
                                        },
                                        success: function (data) {
                                            var states = JSON.parse(data.states);
                                            var stateAppendValues = "<option value=''>Select</option>";
                                            $.each(states, function (key, val) {
                                            stateAppendValues = stateAppendValues +"<option value="+val.pk+">"+val.fields.stateName+"</option>";
                                            });
                                            $("#id_cusShipState").empty().append(stateAppendValues);
                                        }
                                        });
                                        }
                                    }
                                });

                        $('#id_cusShipAddress_Line1').val('');
                        $('#id_cusShipUnit1').val('');
                        $('#id_cusShipUnit2').val('');
                        $('#id_cusShipAddress_Line2').val('');

                        $('#id_cusShipState').val('');
                        $('#id_cusShipPostalCode').val('');
                    }
            });

            $(document).on('click', '#id_supSameAddress', function() {
                if ($('#id_supSameAddress').is(":checked"))
                    {
                          var country = $("#id_supCountry").val();
                          var address_Line1 = $("#id_supAddress_Line1").val();
                          var unit1 = $("#id_supUnit1").val();
                          var unit2 = $("#id_supUnit2").val();
                          var address_Line2 = $("#id_supAddress_Line2").val();
                          var state = $("#id_supState").val();
                          var postalCode = $("#id_supPostalCode").val();
                              $("#id_supShipCountry").prop("disabled",true);
                              $("#id_supShipAddress_Line1").prop("disabled",true);
                              $("#id_supShipUnit1").prop("disabled",true);
                              $("#id_supShipUnit2").prop("disabled",true);
                              $("#id_supShipAddress_Line2").prop("disabled",true);
                              $("#id_supShipState").prop("disabled",true);
                              $("#id_supShipPostalCode").prop("disabled",true);
                            $('#id_supShipCountry').find('option[value="'+country+'"]').attr("selected",true);
                            $('#id_supShipAddress_Line1').val(address_Line1);
                            $('#id_supShipUnit1').val(unit1);
                            $('#id_supShipUnit2').val(unit2);
                            $('#id_supShipAddress_Line2').val(address_Line2);

                                    $.ajax({
                                    url: "/load-states",
                                    data: {
                                    "country_id": country
                                    },
                                    success: function (data) {
                                        var states = JSON.parse(data.states);

                                        var stateAppendValues = "<option value=''>Select</option>";
                                        $.each(states, function (key, val) {
                                        stateAppendValues = stateAppendValues + "<option value="+val.pk+">"+val.fields.stateName+"</option>";
                                        });
                                        $("#id_supShipState").empty().append(stateAppendValues);
                                        $('#id_supShipState').find('option[value="'+state+'"]').attr("selected",true);
                                    }
                                    });
                            $('#id_supShipPostalCode').val(postalCode);
					}
                    else{
                          $("#id_supShipCountry").prop("disabled",false);
                          $("#id_supShipAddress_Line1").prop("disabled",false);
                          $("#id_supShipUnit1").prop("disabled",false);
                          $("#id_supShipUnit2").prop("disabled",false);
                          $("#id_supShipAddress_Line2").prop("disabled",false);
                          $("#id_supShipState").prop("disabled",false);
                          $("#id_supShipPostalCode").prop("disabled",false);
                        $.ajax({
                                url: "/load-country",
                                success: function (data) {
                                    var country = JSON.parse(data.country);
                                    var countryAppendValues = "<option value=''>Select</option>";
                                    $.each(country, function (key, val) {
                                    countryAppendValues = countryAppendValues +"<option value="+val.pk+">"+val.fields.countryName+"</option>";

                                    });
                                    $("#id_supShipCountry").empty().append(countryAppendValues);
                                     var country = $("#id_cusShipCountry").val();

                                    if(country == ''){
                                        var stateAppendValues = "<option value=''>Select</option>";
                                        $("#id_supShipState").empty().append(stateAppendValues);
                                    }
                                    else{
                                     $.ajax({
                                        url: "/load-states",
                                        data: {
                                        "country_id": country
                                        },
                                        success: function (data) {
                                            var states = JSON.parse(data.states);
                                            var stateAppendValues = "<option value=''>Select</option>";
                                            $.each(states, function (key, val) {
                                            stateAppendValues = stateAppendValues +"<option value="+val.pk+">"+val.fields.stateName+"</option>";
                                            });
                                            $("#id_supShipState").empty().append(stateAppendValues);
                                        }
                                        });
                                        }
                                    }
                                });

                        $('#id_supShipAddress_Line1').val('');
                        $('#id_supShipUnit1').val('');
                        $('#id_supShipUnit2').val('');
                        $('#id_supShipAddress_Line2').val('');

                        $('#id_supShipState').val('');
                        $('#id_supShipPostalCode').val('');
                    }
            });
            window.scrollTo(0,0);
            window.document.body.scrollTop++;
    });
        $(document).on('click', '#id_cusSameEmail', function() {
        if ($('#id_cusSameEmail').is(":checked"))
        {
         var email = $("#id_cusEmail").val();
          var atposition=email.indexOf("@");
         var dotposition=email.lastIndexOf(".");
            if (email == "" || atposition<1||dotposition<atposition+2||dotposition+2>email.length){
               $('#cusAlterNateEmailError').empty();
               $('#cusAlterNateEmailError').css("color","red");
               $('#cusAlterNateEmailError').append('Please enter valid email id');
               return false;
            }else{
             $('#cusAlterNateEmailError').empty();
            $('#id_cusAlterNateEmail').val(email);
            $('#id_cusAlterNateEmail').prop('disabled', true);
            }
        }
        else{
        $('#id_cusAlterNateEmail').val('');
        $('#id_cusAlterNateEmail').prop('disabled', false);
        }
});
$(document).on('click', '#id_supSameEmail', function() {
        if ($('#id_supSameEmail').is(":checked"))
        {
         var email = $("#id_supEmail").val();
         var atposition=email.indexOf("@");
         var dotposition=email.lastIndexOf(".");
         if (email == "" || atposition<1||dotposition<atposition+2||dotposition+2>email.length){
               $('#supAlterNateEmailError').empty();
               $('#supAlterNateEmailError').css("color","red");
               $('#supAlterNateEmailError').append('Please enter valid email id');
               return false;
            }else{
             $('#supAlterNateEmailError').empty();
            $('#id_supAlterNateEmail').val(email);
            $('#id_supAlterNateEmail').prop('disabled', true);
            }
        }
        else{
        $('#id_supAlterNateEmail').val('');
        $('#id_supAlterNateEmail').prop('disabled', false);
        }
});
  $(function() {
        $('.buyModuleMenuListAnchor').on( 'click', function() {
              var id = $(this).attr('id');
              $('.buyModuleMenuListAnchor').removeClass('activeClass');
              $('#'+id+'').addClass('activeClass');
        });
  });

  $(document).on('keypress', '#id_cusContactNo,#id_supContactNo,#id_measurementDimension', function(event) {

             //if the letter is not digit then display error and don't type anything
             if (event.which != 8 && event.which != 0 && (event.which < 48 || event.which > 57)) {
                //display error message

                       return false;
            }
           });

   $(document).on('change', '#id_cusEmail,#id_supEmail,#id_supAlterNateEmail,#id_cusAlterNateEmail', function() {
        var id = $(this).attr('id');
        if(id == "id_cusEmail"){
            var mail=document.getElementById("id_cusEmail").value;
            var errorId = '#emailError';
        }
        else if(id == "id_supEmail") {
            var mail=document.getElementById("id_supEmail").value;
             var errorId = '#supEmailError';
        }else if(id == "id_supAlterNateEmail"){
            var mail=document.getElementById("id_supAlterNateEmail").value;
             var errorId = '#supAlterNateEmailError';
        }else{
            var mail=document.getElementById("id_cusAlterNateEmail").value;
             var errorId = '#cusAlterNateEmailError';
        }
        var atposition=mail.indexOf("@");
        var dotposition=mail.lastIndexOf(".");
        $(errorId).empty();
        if(atposition<1||dotposition<atposition+2||dotposition+2>mail.length)
        {
          $(errorId).css("color","red");
          $(errorId).append('Please enter valid email id');
          return false;
        }
   });

   $(document).on('change', '#id_purchasingPrice', function() {
        if($('#id_purchasingPrice').val() == 0){
         $("#id_purchasingPrice").val('');
        alert('Purchase Price should not be Zero');
         $('#'+this.id+'').focus();
        }
    });
    $(document).on('change', '#id_salesPriceUnit', function() {
        if($('#id_salesPriceUnit').val() == 0){
        $("#id_salesPriceUnit").val('');
        alert('price unit should not be Zero');
        $('#'+this.id+'').focus();
        }
    });
    $(document).on('change', '#id_salesPrice', function() {
        if($('#id_salesPrice').val() == 0){
        $("#id_salesPrice").val('');
        alert('selling price should not be Zero');
        $('#'+this.id+'').focus();
        }
    });
    $(document).on('change', '#id_purchasingPriceUnit', function() {
            if($('#id_purchasingPriceUnit').val() == 0){
            $("#id_purchasingPriceUnit").val('');
            alert('price unit should not be Zero');
            $('#'+this.id+'').focus();
            }
        });


   $(document).on('change', '#id_supCommunicationEmail', function() {
        var mail=document.getElementById("id_supCommunicationEmail").value;
        var atposition=mail.indexOf("@");
        var dotposition=mail.lastIndexOf(".");
        $('#supCommunicationEmailError').empty();
        if(atposition<1||dotposition<atposition+2||dotposition+2>mail.length)
        {
          $('#supCommunicationEmailError').css("color","red");
          $('#supCommunicationEmailError').append('Please enter valid email id');
          return false;
        }
   });

$(document).on('change', '#id_cusCommunicationEmail', function() {
        var mail=document.getElementById("id_cusCommunicationEmail").value;
        var atposition=mail.indexOf("@");
        var dotposition=mail.lastIndexOf(".");
        $('#cusCommunicationEmailError').empty();
        if(atposition<1||dotposition<atposition+2||dotposition+2>mail.length)
        {
          $('#cusCommunicationEmailError').css("color","red");
          $('#cusCommunicationEmailError').append('Please enter valid email id');
          return false;
        }
   });

  $(document).on('click', '.customerManual', function() {
        var submodule = $(this).attr('id').split("_");
        if (submodule.length == 2) {
            var module = 'product';
        }
        else if ((submodule.length == 5 && submodule[4] == 'C') || (submodule.length == 4 && submodule[3] == 'C')) {
            var module = 'customer';
        }
        else if ((submodule.length == 5 && submodule[4] == 'S') || (submodule.length == 4 && submodule[3] == 'S')) {
            var module = 'supplier';
        }
        var customerFormArray = ['basicDataDetail','companyAddressDetail','shippingAddressDetail'];
        var productFormArray = ['basicDataDetail','purchaseInfoDetail','salesInfoDetail','measurementDetail','storageDetail','parameterDetail'];
        var customerTabHeadArray = ['basicData_Detail_Btn_C','companyAddress_basicData_Detail_Btn_C','shippingAddress_companyAddress_Detail_Btn_C'];
        var supplierTabHeadArray = ['basicData_Detail_Btn_S','companyAddress_basicData_Detail_Btn_S','shippingAddress_companyAddress_Detail_Btn_S'];
        var productTabHeadArray = ['basicData_p','purchaseInfo_p','salesInfo_p','measurement_p','storage_p','parameter_p'];
        var formArray, tabArray;
        if (module == 'product') {
            formArray = productFormArray;
            tabArray = productTabHeadArray;
        }
        else if (module == 'customer') {
            formArray = customerFormArray;
            tabArray = customerTabHeadArray;
        }
        else if (module == 'supplier') {
            formArray = customerFormArray;
            tabArray = supplierTabHeadArray;
        }
        var currentIndex = formArray.indexOf(submodule[0]+'Detail');
        if (currentIndex > 0) {
            var formStatus = showHideForm(module, currentIndex, formArray, tabArray);
            if(formStatus == 'true') {
                addShowHideForm(submodule[0], $(this).attr('id'));
                removeAddTabStyles(module, currentIndex);
            }
        }
        else if (currentIndex == 0) {
            addShowHideForm(submodule[0], $(this).attr('id'));
            removeAddTabStyles(module, currentIndex);
        }
  });

  function removeAddTabStyles(module, currentIndex) {
    var mod;
    if (module == 'customer') {
        mod = 'C';
        $('.tabOption').removeClass('tabOptionActive');
        $('#tabOption'+currentIndex+'_'+mod+'').addClass('tabOptionActive');
    }
    else if (module == 'supplier') {
        mod = 'S';
        $('.tabOption').removeClass('tabOptionActive');
        $('#tabOption'+currentIndex+'_'+mod+'').addClass('tabOptionActive');
    }
    else if (module == 'product') {
        mod = 'P';
        var moduleSkip = $('#id_productDetail').val();
        if(moduleSkip == 'Both'){
            $('.tabOption').removeClass('tabOptionActive');
            $('#tabOption'+currentIndex+'_'+mod+'').addClass('tabOptionActive');
        }
        else if(moduleSkip == 'Purchase'){
            $("#tabOption2_P").css("pointer-events","none");
            $("#tabOption1_P").css("pointer-events","auto");
            $('.tabOption').removeClass('tabOptionActive');
            $('#tabOption'+currentIndex+'_'+mod+'').addClass('tabOptionActive');

        }
        else if(moduleSkip == 'Sale'){
            $("#tabOption1_P").css("pointer-events","none");
            $("#tabOption2_P").css("pointer-events","auto");
            $('.tabOption').removeClass('tabOptionActive');
            $('#tabOption'+currentIndex+'_'+mod+'').addClass('tabOptionActive');
        }
    }

  }

  function addShowHideForm(form, tabId) {
    $('.customerManualForm').hide();
    $('#'+form+'Detail').show();
    $('.customerManual').removeClass('uploadActive');
    $('#'+tabId+'').addClass('uploadActive');
  }

  function showHideForm(module, currentIndex, customerFormArray, tabHeadArray) {
    var formResponse;
    if(module == 'product'){
        for (i = 0; i < currentIndex; i++) {
            if($("#"+customerFormArray[i]+" .required").length >= 1 ){
                $("#"+customerFormArray[i]+" .required").each(function() {

                            if (this.value != '') {
                                formResponse = 'true';
                            }
                            else {
                                formResponse = 'false';
                                $('.customerManualForm').hide();
                                $('#'+customerFormArray[i]+'').show();
                                $('.customerManual').removeClass('uploadActive');
                                $('#'+tabHeadArray[i]+'').addClass('uploadActive');
                                $('#'+this.id+'').focus();
                                return false;
                            }

                })
                if (formResponse == 'false') {
                    return false;
                }
            }
            else{
                formResponse = 'true';
            }
        }
    }
    else{
        for (i = 0; i < currentIndex; i++) {
            $("#"+customerFormArray[i]+" input, #"+customerFormArray[i]+" select").each(function() {

                        if (this.value) {
                            formResponse = 'true';
                        }
                        else {
                            formResponse = 'false';
                            $('.customerManualForm').hide();
                            $('#'+customerFormArray[i]+'').show();
                            $('.customerManual').removeClass('uploadActive');
                            $('#'+tabHeadArray[i]+'').addClass('uploadActive');
                            $('#'+this.id+'').focus();
                            return false;
                        }

            })
            if (formResponse == 'false') {
                return false;
            }
        }
    }
    return formResponse;
  }

 $(document).on('keypress', '#id_supPostalCode,#id_cusPostalCode', function(event) {
    if ((event.which < 48 || event.which > 57)&&(event.which < 65 || event.which > 90)&&(event.which < 97 || event.which > 122)&&(event.which != 32)) {
                    event.preventDefault();
    }
            });



  $(document).on('click', '.cfNextBtn', function() {

         var customerType = $("#id_type").val();
         if(customerType == undefined){
                 var idCheck = $(this).attr('id');
                 var btnId = $(this).attr('id').split('_');

                 var module = 'customer';
                 if (btnId[5] == 'S') {
                    module = 'supplier';
                 }

                 var formStatus;
                 if(idCheck=='companyAddress_basicData_Detail_N_Btn_C'){
                        var emailError = $('#emailError').html();
                        var alterNateEmailError = $('#cusAlterNateEmailError').html();
                        var communicationEmailError = $('#cusCommunicationEmailError').html();
                        if(emailError !== ''){
                            var email = $("#id_cusEmail").val();
                            var errorFocus = '#id_cusEmail';
                            $(errorFocus).focus();
                            return false;
                        }
                        else if(alterNateEmailError !== ''){
                            var email = $("#id_cusAlterNateEmail").val();
                            var errorFocus = '#id_cusAlterNateEmail';
                            $(errorFocus).focus();
                            return false;
                        }
                        else if(communicationEmailError !== ''){
                            var email = $("#id_cusCommunicationEmail").val();
                            var errorFocus = '#id_cusCommunicationEmail';
                            $(errorFocus).focus();
                            return false;
                        }

                    }
                    else if(idCheck=='shippingAddress_companyAddress_Detail_N_Btn_C'){
                        var emailError = $('#emailError').html();
                        var email = $("#id_cusEmail").val();
                        var errorFocus = '#id_cusEmail';
                    }
                    else{
                        var emailError = $('#supEmailError').html();
                        var alterNateEmailError = $('#supAlterNateEmailError').html();
                        var communicationEmailError = $('#supCommunicationEmailError').html();
                        if(emailError !== ''){
                            var email = $("#id_supEmail").val();
                            var errorFocus = '#id_supEmail';
                            $(errorFocus).focus();
                            return false;
                        }
                        else if(alterNateEmailError !== ''){
                            var email = $("#id_supAlterNateEmail").val();
                            var errorFocus = '#id_supAlterNateEmail';
                            $(errorFocus).focus();
                            return false;
                        }
                        else if(communicationEmailError !== ''){
                            var email = $("#id_supCommunicationEmail").val();
                            var errorFocus = '#id_supCommunicationEmail';
                            $(errorFocus).focus();
                            return false;
                        }
                    }

                if(emailError !== ''){
                    $(errorFocus).focus();
                    return false;
                }

                $("#"+btnId[1]+"Detail input").each(function() {
                    if (this.value != '') {
                        $("#"+btnId[1]+"Detail select").each(function() {
                            if (this.value != '') {
                                formStatus = true;
                            }
                            else {
                                formStatus = false;
                                $('#'+this.id+'').focus();
                                return false;
                            }
                        });
                    }
                    else {
                        formStatus = false;
                        $('#'+this.id+'').focus();
                        return false;
                    }
                })
                if (formStatus == true) {
                    $('.customerManual').removeClass('uploadActive');
                    var index = 0;
                    if (btnId[0] == 'companyAddress') {
                        index = 1;
                    }
                    else if (btnId[0] == 'shippingAddress'){
                        index = 2;
                    }
                    $('#'+btnId[0]+'_'+btnId[1]+'_'+btnId[2]+'_'+btnId[4]+'_'+btnId[5]).addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[2]+'').show();
                    removeAddTabStyles(module, index);
                }
            }
            else{

                var btnId = $(this).attr('id').split('_');
                var formStatus;
                var moduleSkip = $('#id_productDetail').val();
                var module = 'product';

                if(moduleSkip == 'Both'){

                if($("#"+btnId[1]+"Detail .required").length >= 1){
                $("#"+btnId[1]+"Detail .required").each(function() {

                            if (this.value != '') {
                                formStatus = true;
                            }
                            else {
                                formStatus = false;
                                $('#'+this.id+'').focus();
                                return false;
                            }
                })
                }
                else{
                    formStatus = true;
                }
                if (formStatus == true) {
                    $('.customerManual').removeClass('uploadActive');
                    var index = 0;
                    if (btnId[0] == 'purchaseInfo') {
                        index = 1;
                    }
                    else if (btnId[0] == 'salesInfo') {
                        index = 2;
                    }
                    else if (btnId[0] == 'measurement') {
                        index = 3;
                    }
                    else if (btnId[0] == 'storage') {
                        index = 4;
                    }
                    else if (btnId[0] == 'parameter') {
                        index = 5;
                    }
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+'Detail').show();
                    removeAddTabStyles(module, index);
                }

                }

                else if(moduleSkip == 'Purchase'){
                    if($("#"+btnId[1]+"Detail .required").length >= 1){
                        $("#"+btnId[1]+"Detail .required").each(function() {

                                    if (this.value != '') {
                                        formStatus = true;
                                    }
                                    else {
                                        formStatus = false;
                                        $('#'+this.id+'').focus();
                                        return false;
                                    }
                        })
                        }
                    else{
                        formStatus = true;
                    }
                    if (formStatus == true) {
                        $('.customerManual').removeClass('uploadActive');
                        var index = 0;
                        if (btnId[0] == 'purchaseInfo') {
                            index = 1;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'salesInfo') {
                            index = 3;
                             $('#measurement_p').addClass('uploadActive');
                             $('#'+btnId[0]+'Detail input').removeClass('required');
                             $('#'+btnId[0]+'Detail select').removeClass('required');
                             $('.customerManualForm').hide();
                             $('#measurementDetail').show();
                        }
                        else if (btnId[0] == 'measurement') {
                            index = 3;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'storage') {
                            index = 4;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'parameter') {
                            index = 5;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        removeAddTabStyles(module, index);
                    }
                }

                else if(moduleSkip == 'Sale'){
                    if($("#"+btnId[1]+"Detail .required").length >= 1){
                        $("#"+btnId[1]+"Detail .required").each(function() {

                                    if (this.value != '') {
                                        formStatus = true;
                                    }
                                    else {
                                        formStatus = false;
                                        $('#'+this.id+'').focus();
                                        return false;
                                    }
                        })
                        }
                    else{
                        formStatus = true;
                    }
                    if (formStatus == true) {
                        $('.customerManual').removeClass('uploadActive');
                        var index = 0;
                        if (btnId[0] == 'purchaseInfo') {
                            index = 2;
                             $('#salesInfo_p').addClass('uploadActive');
                             $('#'+btnId[0]+'Detail input').removeClass('required');
                             $('#'+btnId[0]+'Detail select').removeClass('required');
                             $('.customerManualForm').hide();
                             $('#salesInfoDetail').show();
                        }
                        else if (btnId[0] == 'salesInfo') {
                            index = 2;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'measurement') {
                            index = 3;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'storage') {
                            index = 4;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        else if (btnId[0] == 'parameter') {
                            index = 5;
                             $('#'+btnId[0]+'_p').addClass('uploadActive');
                             $('.customerManualForm').hide();
                             $('#'+btnId[0]+'Detail').show();
                        }
                        removeAddTabStyles(module, index);
                    }
                }

            }
    });

    $(document).on('click', '.cfBackBtn', function() {
        var btnId = $(this).attr('id').split('_');
        $('.customerManual').removeClass('uploadActive');
        var moduleSkip = $('#id_productDetail').val();
        if(moduleSkip == 'Both'){
            if (btnId.length == 3) {
                var module = 'product';
                var index = 0;
                if (btnId[0] == 'purchaseInfo') {
                    index = 1;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'salesInfo') {
                    index = 2;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'measurement') {
                    index = 3;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'storage') {
                    index = 4;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                removeAddTabStyles(module, index);
            }
            else if (btnId.length == 5 && btnId[0] == 'companyAddress') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_basicData_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 1);
            }
            else if (btnId.length == 5 && btnId[0] == 'basicData') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 0);
            }
        }

        else if(moduleSkip == 'Purchase'){
            if (btnId.length == 3) {
                var module = 'product';
                var index = 0;
                 if (btnId[0] == 'basicData') {
                    index = 0;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'purchaseInfo') {
                    index = 1;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'salesInfo') {
                    index = 1;
                    $('#purchaseInfo_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#purchaseInfoDetail').show();
                }
                else if (btnId[0] == 'measurement') {
                    index = 3;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'storage') {
                    index = 4;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }

                removeAddTabStyles(module, index);
            }
            else if (btnId.length == 5 && btnId[0] == 'companyAddress') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_basicData_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 1);
            }
            else if (btnId.length == 5 && btnId[0] == 'basicData') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 0);
            }
        }

       else if(moduleSkip == 'Sale'){
            if (btnId.length == 3) {
                var module = 'product';
                var index = 0;
                if (btnId[0] == 'purchaseInfo') {
                    index = 0;
                    $('#basicData_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#basicDataDetail').show();
                }
                else if (btnId[0] == 'salesInfo') {
                    index = 2;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'measurement') {
                    index = 3;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }
                else if (btnId[0] == 'storage') {
                    index = 4;
                    $('#'+btnId[0]+'_p').addClass('uploadActive');
                    $('.customerManualForm').hide();
                    $('#'+btnId[0]+''+btnId[1]+'').show();
                }

                removeAddTabStyles(module, index);
            }
            else if (btnId.length == 5 && btnId[0] == 'companyAddress') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_basicData_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 1);
            }
            else if (btnId.length == 5 && btnId[0] == 'basicData') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                removeAddTabStyles(module, 0);
            }
        }
        else{

             if (btnId.length == 5 && btnId[0] == 'companyAddress') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_basicData_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                $('.customerManualForm').hide();
                $('#'+btnId[0]+''+btnId[1]+'').show();
                removeAddTabStyles(module, 1);
            }
            else if (btnId.length == 5 && btnId[0] == 'basicData') {
                var module = 'customer';
                if (btnId[4] == 'S') {
                    module = 'supplier';
                }
                $('#'+btnId[0]+'_'+btnId[1]+'_'+btnId[3]+'_'+btnId[4]).addClass('uploadActive');
                $('.customerManualForm').hide();
                $('#'+btnId[0]+''+btnId[1]+'').show();
                removeAddTabStyles(module, 0);
            }

        }

    });

    $(document).on('change', '#customerFileUpload', function() {
      var fileFormat = $('#customerFileUpload').val().split('.').pop();
      if (fileFormat == 'csv') {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",true);
        $('#upload_success_msg').append($('input[name=customerFileUpload]').val().replace(/.*(\/|\\)/, ''));
      }
      else {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",false);
        $('#upload_error_msg').append('Please upload only csv format');
      }
    });

$(document).on('change', '#productFileUpload', function() {
      var fileFormat = $('#productFileUpload').val().split('.').pop();
      if (fileFormat == 'xlsx') {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",true);
        $('#upload_success_msg').append($('input[name=productFileUpload]').val().replace(/.*(\/|\\)/, ''));
      }
      else {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",false);
        $('#upload_error_msg').append('Please upload only xlsx format');
      }
    });

    $(document).on('click', '#dragDropDiv', function() {
        $("#customerFileUpload").click();

    });
    $(document).on('click', '#productDragDropDiv', function() {
        $("#productFileUpload").click();

    });
    $(document).on('keyup', '#googleLink', function() {
        if ($('#googleLink').val() != '') {
            $("#dragDropDiv").css("pointer-events","none");
            $("#dragDropDiv").css("background","#ccc");
        }
        else if ($('#googleLink').val() == '') {
            $("#dragDropDiv").css("pointer-events","auto");
            $("#dragDropDiv").css("background","#fff");
        }
    });

    $(document).on('keypress', 'input[type=email]', function(event) {
           if ((event.which < 33 || event.which > 43)&&(event.which < 45 || event.which > 126)) {
                event.preventDefault();
            }
    });

    function drop(event) {
      event.stopPropagation();
      event.preventDefault();
      var input = document.getElementById("customerFileUpload");
      input.files = event.dataTransfer.files; //It returns a FileList object
      var fileFormat = $('#customerFileUpload').val().split('.').pop();
      if (fileFormat == 'csv') {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",true);
        $('#upload_success_msg').append($('input[name=customerFileUpload]').val().replace(/.*(\/|\\)/, ''));
      }
      else {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",false);
        $('#upload_error_msg').append('Please upload only csv format');
      }
    }

function dropProduct(event) {
      event.stopPropagation();
      event.preventDefault();
      var input = document.getElementById("productFileUpload");
      input.files = event.dataTransfer.files; //It returns a FileList object
      var fileFormat = $('#productFileUpload').val().split('.').pop();
      if (fileFormat == 'xlsx') {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",true);
        $('#upload_success_msg').append($('input[name=productFileUpload]').val().replace(/.*(\/|\\)/, ''));
      }
      else {
        $('#upload_success_msg').empty();
        $('#upload_error_msg').empty();
        $("#googleLink").prop("disabled",false);
        $('#upload_error_msg').append('Please upload only xlsx format');
      }
    }

    $('.tabOption').on('click', function() {
        alert('1'+$(this).attr('id'));
    });
</script>
{% endblock %}